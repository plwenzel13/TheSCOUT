var DvtGauge=function(){};DvtObj.createSubclass(DvtGauge,DvtBaseComponent,"DvtGauge");DvtGauge._DEFAULT_MIN_VALUE=0;DvtGauge._DEFAULT_MAX_VALUE=100;
DvtGauge.prototype.Init=function(a,b,c,d){DvtGauge.superclass.Init.call(this,a,b,c);this._bStaticRendering=d;this._bStaticRendering||(this._eventManager=this.CreateEventManager(),this._eventManager.addListeners(this),DvtAgent.isTouchDevice()||this._eventManager.setKeyboardHandler(this.CreateKeyboardHandler(this._eventManager)),this.setId("gauge1000"+Math.floor(1E9*Math.random())),this._editingOverlay=new DvtRect(a,0,0),this._editingOverlay.setInvisibleFill(),this.addChild(this._editingOverlay));this._bEditing=
!1;this._oldValue=null};DvtGauge.prototype.SetOptions=function(a){this.Options=a;DvtAgent.isEnvironmentBrowser()||(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")};
DvtGauge.prototype.render=function(a,b,c){a?this.SetOptions(a):this.Options||this.SetOptions(null);this.Options.thresholds&&(this.Options.thresholds=this.Options.thresholds.sort(DvtGauge._thresholdComparator));isNaN(b)||isNaN(c)||(this.Width=b,this.Height=c);c=this.__shapes;this.__shapes=[];b=new DvtContainer(this.getCtx());this.addChildAt(b,0);this.Render(b,this.Width,this.Height);this._setAnimation(b,null!=a,c,this.Width,this.Height);this._editingOverlay&&(this._editingOverlay.setWidth(this.Width),
this._editingOverlay.setHeight(this.Height),this.__getEventManager().associate(this._editingOverlay,this.__getLogicalObject(),!0));this._bStaticRendering||this.Options.readOnly||(b.setAriaRole("slider"),b.setAriaProperty("valuemin",this.Options.min),b.setAriaProperty("valuemax",this.Options.max),a=DvtGaugeRenderer.getFormattedMetricLabel(this.Options.value,this),b.setAriaProperty("valuenow",a),c=DvtGaugeRenderer.getTooltipString(this),DvtAgent.isTouchDevice()&&(this._container.setAriaProperty("live",
"assertive"),a!=c&&(c=a+DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"ARIA_LABEL_DESC_DELIMITER")+c)),a!=c&&b.setAriaProperty("label",c),this._renderCount=null!=this._renderCount?this._renderCount+1:0,a=this.getId()+"_"+this._renderCount,b.setId(a),this.getCtx().setActiveElement(b));this.Options._selectingCursor&&this.setCursor(DvtSelectionEffectUtils.getSelectingCursor());this.UpdateAriaAttributes()};
DvtGauge.prototype.__getLogicalObject=function(){var a=DvtGaugeRenderer.getTooltipString(this),b=DvtGaugeStyleUtils.getColor(this);return new DvtSimpleObjPeer(null,a,b)};DvtGauge.prototype.Render=function(a,b,c){};
DvtGauge.prototype._setAnimation=function(a,b,c,d,e){this._animation&&this._animation.stop();var g=!1,h=this._bEditing?"none":this.getOptions().animationOnDataChange,k=this._bEditing?"none":this.getOptions().animationOnDisplay,m=DvtStyleUtils.getTimeMilliseconds(this.getOptions().animationDuration)/1E3;if(k||h)d=new DvtRectangle(0,0,d,e),e=this.getCtx(),this._container||"none"===k||null==this.__shapes[0]?this._container&&"none"!=h&&b&&null!=this.__shapes[0]&&((this._animation=DvtBlackBoxAnimationHandler.getCombinedAnimation(e,
h,this._container,a,d,m))?g=!0:this._animation=this.CreateAnimationOnDataChange(c,this.__shapes,k,m)):(this._animation=DvtBlackBoxAnimationHandler.getInAnimation(e,k,a,d,m),this._animation||(this._animation=this.CreateAnimationOnDisplay(this.__shapes,k,m))),g||this.removeChild(this._container),this._animation&&(this._animation.play(),this._animation.setOnEnd(this._onAnimationEnd,this)),g&&(this._oldContainer=this._container),this._container=a};
DvtGauge.prototype.CreateAnimationOnDisplay=function(a,b,c){return null};DvtGauge.prototype.CreateAnimationOnDataChange=function(a,b,c,d){c=[];for(var e=0;e<a.length;e++){var g=b[e],h=a[e].getAnimationParams(),k=g.getAnimationParams();g.setAnimationParams(h);h=new DvtCustomAnimation(this.getCtx(),g,d);h.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,g,g.getAnimationParams,g.setAnimationParams,k);c.push(h)}return new DvtParallelPlayable(this.getCtx(),c)};
DvtGauge.prototype.GetValueAt=function(a,b){return null};DvtGauge.prototype.renderUpdate=function(){this.render();this.UpdateAriaLiveValue(this._container)};DvtGauge.prototype.UpdateAriaLiveValue=function(a,b){b=DvtGaugeRenderer.getFormattedMetricLabel(b?b:this.Options.value,this);a.setAriaProperty("valuenow",b);DvtAgent.isTouchDevice()&&a.setAriaProperty("label",b)};
DvtGauge.prototype._onAnimationEnd=function(){this._oldContainer&&(this.removeChild(this._oldContainer),this._oldContainer=null);this._animation=null};DvtGauge.prototype.__getEventManager=function(){return this._eventManager};DvtGauge.prototype.__processValueChangeStart=function(a,b){this._bEditing=!0;this._oldValue=this.Options.value;this.__processValueChangeMove(a,b)};
DvtGauge.prototype.__processValueChangeMove=function(a,b){null!=this._oldValue&&(this.Options.value=DvtGaugeRenderer.adjustForStep(this.Options,this.GetValueAt(a,b)),this.renderUpdate(),this.__dispatchEvent(new DvtValueChangeEvent(this._oldValue,this.Options.value,!1)))};
DvtGauge.prototype.__processValueChangeEnd=function(a,b){this.__processValueChangeMove(a,b);if(DvtAgent.isTouchDevice()){var c=DvtGaugeRenderer.getFormattedMetricLabel(this.Options.value,this),d=DvtGaugeRenderer.getTooltipString(this);c!=d&&(d=c+DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"ARIA_LABEL_DESC_DELIMITER")+d,this._container.setAriaProperty("label",d))}this.__dispatchEvent(new DvtValueChangeEvent(this._oldValue,this.Options.value,!0));this._bEditing=!1;this._oldValue=null};
DvtGauge.prototype.__increaseValue=function(){if(!this.Options.readOnly){var a=this.Options.value;this.Options.value=null!=this.Options.step?DvtGaugeRenderer.adjustForStep(this.Options,this.Options.value+this.Options.step):Math.min(Math.max(this.Options.value+(this.Options.max-this.Options.min)/100,this.Options.min),this.Options.max);this.render();this.__dispatchEvent(new DvtValueChangeEvent(a,this.Options.value,!0))}};
DvtGauge.prototype.__decreaseValue=function(){if(!this.Options.readOnly){var a=this.Options.value;this.Options.value=null!=this.Options.step?DvtGaugeRenderer.adjustForStep(this.Options,this.Options.value-this.Options.step):Math.min(Math.max(this.Options.value-(this.Options.max-this.Options.min)/100,this.Options.min),this.Options.max);this.render();this.__dispatchEvent(new DvtValueChangeEvent(a,this.Options.value,!0))}};DvtGauge.prototype.CreateEventManager=function(){return new DvtGaugeEventManager(this)};
DvtGauge._thresholdComparator=function(a,b){return null!=a.max&&null!=b.max?a.max-b.max:a.max?-Infinity:Infinity};DvtGauge.prototype.getAutomation=function(){return new DvtGaugeAutomation(this)};DvtGauge.prototype.CreateKeyboardHandler=function(a){return new DvtGaugeKeyboardHandler(a,this)};DvtGauge.prototype.GetComponentDescription=function(){return DvtBundle.getTranslation(this.getOptions(),"componentName",DvtBundle.UTIL_PREFIX,"GAUGE")};
DvtGauge.prototype.UpdateAriaAttributes=function(){if(!this._bStaticRendering){var a=DvtGaugeRenderer.getTooltipString(this);this.IsParentRoot()?this.Options.readOnly?(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DATA_VISUALIZATION"),DvtDisplayable.generateAriaLabel(DvtStringUtils.processAriaLabel(this.GetComponentDescription()),a?[a]:null)]))):(this.getCtx().setAriaRole("application"),
this.getCtx().setAriaLabel(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DATA_VISUALIZATION"),DvtStringUtils.processAriaLabel(this.GetComponentDescription())]))):this.Options.readOnly&&(this.setAriaRole("img"),this.setAriaProperty("label",DvtDisplayable.generateAriaLabel(DvtStringUtils.processAriaLabel(this.GetComponentDescription()),a?[a]:null)))}};var DvtGaugeAutomation=function(a){this._gauge=a};
DvtObj.createSubclass(DvtGaugeAutomation,DvtAutomation,"DvtGaugeAutomation");DvtGaugeAutomation.prototype.getDomElementForSubId=function(a){if(a==DvtAutomation.TOOLTIP_SUBID)return this.GetTooltipElement(this._gauge);if(0==a.indexOf("item")){var b=a.indexOf("["),c=a.indexOf("]");if(0<b&&0<c&&(a=a.substring(b+1,c),a=this._gauge.__getRatingGaugeItem(a)))return a.getElem()}return null};DvtGaugeAutomation.prototype.getValue=function(){return this._gauge.getOptions().value};
DvtGaugeAutomation.prototype.getMetricLabel=function(){return DvtGaugeRenderer.getFormattedMetricLabel(this.getValue(),this._gauge)};DvtBundle.addDefaultStrings(DvtBundle.GAUGE_PREFIX,{});var DvtGaugeDefaults=function(){};DvtObj.createSubclass(DvtGaugeDefaults,DvtBaseComponentDefaults,"DvtGaugeDefaults");
DvtGaugeDefaults.SKIN_ALTA={skin:DvtCSSStyle.SKIN_ALTA,color:"#393737",metricLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")},_statusMessageStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"),title:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")},_thresholdColors:["#ed6647","#fad55c","#68c182"]};
DvtGaugeDefaults.VERSION_1={skin:DvtCSSStyle.SKIN_SKYROS,min:0,max:100,color:"#313842",borderColor:null,visualEffects:"auto",emptyText:null,animationOnDataChange:"none",animationOnDisplay:"none",animationDuration:500,readOnly:"true",metricLabel:{rendered:"auto",scaling:"auto",style:new DvtCSSStyle("font-family: tahoma, sans-serif;"),textType:"number"},_statusMessageStyle:new DvtCSSStyle("font-family: tahoma, sans-serif;"),title:{style:new DvtCSSStyle("font-family: tahoma, sans-serif;"),position:"auto"},
_thresholdColors:["#D62800","#FFCF21","#84AE31"],__layout:{outerGap:1,labelGap:5}};DvtGaugeDefaults.prototype.Init=function(a){a={skyros:DvtJSONUtils.merge(a.skyros,DvtGaugeDefaults.VERSION_1),alta:DvtJSONUtils.merge(a.alta,DvtGaugeDefaults.SKIN_ALTA)};DvtGaugeDefaults.superclass.Init.call(this,a)};DvtGaugeDefaults.isSkyrosSkin=function(a){return a.getOptions().skin==DvtCSSStyle.SKIN_SKYROS};var DvtGaugeDataUtils={};DvtObj.createSubclass(DvtGaugeDataUtils,DvtObj,"DvtGaugeDataUtils");
DvtGaugeDataUtils.hasData=function(a){a=a.getOptions();return!a||isNaN(a.value)||null===a.value?!1:!0};DvtGaugeDataUtils.getValueThresholdIndex=function(a,b){var c=a.getOptions(),d=null!=b?b:c.value,c=c.thresholds;if(!c)return-1;for(var e=0;e<c.length;e++)if(d<=c[e].max)return e;return c.length-1};DvtGaugeDataUtils.getThreshold=function(a,b){var c=a.getOptions().thresholds;return c&&0<=b&&b<c.length?c[b]:null};
DvtGaugeDataUtils.getReferenceObject=function(a,b){var c=a.getOptions().referenceLines;return c&&0<=b&&b<c.length?c[b]:null};var DvtGaugeEventManager=function(a){this.Init(a.getCtx(),a.__dispatchEvent,a);this._gauge=a;this.IsMouseEditing=!1};DvtObj.createSubclass(DvtGaugeEventManager,DvtEventManager,"DvtGaugeEventManager");
DvtGaugeEventManager.prototype.OnMouseDown=function(a){!1===this._gauge.getOptions().readOnly?(this.IsMouseEditing=!0,this.hideTooltip(),a=this.GetRelativePosition(a.pageX,a.pageY),this._gauge.__processValueChangeStart(a.x,a.y)):DvtGaugeEventManager.superclass.OnMouseDown.call(this,a)};
DvtGaugeEventManager.prototype.OnMouseUp=function(a){this.IsMouseEditing?(this.IsMouseEditing=!1,a=this.GetRelativePosition(a.pageX,a.pageY),this._gauge.__processValueChangeEnd(a.x,a.y)):DvtGaugeEventManager.superclass.OnMouseUp.call(this,a)};
DvtGaugeEventManager.prototype.OnMouseMove=function(a){if(this.IsMouseEditing){var b=this.GetRelativePosition(a.pageX,a.pageY);this._gauge.__processValueChangeMove(b.x,b.y)}!this.IsShowingTooltipWhileEditing()&&this.IsMouseEditing||DvtGaugeEventManager.superclass.OnMouseMove.call(this,a)};DvtGaugeEventManager.prototype.IsShowingTooltipWhileEditing=function(){return!1};
DvtGaugeEventManager.prototype.PreEventBubble=function(a){if(DvtTouchEvent.TOUCHSTART===a.type&&!1===this._gauge.getOptions().readOnly){this.IsMouseEditing=!0;var b=this.GetRelativePosition(a.touches[0].pageX,a.touches[0].pageY);this._gauge.__processValueChangeStart(b.x,b.y);a.preventDefault()}else DvtTouchEvent.TOUCHMOVE===a.type&&this.IsMouseEditing?(b=this.GetRelativePosition(a.touches[0].pageX,a.touches[0].pageY),this._gauge.__processValueChangeMove(b.x,b.y),a.preventDefault()):DvtTouchEvent.TOUCHEND===
a.type&&this.IsMouseEditing&&(this.IsMouseEditing=!1,b=this.GetRelativePosition(a.changedTouches[0].pageX,a.changedTouches[0].pageY),this._gauge.__processValueChangeEnd(b.x,b.y),a.preventDefault());this.IsMouseEditing&&!this.IsShowingTooltipWhileEditing()||DvtGaugeEventManager.superclass.PreEventBubble.call(this,a)};
DvtGaugeEventManager.prototype.ProcessKeyboardEvent=function(a){if(!this.KeyboardHandler)return!1;this.KeyboardHandler.processKeyDown(a);var b=a.keyCode;if(b==DvtKeyboardEvent.UP_ARROW||b==DvtKeyboardEvent.LEFT_ARROW||b==DvtKeyboardEvent.DOWN_ARROW||b==DvtKeyboardEvent.RIGHT_ARROW||b==DvtKeyboardEvent.TAB)b=this._gauge.getCtx().getStageAbsolutePosition(),this.ProcessObjectTooltip(a,b.x,b.y,this._gauge.__getLogicalObject(),this._gauge);return!1};
DvtGaugeEventManager.prototype.OnBlur=function(a){DvtGaugeEventManager.superclass.OnBlur.call(this,a);this.hideTooltip()};DvtGaugeEventManager.prototype.GetRelativePosition=function(a,b){var c=this.getCtx().pageToStageCoords(a,b);return this._gauge.stageToLocal(c)};DvtGaugeEventManager.prototype.UpdateActiveElement=function(a,b){};DvtGaugeEventManager.prototype.__isMouseEditing=function(){return this.IsMouseEditing};var DvtGaugeKeyboardHandler=function(a,b){this.Init(a,b)};
DvtObj.createSubclass(DvtGaugeKeyboardHandler,DvtKeyboardHandler,"DvtGaugeKeyboardHandler");DvtGaugeKeyboardHandler.prototype.Init=function(a,b){DvtGaugeKeyboardHandler.superclass.Init.call(this,a);this._gauge=b};
DvtGaugeKeyboardHandler.prototype.processKeyDown=function(a){var b=a.keyCode,c=DvtAgent.isRightToLeft(this._gauge.getCtx());if(b==DvtKeyboardEvent.UP_ARROW||b==(c?DvtKeyboardEvent.LEFT_ARROW:DvtKeyboardEvent.RIGHT_ARROW))this._gauge.__increaseValue(),DvtEventManager.consumeEvent(a);else if(b==DvtKeyboardEvent.DOWN_ARROW||b==(c?DvtKeyboardEvent.RIGHT_ARROW:DvtKeyboardEvent.LEFT_ARROW))this._gauge.__decreaseValue(),DvtEventManager.consumeEvent(a)};var DvtGaugeStyleUtils={};
DvtObj.createSubclass(DvtGaugeStyleUtils,DvtObj,"DvtGaugeStyleUtils");DvtGaugeStyleUtils._THRESHOLD_COLOR_RAMP=["#ed6647","#fad55c","#68c182"];DvtGaugeStyleUtils._SKYROS_THRESHOLD_COLOR_RAMP=["#D62800","#FFCF21","#84AE31"];DvtGaugeStyleUtils._SKYROS_THRESHOLD_COLOR_RAMP=["#D62800","#FFCF21","#84AE31"];
DvtGaugeStyleUtils._ALTA_CIRCLE={startAngle:202.5,angleExtent:225,anchorX:100,anchorY:103,metricLabelBounds:{x:80,y:86,width:40,height:34},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:60,majorTickCount:6};DvtGaugeStyleUtils._ALTA_DOME={startAngle:202.5,angleExtent:225,anchorX:100,anchorY:103,metricLabelBounds:{x:83,y:86,width:34,height:34},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:60,majorTickCount:6};
DvtGaugeStyleUtils._ALTA_RECTANGLE={startAngle:202.5,angleExtent:225,anchorX:100,anchorY:103,metricLabelBounds:{x:83,y:86,width:34,height:34},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:60,majorTickCount:6};DvtGaugeStyleUtils._ANTIQUE_CIRCLE={startAngle:220.5,angleExtent:261.1,anchorX:100,anchorY:100,metricLabelBounds:{x:82,y:133,width:36,height:34},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:61,majorTickCount:6};
DvtGaugeStyleUtils._ANTIQUE_DOME={startAngle:195.5,angleExtent:210.8,anchorX:100,anchorY:100,metricLabelBounds:{x:84,y:135,width:32,height:35},indicatorLength:.98,tickLabelHeight:20,tickLabelWidth:30,radius:63,majorTickCount:6};DvtGaugeStyleUtils._ANTIQUE_RECTANGLE={startAngle:207.6,angleExtent:235,anchorX:100,anchorY:95.8,metricLabelBounds:{x:83,y:125,width:34,height:40},indicatorLength:1.05,tickLabelHeight:20,tickLabelWidth:30,radius:64,majorTickCount:6};
DvtGaugeStyleUtils._LIGHT_CIRCLE={startAngle:220.5,angleExtent:261.1,anchorX:100,anchorY:100,metricLabelBounds:{x:80,y:82,width:40,height:40},indicatorLength:.82,tickLabelHeight:20,tickLabelWidth:30,radius:58,majorTickCount:6};DvtGaugeStyleUtils._LIGHT_DOME={startAngle:201,angleExtent:222,anchorX:100.2,anchorY:89,metricLabelBounds:{x:80,y:70,width:41,height:39},indicatorLength:1.23,tickLabelHeight:20,tickLabelWidth:30,radius:56,majorTickCount:6};
DvtGaugeStyleUtils._LIGHT_RECTANGLE={startAngle:211,angleExtent:242,anchorX:100,anchorY:91.445,metricLabelBounds:{x:78,y:75,width:44,height:38},indicatorLength:1.1,tickLabelHeight:20,tickLabelWidth:30,radius:58,majorTickCount:6};DvtGaugeStyleUtils._DARK_CIRCLE={startAngle:220.5,angleExtent:261.5,metricLabelBounds:{x:80,y:82,width:40,height:40},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:60,majorTickCount:6};
DvtGaugeStyleUtils._DARK_DOME={startAngle:201,angleExtent:222,anchorX:100.2,anchorY:89,metricLabelBounds:{x:80,y:73,width:40,height:36},indicatorLength:1.23,tickLabelHeight:20,tickLabelWidth:30,radius:56,majorTickCount:6};DvtGaugeStyleUtils._DARK_RECTANGLE={startAngle:201,angleExtent:222,anchorX:100.2,anchorY:99.5,metricLabelBounds:{x:80,y:83,width:41,height:36},indicatorLength:1.1,tickLabelHeight:20,tickLabelWidth:30,radius:58,majorTickCount:6};DvtGaugeStyleUtils._ANTIQUE_INDICATOR={anchorX:42,anchorY:510};
DvtGaugeStyleUtils._ALTA_INDICATOR={anchorX:187,anchorY:388};DvtGaugeStyleUtils._LIGHT_INDICATOR={anchorX:227,anchorY:425};DvtGaugeStyleUtils._DARK_INDICATOR={anchorX:227,anchorY:425};DvtGaugeStyleUtils.getColor=function(a){var b=a.getOptions(),c=DvtGaugeDataUtils.getValueThresholdIndex(a),d=DvtGaugeDataUtils.getThreshold(a,c);return!d||a instanceof DvtStatusMeterGauge&&!(a instanceof DvtStatusMeterGauge&&"onIndicator"==b.thresholdDisplay)?b.color:DvtGaugeStyleUtils.getThresholdColor(a,d,c)};
DvtGaugeStyleUtils.getBorderColor=function(a){var b=a.getOptions(),c=DvtGaugeDataUtils.getValueThresholdIndex(a);return(c=DvtGaugeDataUtils.getThreshold(a,c))&&c.borderColor&&(!(a instanceof DvtStatusMeterGauge)||a instanceof DvtStatusMeterGauge&&"onIndicator"==b.thresholdDisplay)?c.borderColor:b.borderColor};
DvtGaugeStyleUtils.getPlotAreaColor=function(a){var b=a.getOptions(),c=DvtGaugeDataUtils.getValueThresholdIndex(a),d=DvtGaugeDataUtils.getThreshold(a,c);return!d||a instanceof DvtStatusMeterGauge&&!(a instanceof DvtStatusMeterGauge&&"onIndicator"!=b.thresholdDisplay)?b.plotArea.color:DvtGaugeStyleUtils.getThresholdColor(a,d,c)};DvtGaugeStyleUtils.getThresholdColor=function(a,b,c){if(b.color)return b.color;a=a.getOptions();return a._thresholdColors[c%a._thresholdColors.length]};
DvtGaugeStyleUtils.getDialBackground=function(a){return"rectangleAlta"===a?DvtGaugeStyleUtils._ALTA_RECTANGLE:"domeAlta"===a?DvtGaugeStyleUtils._ALTA_DOME:"circleAntique"===a?DvtGaugeStyleUtils._ANTIQUE_CIRCLE:"rectangleAntique"===a?DvtGaugeStyleUtils._ANTIQUE_RECTANGLE:"domeAntique"===a?DvtGaugeStyleUtils._ANTIQUE_DOME:"circleLight"===a?DvtGaugeStyleUtils._LIGHT_CIRCLE:"rectangleLight"===a?DvtGaugeStyleUtils._LIGHT_RECTANGLE:"domeLight"===a?DvtGaugeStyleUtils._LIGHT_DOME:"circleDark"===a?DvtGaugeStyleUtils._DARK_CIRCLE:
"rectangleDark"===a?DvtGaugeStyleUtils._DARK_RECTANGLE:"domeDark"===a?DvtGaugeStyleUtils._DARK_DOME:DvtGaugeStyleUtils._ALTA_CIRCLE};DvtGaugeStyleUtils.getDialIndicator=function(a){return"needleAntique"===a?DvtGaugeStyleUtils._ANTIQUE_INDICATOR:"needleLight"===a?DvtGaugeStyleUtils._LIGHT_INDICATOR:"needleDark"===a?DvtGaugeStyleUtils._DARK_INDICATOR:DvtGaugeStyleUtils._ALTA_INDICATOR};DvtGaugeStyleUtils.hasTitle=function(a){return!!a.title.text};var DvtGaugeRenderer={};
DvtObj.createSubclass(DvtGaugeRenderer,DvtObj,"DvtGaugeRenderer");
DvtGaugeRenderer.renderEmptyText=function(a,b,c){var d=a.getOptions(),e=d.emptyText;e||(e=DvtBundle.getTranslation(d,"labelNoData",DvtBundle.UTIL_PREFIX,"NO_DATA",null));d=d._statusMessageStyle;d.getStyle("font-size")||d.setStyle("font-size","13px");if(a instanceof DvtStatusMeterGauge){var g=d.getStyle("color");d.setStyle("color",g?g:"#333333")}DvtTextUtils.renderEmptyText(b,e,new DvtRectangle(c.x,c.y,c.w,c.h),a.__getEventManager(),d)};
DvtGaugeRenderer.getFormattedMetricLabel=function(a,b){var c=b.getOptions();return c.metricLabel.text?c.metricLabel.text:DvtGaugeRenderer._formatLabelValue(a,b,c.metricLabel.converter,c.metricLabel.scaling,c.metricLabel.autoPrecision?c.metricLabel.autoPrecision:"on","percent"==c.metricLabel.textType)};
DvtGaugeRenderer.formatTickLabelValue=function(a,b){var c=b.getOptions(),d=null,e="percent"==c.tickLabel.textType;"on"==c.tickLabel.rendered&&c.tickLabel.converter&&(d=c.tickLabel.converter);var g=null;"on"==c.tickLabel.rendered&&c.tickLabel.scaling&&(g=c.tickLabel.scaling);return DvtGaugeRenderer._formatLabelValue(a,b,d,g,c.tickLabel.autoPrecision?c.tickLabel.autoPrecision:"on",e)};
DvtGaugeRenderer._formatLabelValue=function(a,b,c,d,e,g){var h=b.getOptions(),k=null,m=h.min,n=h.max,t=n-m,u=1E3>t?100:1E3,v=null;isNaN(t)||(v=t/u);g&&(a=DvtGaugeRenderer.getFillPercentage(h,h.min,h.max,a,!0),k=b.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:0}));b=new DvtLinearScaleAxisValueFormatter(b.getCtx(),m,n,v,d,e);a=c&&c.getAsString?b.format(a,c):c&&c.format?b.format(a,c):k?b.format(a,k):g?b.format(100*a):b.format(a);return!g||k&&!c?a:String(a)+"%"};
DvtGaugeRenderer.getFillPercentage=function(a,b,c,d,e){a=(d-b)/(a.max-a.min);return a=e?a:Math.min(Math.max(0,a),1)};DvtGaugeRenderer.getTooltipString=function(a){var b=a.getOptions(),c=DvtGaugeDataUtils.getValueThresholdIndex(a),c=DvtGaugeDataUtils.getThreshold(a,c);a=DvtGaugeRenderer.getFormattedMetricLabel(b.value,a);return c&&null!=c.shortDesc?c.shortDesc:null!=b.shortDesc?b.shortDesc:b.title.text?DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[b.title.text,a]):a};
DvtGaugeRenderer.renderLabel=function(a,b,c,d,e,g,h){var k=a.getOptions(),m=!1;if("on"==k.metricLabel.rendered||h&&"off"!=k.metricLabel.rendered){h=DvtGaugeRenderer.getFormattedMetricLabel(k.value,a);var m=DvtGaugeRenderer.getFormattedMetricLabel(k.min,a),n=DvtGaugeRenderer.getFormattedMetricLabel(k.max,a);a=new DvtOutputText(a.getCtx(),h,c.x+c.w/2,c.y+c.h/2);a.setCSSStyle(k.metricLabel.style);k=(k=k.metricLabel.style.getStyle("font-size"))?parseInt(k):null;k||(k=DvtGaugeRenderer.calcLabelFontSize([h,
m,n],a,c),a.setTextString(h),a.setFontSize(k));"top"==g?(a.setY(c.y),a.alignTop()):"middle"==g?DvtTextUtils.centerTextVertically(a,c.y+c.h/2):"bottom"==g&&(a.setY(c.y+c.h),a.alignBottom());"center"==e?a.alignCenter():"left"==e?(a.setX(c.x),a.alignLeft()):"right"==e&&(a.setX(c.x+c.w),a.alignRight());null!=d&&a.setSolidFill(d);m=DvtTextUtils.fitText(a,c.w,c.h,b)}return m};
DvtGaugeRenderer.renderTitle=function(a,b,c,d,e){var g=a.getOptions(),h=!1;if(DvtGaugeStyleUtils.hasTitle(g)){var h=g.title.text,k=g.title.style,g=new DvtMultilineText(a.getCtx(),h),m=k.clone();g.setCSSStyle(k);var n=k.getStyle("font-size"),n=n?parseInt(n):null;n||(h=new DvtOutputText(a.getCtx(),h,0,0),h.setCSSStyle(k),n=h.getOptimalFontSize(c),m.setFontSize("font-size",n.toString()));null!=d&&m.setStyle("color",d);g.setCSSStyle(m);h=DvtTextUtils.fitText(g,c.w,c.h,a);a=DvtTextUtils.getTextHeight(g);
"top"==e?g.setY(c.y):"bottom"==e?g.setY(c.y+c.h-a):g.setY(c.y+c.h/2-a/2);g.setX(c.x+c.w/2);g.alignCenter();b.addChild(g)}return h};DvtGaugeRenderer.calcLabelFontSize=function(a,b,c){for(var d=0,e=null,g=0,h=0;h<a.length;h++)b.setTextString(a[h]),g=b.measureDimensions().w,g>d&&(e=a[h],d=g);b.setTextString(e);return b.getOptimalFontSize(c)};
DvtGaugeRenderer.adjustForStep=function(a,b){var c=Number(a.step);if(c&&0<c){var d=(b-a.min)/c;return.5<d?(c=Math.round(d)*c+a.min,Math.max(Math.min(a.max,c),a.min)):a.min}return b};var DvtLedGauge=function(){};DvtObj.createSubclass(DvtLedGauge,DvtGauge,"DvtLedGauge");DvtLedGauge.newInstance=function(a,b,c,d){var e=new DvtLedGauge;e.Init(a,b,c,d);return e};DvtLedGauge.prototype.Init=function(a,b,c,d){DvtLedGauge.superclass.Init.call(this,a,b,c,d);this.Defaults=new DvtLedGaugeDefaults};
DvtLedGauge.prototype.SetOptions=function(a){DvtLedGauge.superclass.SetOptions.call(this,this.Defaults.calcOptions(a));"auto"==this.Options.animationOnDisplay&&(this.Options.animationOnDisplay="zoom");"auto"==this.Options.animationOnDataChange&&(this.Options.animationOnDataChange="alphaFade");this.Options.readOnly=!0};DvtLedGauge.prototype.Render=function(a,b,c){DvtLedGaugeRenderer.render(this,a,b,c)};var DvtLedGaugeDefaults=function(){this.Init({skyros:DvtLedGaugeDefaults.VERSION_1,alta:{}})};
DvtObj.createSubclass(DvtLedGaugeDefaults,DvtGaugeDefaults,"DvtLedGaugeDefaults");DvtLedGaugeDefaults.VERSION_1={type:"circle"};var DvtLedGaugeRenderer={};DvtObj.createSubclass(DvtLedGaugeRenderer,DvtObj,"DvtLedGaugeRenderer");DvtLedGaugeRenderer._SKYROS_SHAPE_TRIANGLE_CMDS="M-42,36.6Q-50,36.6,-46.54,28.6L-4,-43.07Q0,-50,4,-43.07L46.54,28.6Q50,36.6,42,36.6Z";DvtLedGaugeRenderer._SHAPE_TRIANGLE_CMDS=[-50,36.6,0,-50,50,36.6];DvtLedGaugeRenderer._SKYROS_SHAPE_TRIANGLE_INNER_CMDS=[-50,36.6,0,-50,50,36.6];
DvtLedGaugeRenderer._SKYROS_SHAPE_STAR_CMDS=[-13.05,-12.94,-50,-11.13,-21.06,11.9,-30.74,47.6,.1,27.18,31.06,47.44,21.17,11.79,50,-11.39,13.05,-13.01,-.06,-47.59];DvtLedGaugeRenderer._SHAPE_STAR_CMDS=[-50,-11.22,-16.69,-17.94,0,-47.55,16.69,-17.94,50,-11.22,26.69,13.8,30.9,47.56,0,33.42,-30.9,47.56,-26.69,13.8];DvtLedGaugeRenderer._SKYROS_SHAPE_ARROW_CMDS="M0,45L21,45Q24.414,44.414,25,41L25,10L42,10Q48.5,9.1,45,4L2,-38Q0,-39,-2,-38L-45,4Q-48.5,9.1,-42,10L-25,10L-25,41Q-24.414,44.414,-21,45Z";
DvtLedGaugeRenderer._SHAPE_ARROW_CMDS=[25,48,25,8,47.5,8,0,-39,-47.5,8,-25,8,-25,48];DvtLedGaugeRenderer._SKYROS_SHAPE_ARROW_INNER_CMDS=[25,48,25,8,47.5,8,0,-39,-47.5,8,-25,8,-25,48];DvtLedGaugeRenderer._SHAPE_HUMAN_CMDS="M -0.06059525142297417 -50.86842065108466 C -11.4496388584463 -50.86842065108466 -20.708163169810554 -39.024253028220556 -20.708163169810554 -24.413724255650386 C -20.708163169810554 -9.803195483080515 -11.4496388584463 2.040972139783591 -0.06059525142297417 2.040972139783591 C 11.328499974520241 2.040972139783591 20.586972666964613 -9.803195483080515 20.586972666964613 -24.413724255650386 C 20.586972666964613 -39.024253028220556 11.328499974520241 -50.86842065108466 -0.06059525142297417 -50.86842065108466 z M -23.93434565705865 -2.959610715450779 C -30.908061721494278 3.3998402034127153 -42.00096758564793 18.817121073473572 -38.77478509839983 33.65756051481475 C -20.651382358034887 47.30044101688934 14.372054723529814 49.13162219665128 39.298831093003386 32.85101489300273 C 40.26410489318826 16.477493533721187 32.34060070450674 4.7883891459240715 23.167918656763206 -2.959610715450779 C 11.553661702670112 21.074158341552575 -11.029615708066558 16.237465556670102 -23.93434565705865 -2.959610715450779 z ";
DvtLedGaugeRenderer.render=function(a,b,c,d){if(DvtGaugeDataUtils.hasData(a)){var e=a.getOptions(),g=e.__layout.outerGap,h=e&&(0<=e.size||1>e.size)?Math.sqrt(e.size):1;d=new DvtRectangle(g+(c-2*g)*(1-h)/2,g+(d-2*g)*(1-h)/2,(c-2*g)*h,(d-2*g)*h);DvtLedGaugeRenderer._renderShape(a,b,d);DvtLedGaugeRenderer._renderVisualEffects(a,b,d);g=!1;c=DvtColorUtils.getContrastingTextColor(DvtGaugeStyleUtils.getColor(a));DvtGaugeStyleUtils.hasTitle(e)&&(g="middle",h=DvtLedGaugeRenderer._getLabelBounds(a,b,d),"on"==
e.metricLabel.rendered&&(h.y+=.6*h.h,h.h*=.4,g="top"),g=DvtAgent.isHighContrast()||null==e.title.style.getStyle("color")?DvtGaugeRenderer.renderTitle(a,b,h,c,g):DvtGaugeRenderer.renderTitle(a,b,h,null,g));"on"==e.metricLabel.rendered&&(d=DvtLedGaugeRenderer._getLabelBounds(a,b,d),h="middle",g&&(d.h*=.55,h="bottom"),DvtAgent.isHighContrast()||null==e.metricLabel.style.getStyle("color")?DvtGaugeRenderer.renderLabel(a,b,d,c,"center",h):DvtGaugeRenderer.renderLabel(a,b,d,null,"center",h))}else DvtGaugeRenderer.renderEmptyText(a,
b,new DvtRectangle(0,0,c,d))};
DvtLedGaugeRenderer._renderShape=function(a,b,c){var d=a.getCtx(),e=a.getOptions(),g=e.type,h=DvtGaugeStyleUtils.getColor(a),k=DvtGaugeStyleUtils.getBorderColor(a),m=c.x+c.w/2,n=c.y+c.h/2,t=Math.min(c.w,c.h)/2,u=DvtGaugeDefaults.isSkyrosSkin(a);DvtLedGaugeRenderer._cache||(DvtLedGaugeRenderer._cache=new DvtCache(50));var v=Math.min(c.w/100,c.h/100);"rectangle"==g?m=new DvtRect(d,c.x,c.y,c.w,c.h):"diamond"==g?m=new DvtPolygon(d,[m-t,n,m,n-t,m+t,n,m,n+t]):"circle"==g?m=new DvtCircle(d,m,n,t):("star"==
g?m=u?DvtLedGaugeRenderer._SKYROS_SHAPE_STAR_CMDS:DvtLedGaugeRenderer._SHAPE_STAR_CMDS:"triangle"==g?m=u?DvtLedGaugeRenderer._SKYROS_SHAPE_TRIANGLE_CMDS:DvtLedGaugeRenderer._SHAPE_TRIANGLE_CMDS:"arrow"==g?m=u?DvtLedGaugeRenderer._SKYROS_SHAPE_ARROW_CMDS:DvtLedGaugeRenderer._SHAPE_ARROW_CMDS:"human"==g?m=DvtLedGaugeRenderer._SHAPE_HUMAN_CMDS:(m=DvtLedGaugeRenderer._cache.get(g),m||(m=new DvtPath(d,g),m=DvtDisplayableUtils.getDimForced(d,m),n=100/Math.max(m.w,m.h),m=DvtPathUtils.transformPath(g,-n*
(m.x+m.w/2),-n*(m.y+m.h/2),n,n),DvtLedGaugeRenderer._cache.put(g,m))),(u||"triangle"!=g&&"arrow"!=g)&&"star"!=g?(m=DvtPathUtils.transformPath(m,c.x+c.w/2,c.y+c.h/2,v,v),m=new DvtPath(d,m)):(m=DvtPolygonUtils.scale(m,v,v),m=DvtPolygonUtils.translate(m,c.x+c.w/2,c.y+c.h/2),m=new DvtPolygon(d,m)));u||"none"==e.visualEffects?m.setSolidFill(h):(d=[DvtColorUtils.adjustHSL(h,0,-.09,.04),DvtColorUtils.adjustHSL(h,0,-.04,-.05)],h=e&&0==e.rotation%90?e.rotation:0,m.setFill(new DvtLinearGradientFill("arrow"==
g||"star"==g||"triangle"==g?h-90:270,d,[1,1],[0,1])));k&&m.setSolidStroke(k);(h=u?e.rotation+90:e.rotation)&&("arrow"==g||"triangle"==g||m instanceof DvtPath&&"human"!=g)&&(m=DvtLedGaugeRenderer._rotate(a,b,m,c));b.addChild(m)};
DvtLedGaugeRenderer._rotate=function(a,b,c,d){var e=a.getOptions();a=new DvtContainer(a.getCtx());b.addChild(a);a.addChild(c);b=e&&0==e.rotation%90?e.rotation:0;e=new DvtMatrix;e.rotate(Math.PI*b/180);c.setMatrix(e);b=a.getDimensions();c=d.x+d.w/2-(b.x+b.w/2);d=d.y+d.h/2-(b.y+b.h/2);b=new DvtMatrix;b.translate(c,d);a.setMatrix(b);return a};
DvtLedGaugeRenderer._renderVisualEffects=function(a,b,c){var d=a.getOptions(),e=d.type;"none"!=d.visualEffects&&DvtGaugeDefaults.isSkyrosSkin(a)&&("circle"==e?DvtLedGaugeRenderer._renderOverlayCircle(a,b,c):"diamond"==e?DvtLedGaugeRenderer._renderOverlayDiamond(a,b,c):"triangle"==e?DvtLedGaugeRenderer._renderOverlayTriangle(a,b,c):"arrow"==e?DvtLedGaugeRenderer._renderOverlayArrow(a,b,c):DvtLedGaugeRenderer._renderOverlayRectangle(a,b,c))};
DvtLedGaugeRenderer._renderOverlayRectangle=function(a,b,c){var d=.04*c.w,e=.04*c.h;c=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e);a=new DvtRect(a.getCtx(),c.x,c.y,c.w,c.h);a.setMouseEnabled(!1);b.addChild(a);b=new DvtLinearGradientFill(270,"#FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF".split(" "),[.75,.5,.15,0,.2,.4,.2],[0,.05,.4,.6,.8,.9,1]);a.setFill(b)};
DvtLedGaugeRenderer._renderOverlayDiamond=function(a,b,c){var d=.05*c.w,e=.05*c.h,e=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e);c=e.x+e.w/2;d=e.y+e.h/2;e=Math.min(e.w,e.h)/2;a=new DvtPolygon(a.getCtx(),[c-e,d,c,d-e,c+e,d,c,d+e]);a.setMouseEnabled(!1);b.addChild(a);b=new DvtLinearGradientFill(270,"#FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF".split(" "),[.75,.5,.15,0,.2,.4,.2],[0,.05,.4,.6,.8,.9,1]);a.setFill(b)};
DvtLedGaugeRenderer._renderOverlayTriangle=function(a,b,c){var d=.05*c.w,e=.05*c.h,g=DvtGaugeDefaults.isSkyrosSkin(a),d=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e),e=DvtLedGaugeRenderer._SKYROS_SHAPE_TRIANGLE_INNER_CMDS,h=Math.min(d.w/100,d.h/100),e=DvtPolygonUtils.scale(e,h,h),e=DvtPolygonUtils.translate(e,c.x+c.w/2,c.y+c.h/2);c=new DvtPolygon(a.getCtx(),e);e=(e=a.getOptions())&&0==e.rotation%90?e.rotation:0;g=new DvtLinearGradientFill(g?e-90:360-e,["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],
[.3,.55,0,.25,.1],[0,.05,.4,.9,1]);c.setFill(g);c=DvtLedGaugeRenderer._rotate(a,b,c,d);c.setMouseEnabled(!1);b.addChild(c)};
DvtLedGaugeRenderer._renderOverlayArrow=function(a,b,c){var d=.05*c.w,e=.05*c.h,g=DvtGaugeDefaults.isSkyrosSkin(a),d=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e),e=DvtLedGaugeRenderer._SKYROS_SHAPE_ARROW_INNER_CMDS,h=Math.min(d.w/100,d.h/100),e=DvtPolygonUtils.scale(e,h,h),e=DvtPolygonUtils.translate(e,c.x+c.w/2,c.y+c.h/2);c=new DvtPolygon(a.getCtx(),e);e=(e=a.getOptions())&&0==e.rotation%90?e.rotation:0;g=new DvtLinearGradientFill(g?e-90:360-e,["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],
[.3,.55,0,.25,.1],[0,.05,.4,.9,1]);c.setFill(g);c=DvtLedGaugeRenderer._rotate(a,b,c,d);c.setMouseEnabled(!1);b.addChild(c)};
DvtLedGaugeRenderer._renderOverlayCircle=function(a,b,c){var d=.05*c.w,e=.05*c.h;c=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e);var d=c.x+c.w/2,e=c.y+c.h/2,g=Math.min(c.w,c.h)/2,h=new DvtCircle(a.getCtx(),d,e,g);h.setMouseEnabled(!1);b.addChild(h);var k=new DvtRadialGradientFill(["#FFFFFF","#FFFFFF","#FFFFFF"],[0,.25,.5],[.15,.7,.95],d,e-.6*g,1.5*g,[c.x,c.y,c.w,c.h]);h.setFill(k);h=.6*g;g*=.4;e-=.3*g;a=new DvtOval(a.getCtx(),d,e-g,h,g);a.setMouseEnabled(!1);b.addChild(a);b=new DvtRadialGradientFill(["#FFFFFF",
"#FFFFFF","#FFFFFF"],[0,.2,.5],[.6,.8,1],d,e,h,[c.x,c.y,c.w,c.h]);a.setFill(b)};
DvtLedGaugeRenderer._getLabelBounds=function(a,b,c){b=a.getOptions();a=b.type;b=0==b.rotation%90?b.rotation:0;var d=Math.min(c.w,c.h),e=c.x+c.w/2-d/2;c=c.y+c.h/2-d/2;var g=d,h=d;"triangle"==a?0==b?(e+=.2*d,c+=.25*d,g-=.4*d,h-=.3*d):90==b?(e+=.05*d,c+=.2*d,g-=.3*d,h-=.4*d):180==b?(e+=.2*d,c+=.05*d,g-=.4*d,h-=.3*d):270==b&&(e+=.25*d,c+=.2*d,g-=.3*d,h-=.4*d):"arrow"==a?0==b?(e+=.2*d,c+=.2*d,g-=.4*d,h-=.4*d):90==b?(e+=.05*d,c+=.2*d,g-=.28*d,h-=.4*d):180==b?(e+=.2*d,c+=.2*d,g-=.4*d,h-=.4*d):270==b&&(e+=
.23*d,c+=.2*d,g-=.28*d,h-=.4*d):"star"==a?(e+=.25*d,c+=.25*d,g-=.5*d,h-=.4*d):"diamond"==a?(e+=.15*d,c+=.15*d,g-=.3*d,h-=.3*d):"rectangle"==a?(e+=.1*d,c+=.1*d,g-=.2*d,h-=.2*d):(e+=.15*d,c+=.15*d,g-=.3*d,h-=.3*d);return new DvtRectangle(e,c,g,h)};var DvtStatusMeterGauge=function(){};DvtObj.createSubclass(DvtStatusMeterGauge,DvtGauge,"DvtStatusMeterGauge");DvtStatusMeterGauge.newInstance=function(a,b,c){var d=new DvtStatusMeterGauge;d.Init(a,b,c);return d};
DvtStatusMeterGauge.prototype.Init=function(a,b,c){DvtStatusMeterGauge.superclass.Init.call(this,a,b,c);this.Defaults=new DvtStatusMeterGaugeDefaults;this.__axisInfo=null};DvtStatusMeterGauge.prototype.SetOptions=function(a){DvtStatusMeterGauge.superclass.SetOptions.call(this,this.Defaults.calcOptions(a))};DvtStatusMeterGauge.prototype.Render=function(a,b,c){DvtStatusMeterGaugeRenderer.render(this,a,b,c)};
DvtStatusMeterGauge.prototype.CreateAnimationOnDisplay=function(a,b,c){b=[];for(var d=0;d<a.length;d++){var e=a[d],g=e.getAnimationParams();"horizontal"==this.Options.orientation?e.setAnimationParams([g[0],g[0],g[2],g[3]]):"vertical"==this.Options.orientation?e.setAnimationParams([g[0],g[1],g[3],g[3]]):"circular"==this.Options.orientation&&e.setAnimationParams([g[0],g[1],0,g[3],g[4]]);var h=new DvtCustomAnimation(this.getCtx(),e,c);h.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getAnimationParams,
e.setAnimationParams,g);h.getAnimator().setEasing(function(a){return DvtEasing.backOut(a,.7)});b.push(h)}return new DvtParallelPlayable(this.getCtx(),b)};
DvtStatusMeterGauge.prototype.GetValueAt=function(a,b){var c=this.Options,d=DvtAgent.isRightToLeft(this.getCtx());if("horizontal"==c.orientation)return this.__axisInfo.getBoundedValueAt(a);if("vertical"==c.orientation)return this.__axisInfo.getBoundedValueAt(b);if("circular"==c.orientation){var e=c.angleExtent,g=Math.atan2(b-this.cy,a-this.cx),d=d?180-(DvtMath.radsToDegrees(g)-c.startAngle):DvtMath.radsToDegrees(g)-(360-c.startAngle),d=(d+720)%360,g=c.min,c=c.max,g=d/e*(c-g)+g;d>e&&(g=.5<(d-e)/(360-
e)?0:c);return g}};var DvtStatusMeterGaugeDefaults=function(){this.Init({skyros:DvtStatusMeterGaugeDefaults.VERSION_1,alta:DvtStatusMeterGaugeDefaults.SKIN_ALTA})};DvtObj.createSubclass(DvtStatusMeterGaugeDefaults,DvtGaugeDefaults,"DvtStatusMeterGaugeDefaults");DvtStatusMeterGaugeDefaults.SKIN_ALTA={color:"#393737",metricLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")},plotArea:{color:"#E4E8EA",borderColor:"#D6DFE6"}};
DvtStatusMeterGaugeDefaults.VERSION_1={angleExtent:360,borderRadius:"auto",color:"#313842",indicatorSize:1,innerRadius:.7,metricLabel:{style:new DvtCSSStyle("font-family: tahoma, sans-serif;"),position:"auto"},orientation:"horizontal",plotArea:{color:"#AAAAAA",borderColor:"#C6C6C6",rendered:"auto",borderRadius:"auto"},startAngle:90,thresholdDisplay:"onIndicator"};var DvtStatusMeterGaugeRenderer={};DvtObj.createSubclass(DvtStatusMeterGaugeRenderer,DvtObj,"DvtStatusMeterGaugeRenderer");
DvtStatusMeterGaugeRenderer._MIN_CORNER_RADIUS=2.5;
DvtStatusMeterGaugeRenderer.render=function(a,b,c,d){if(DvtGaugeDataUtils.hasData(a)){var e=a.getOptions(),g=e.__layout.outerGap;c=new DvtRectangle(g,g,c-2*g,d-2*g);"horizontal"==e.orientation||"vertical"==e.orientation?(DvtStatusMeterGaugeRenderer._hasMetricLabelOutsidePlotArea(e)&&DvtStatusMeterGaugeRenderer._renderLabelOutsidePlotArea(a,b,c),DvtStatusMeterGaugeRenderer._renderShape(a,b,c)):"circular"==e.orientation&&DvtStatusMeterGaugeRenderer._renderCircularGauge(a,b,c)}else DvtGaugeRenderer.renderEmptyText(a,
b,new DvtRectangle(0,0,c,d))};
DvtStatusMeterGaugeRenderer._renderCircularGauge=function(a,b,c){var d=a.getOptions(),e=DvtAgent.isRightToLeft(a.getCtx()),g=0,h=null,k=d.value,m=d.innerRadius,n=d.thresholds,t=null,u=DvtMath.TWO_PI-DvtMath.degreesToRads(d.startAngle),v=DvtMath.degreesToRads(d.angleExtent),w=(u+v)%(2*Math.PI);a.cx=c.w/2;a.cy=c.h/2;v!=2*Math.PI&&(h=DvtStatusMeterGaugeRenderer._adjustCenterAndBounds(a,m,u,v,w,c,e));var t=t?t:Math.min(c.w,c.h),e=.5*t*m,w=.5*t,x=d.indicatorSize;if(x&&1<x)var y=(1-1/x)/2*(w-e),e=e+y,w=
w-y;y="middle";h||(h=Math.min(c.w,c.h)*m,m?m*Math.min(c.w,c.h):Math.min(c.w,c.h),h=new DvtRectangle(c.x+c.w/2-3/7*h,c.y+c.h/2-2.5/7*h,6/7*h,5/7*h));var z=!1;if(DvtGaugeStyleUtils.hasTitle(d)){var z="middle",A=new DvtRectangle(h.x,h.y,h.w,h.h);"off"!=d.metricLabel.rendered&&(A.y+=.6*A.h,A.h*=.4,z="top");(z=DvtGaugeRenderer.renderTitle(a,b,A,null,z))&&"off"!=d.metricLabel.rendered&&(h.h*=.55,y="bottom")}DvtGaugeRenderer.renderLabel(a,b,h,null,"center",y,!0);h=u;g*=v;if(n&&"off"!=d.plotArea.rendered&&
"all"==d.thresholdDisplay)for(y=0;y<n.length;y++)z=DvtGaugeStyleUtils.getThresholdColor(a,n[y],y),g=n[y].max<d.max?n[y].max:d.max,A=0==y?d.min:n[y-1].max,h=u+v*DvtGaugeRenderer.getFillPercentage(d,d.min,g,A),g=DvtGaugeRenderer.getFillPercentage(d,A,g,g),g*=v,DvtStatusMeterGaugeRenderer._drawCircularArc(a,b,c,h,g,e,w,z,!0);else"off"!=d.plotArea.rendered&&"all"!=d.thresholdDisplay&&(n=DvtGaugeStyleUtils.getPlotAreaColor(a),DvtStatusMeterGaugeRenderer._drawCircularArc(a,b,c,u,v,e,w,n,!0));e=t*m*.5;w=
.5*t;x&&1>x&&(m=(1-x)/2*(w-e),e+=m,w-=m);g=DvtGaugeRenderer.getFillPercentage(d,d.min,d.max,k);DvtStatusMeterGaugeRenderer._drawCircularArc(a,b,c,u,g*v,e,w,DvtGaugeStyleUtils.getColor(a),!1);if(m=d.referenceLines)for(t=0;t<m.length;t++)n=m[t].color?m[t].color:"black",e=m[t].lineWidth?m[t].lineWidth:2,w=m[t].lineStyle,k=m[t].value,k=u+DvtGaugeRenderer.getFillPercentage(d,d.min,d.max,k)*v,DvtStatusMeterGaugeRenderer._drawCircularReferenceLine(a,b,c,k,n,e,w)};
DvtStatusMeterGaugeRenderer._renderShape=function(a,b,c){var d=a.getOptions(),e=DvtAgent.isRightToLeft(a.getCtx()),g="vertical"==d.orientation,h={layout:{}};h.layout.gapRatio=0;h.timeAxisType="disabled";h.position=g?"left":"bottom";h.min=d.min;h.max=d.max;h.dataMin=d.min;h.dataMax=d.max;h.tickLabel={rendered:"off"};h=DvtAxisInfo.newInstance(a.getCtx(),h,c);a.__axisInfo=h;var k=0;0>=d.max?k=d.max:0<=d.min&&(k=d.min);var m=h.getCoordAt(k);"off"==d.plotArea.rendered||"auto"==d.plotArea.rendered&&"onIndicator"==
d.thresholdDisplay||(m=h.getUnboundedCoordAt(d.min));var n=h.getUnboundedCoordAt(d.value),n=g?Math.max(c.y,Math.min(c.y+c.h,n)):Math.max(c.x,Math.min(c.x+c.w,n)),t=d.indicatorSize,u,v,w,x,y,z,A=0,A=1>t?1:t;w=1<t?1:t;g?(k=c.x+(1-w)/2*c.w+.5,u=c.x+c.w*(1+w)/2-.5,w=m-.5,v=n+.5,x=c.x+(1-1/A)/2*c.w,y=c.x+c.w*(1+1/A)/2,z=c.y,A=c.y+c.h):(k=e?m-.5:m+.5,u=e?n+.5:n-.5,v=c.y+(1-w)/2*c.h+.5,w=c.y+c.h*(1+w)/2-.5,x=c.x,y=c.x+c.w,z=c.y+(1-1/A)/2*c.h,A=c.y+c.h*(1+1/A)/2);var B=!0;n==m&&(g?v=w:k=u,B=!1);var n=DvtGaugeStyleUtils.getBorderColor(a),
D=d.plotArea.borderColor,C=d.thresholds,t=g?0:270;if(C&&"off"!=d.plotArea.rendered&&"all"==d.thresholdDisplay)for(m=C.length-1;0<=m;m--){var G=m,F=DvtStatusMeterGaugeRenderer._createShape(a,a.getCtx(),x,y,z,A),E=new DvtClipPath("pacp"+a.getId());m==C.length-1?!g&&e?E.addRect(h.getUnboundedCoordAt(d.max),0,c.w+2,c.h+2,0,0):E.addRect(0,0,c.w+2,c.h+2,0,0):g?E.addRect(0,h.getUnboundedCoordAt(d.max),c.w+2,1*(d.max-C[C.length-2-G].max)/Math.abs(d.min-d.max)*c.h,0,0):e?E.addRect(0,0,1*(d.max-(null==C[C.length-
2-G].max?100:C[C.length-2-G].max))/Math.abs(d.min-d.max)*c.w,c.h+2,0,0):E.addRect(0,0,1*(C[G].max-d.min)/Math.abs(d.min-d.max)*c.w,c.h+2,0,0);F.setClipPath(E);if(e||g)G=C.length-1-m;F.setSolidFill(DvtGaugeStyleUtils.getThresholdColor(a,C[G],G));F.setSolidStroke(D);DvtStatusMeterGaugeRenderer._renderPlotAreaVisualEffects(a,b,F,DvtGaugeStyleUtils.getThresholdColor(a,C[G],G),t)}else"off"==d.plotArea.rendered||"auto"==d.plotArea.rendered&&"onIndicator"==d.thresholdDisplay||"all"==d.thresholdDisplay||
(F=g?DvtStatusMeterGaugeRenderer._createShape(a,a.getCtx(),x,y,h.getUnboundedCoordAt(d.max),h.getUnboundedCoordAt(d.min)):DvtStatusMeterGaugeRenderer._createShape(a,a.getCtx(),h.getUnboundedCoordAt(d.min),h.getUnboundedCoordAt(d.max),z,A),m=DvtGaugeStyleUtils.getPlotAreaColor(a),F.setSolidFill(m),F.setSolidStroke(D),DvtStatusMeterGaugeRenderer._renderPlotAreaVisualEffects(a,b,F,m,t));m=new DvtStatusMeterGaugeIndicator(a,a.getCtx(),k,u,v,w);a.__shapes.push(m);e=DvtGaugeStyleUtils.getColor(a);DvtGaugeDefaults.isSkyrosSkin(a)||
"none"==d.visualEffects?m.setSolidFill(e):(D=[DvtColorUtils.adjustHSL(e,0,-.09,.04),DvtColorUtils.adjustHSL(e,0,-.04,-.05)],D=new DvtLinearGradientFill(t,D,[1,1],[0,1]),m.setFill(D));n&&m.setSolidStroke(n);B&&b.addChild(m);m=DvtStatusMeterGaugeRenderer._createShape(a,a.getCtx(),k,u,v,w);DvtStatusMeterGaugeRenderer._renderVisualEffects(a,b,m,B,t);if(B=d.referenceLines)for(m=0;m<B.length;m++)n=B[m].color?B[m].color:"white",C=B[m].value,t=d.indicatorSize,g?(F=((1-t)/2+t)*c.w,D=c.x+(1-t)/4*c.w,t=h.getUnboundedCoordAt(C),
t=new DvtLine(a.getCtx(),D,t,D+F,t)):(F=((1-t)/2+t)*c.h,D=h.getUnboundedCoordAt(C),t=c.y+(1-t)/4*c.h,t=new DvtLine(a.getCtx(),D,t,D,t+F)),n=new DvtSolidStroke(n,1,B[m].lineWidth?B[m].lineWidth:2),B[m].lineStyle&&n.setStyle(DvtStroke.convertTypeString(B[m].lineStyle)),t.setStroke(n),b.addChild(t),DvtAgent.isPlatformIE()||"none"==d.visualEffects||(n=DvtColorUtils.makeRGBA(0,0,0,.8),n=new DvtShadow(n,.75,3,3,50,1,2,!1,!1,!1),t.addDrawEffect(n));g=d.metricLabel.position;"on"!=d.metricLabel.rendered||
DvtStatusMeterGaugeRenderer._hasMetricLabelOutsidePlotArea(d)||DvtGaugeStyleUtils.hasTitle(d)?DvtGaugeStyleUtils.hasTitle(d)&&DvtStatusMeterGaugeRenderer._renderTitle(a,b,c,g):DvtStatusMeterGaugeRenderer._renderLabelInsidePlotArea(a,b,c,e,g,{x1:k,x2:u,y1:v,y2:w},{x1:x,x2:y,y1:z,y2:A})};
DvtStatusMeterGaugeRenderer._createShape=function(a,b,c,d,e,g){var h=Math.min(c,d),k=Math.min(e,g);c=Math.abs(c-d);e=Math.abs(g-e);g=a.getOptions();d="vertical"==g.orientation?c:e;a=DvtGaugeDefaults.isSkyrosSkin(a)?"25%":"15%";h=DvtStatusMeterGaugeRenderer.rectangleWithBorderRadius(h,k,c,e,"auto"!=g.plotArea.borderRadius?g.plotArea.borderRadius:g.borderRadius,d,a);return new DvtPath(b,h)};
DvtStatusMeterGaugeRenderer._renderVisualEffects=function(a,b,c,d,e){"none"!=a.getOptions().visualEffects&&DvtGaugeDefaults.isSkyrosSkin(a)&&(e=new DvtLinearGradientFill(e,["#FFFFFF","#FFFFFF","#FFFFFF"],[.5,.3125,0],[0,.3,1]),c.setFill(e),a.__shapes.push(c),c.setMouseEnabled(!1),d&&b.addChild(c))};
DvtStatusMeterGaugeRenderer._renderPlotAreaVisualEffects=function(a,b,c,d,e){var g=a.getOptions();c.setMouseEnabled(!1);b.addChild(c);"none"!=g.visualEffects&&(DvtGaugeDefaults.isSkyrosSkin(a)?(a=[DvtColorUtils.getDarker(d,.9),d,DvtColorUtils.getBrighter(d,.7)],e=new DvtLinearGradientFill(e,a,[1,1,1],[0,.04,.73])):(a=[DvtColorUtils.adjustHSL(d,0,-.04,-.05),DvtColorUtils.adjustHSL(d,0,-.09,.04)],e=new DvtLinearGradientFill(e,a,[1,1],[0,1])),c.setFill(e))};
DvtStatusMeterGaugeRenderer._renderLabelOutsidePlotArea=function(a,b,c){var d=a.getOptions(),e=DvtAgent.isRightToLeft(a.getCtx()),g="vertical"==d.orientation,h=new DvtOutputText(a.getCtx(),""),k=DvtGaugeRenderer.getFormattedMetricLabel(d.value,a),m=d.__layout.labelGap,n=d.metricLabel.style,t=n.getStyle("color"),t=t?t:"#333333",u=null;h.setCSSStyle(n);h.setSolidFill(t);if(g&&"on"==d.metricLabel.rendered){var v=0<d.max?d.max:d.min,v=DvtGaugeRenderer.getFormattedMetricLabel(v,a),u=new DvtOutputText(a.getCtx(),
v);u.setCSSStyle(n);d=new DvtRectangle(c.x,c.y+.8*c.h,c.w,.2*c.h);g=(g=n.getStyle("font-size"))?parseInt(g):u.getOptimalFontSize(d);u=u.measureDimensions();c.h-=u.h;v=u.w;h.setFontSize(g);h.setTextString(k);h.setX(c.x+c.w/2);h.setY(c.y+c.h);c.h-=m;h.alignCenter();DvtTextUtils.fitText(h,c.w,c.h,b)}else if(!g&&"on"==d.metricLabel.rendered){g=n.getStyle("font-size");t=DvtGaugeRenderer.getFormattedMetricLabel(d.min,a);u=DvtGaugeRenderer.getFormattedMetricLabel(d.max,a);void 0===g&&18>c.h&&(g=DvtGaugeRenderer.calcLabelFontSize([k,
t,u],h,c));g=g?parseInt(g):13;h.setFontSize(g);var w;if(0<d.max||"off"!=d.plotArea.rendered||"auto"!=d.plotArea.rendered||"onIndicator"!=d.thresholdDisplay)v=0<d.max?d.max:d.min,v=DvtGaugeRenderer.getFormattedMetricLabel(v,a),u=new DvtOutputText(a.getCtx(),v),u.setCSSStyle(n),u.setFontSize(g),u=u.measureDimensions(),u.w=Math.min(u.w,c.w),w=e?c.x+u.w:c.x+c.w,v=u.w,e&&(c.x+=u.w+m),c.w-=u.w+m;if(0>d.min&&"on"!=d.plotArea.rendered&&("auto"!=d.plotArea.rendered||"onIndicator"!=d.thresholdDisplay)){u=DvtGaugeRenderer.getFormattedMetricLabel(d.min,
a);t=new DvtOutputText(a.getCtx(),u);t.setCSSStyle(n);t.setFontSize(g);n=t.measureDimensions();if(0>d.value||0>=d.max)w=e?c.x+c.w:c.x+n.w,v=n.w;e||(c.x+=n.w+m);c.w-=n.w+m}h.setTextString(k);h.setX(w);DvtTextUtils.centerTextVertically(h,c.y+c.h/2);h.alignRight();DvtTextUtils.fitText(h,v,c.h,b)}};
DvtStatusMeterGaugeRenderer._renderLabelInsidePlotArea=function(a,b,c,d,e,g,h,k){var m=a.getOptions(),n=DvtAgent.isRightToLeft(a.getCtx()),t="vertical"==m.orientation,u="on"==m.plotArea.rendered,v="center",w="middle",x=new DvtRectangle(Math.min(g.x1,g.x2),Math.min(g.y1,g.y2),Math.abs(g.x2-g.x1),Math.abs(g.y2-g.y1)),m=m.metricLabel.style.getStyle("color");"center"==e?(m=m?m:DvtColorUtils.getContrastingTextColor(d),t?(x.h-=x.w,x.y+=x.w/2):(x.w-=x.h,x.x+=x.h/2)):"insideIndicatorEdge"==e?(m=m?m:DvtColorUtils.getContrastingTextColor(d),
t?(x.h-=x.w,x.y+=x.w/2,w=!u&&g.y1>g.y2?"bottom":"top"):(x.w-=x.h,x.x+=x.h/2,v=n?!u&&g.x1<g.x2?"right":"left":!u&&g.x1>g.x2?"left":"right")):"outsideIndicatorEdge"==e&&(t?(x.h=Math.abs(h.y1-g.y1)-x.w,x.y=h.y1+x.w/2,w="bottom",!u&&g.y1>g.y2&&(x.h=Math.abs(h.y1-g.y1)-x.w,x.y=g.y1+x.w/2,w="top")):n?!u&&g.x1<g.x2?(x.w=Math.abs(h.x2-g.x2)-x.h,x.x=g.x2+x.h/2,v="left"):(x.w=Math.abs(h.x1-g.x2)-x.h,x.x=h.x1+x.h/2,v="right"):!u&&g.x1>g.x2?(x.w=Math.abs(h.x1-g.x2)-x.h,x.x=h.x1+x.h/2,v="right"):(x.w=Math.abs(h.x2-
g.x2)-x.h,x.x=g.x2+x.h/2,v="left"));DvtGaugeRenderer.renderLabel(a,b,x,m,v,w)||k||("outsideIndicatorEdge"==e?DvtStatusMeterGaugeRenderer._renderLabelInsidePlotArea(a,b,c,d,"insideIndicatorEdge",g,h,!0):"insideIndicatorEdge"!=e&&"center"!=e||DvtStatusMeterGaugeRenderer._renderLabelInsidePlotArea(a,b,c,d,"outsideIndicatorEdge",g,h,!0))};
DvtStatusMeterGaugeRenderer._renderTitle=function(a,b,c,d){d=DvtAgent.isRightToLeft(a.getCtx());var e=a.getOptions(),g="vertical"==e.orientation,h=new DvtRectangle(c.x,c.y,g?c.w:c.w-c.h,g?c.h-c.w:c.h),k=e.title.text;if(!DvtStatusMeterGaugeRenderer._hasMetricLabelOutsidePlotArea(e)&&"on"==e.metricLabel.rendered)var m=DvtGaugeRenderer.getFormattedMetricLabel(e.value,a),k=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[k,m]);var n=e.title.style,m=n.clone(),t=n.getStyle("font-size");
t||(t=new DvtOutputText(a.getCtx(),k,0,0),t.setCSSStyle(n),t.setTextString(k),t=g?t.getOptimalFontSize(new DvtRectangle(h.x,h.y,h.w,Number.MAX_VALUE)):t.getOptimalFontSize(new DvtRectangle(h.x,h.y,Number.MAX_VALUE,h.h)));k=new DvtMultilineText(a.getCtx(),k);m.setFontSize("font-size",t.toString());k.setCSSStyle(m);DvtTextUtils.fitText(k,h.w,h.h,a);"center"==e.title.position||"auto"==e.title.position&&g?(DvtTextUtils.centerTextVertically(k,c.y+c.h/2),k.setX(c.x+c.w/2),k.alignCenter()):(DvtTextUtils.centerTextVertically(k,
c.y+c.h/2),!g&&d)?(k.setX(c.x+c.w-h.h/2),k.alignRight()):g||d?g&&(k.setY(c.y+c.h-k.getDimensions().h-h.w/2),k.setX(c.x+c.w/2),k.alignCenter()):(k.setX(c.x+h.h/2),k.alignLeft());b.addChild(k)};DvtStatusMeterGaugeRenderer._calcPointOnArc=function(a,b,c){var d=Math.cos(c)*b+a.w/2+a.x;a=Math.sin(c)*b+a.h/2+a.y;return{x:d,y:a}};
DvtStatusMeterGaugeRenderer._drawCircularArc=function(a,b,c,d,e,g,h,k,m){var n=a.getCtx();DvtAgent.isRightToLeft(a.getCtx())&&(d=Math.PI-d-e,d=0<d?d:d+2*Math.PI);m?c=new DvtPath(n,DvtStatusMeterGaugeRenderer.createCircularPathCmd(c,d,e,g,h)):(c=new DvtStatusMeterGaugeCircularIndicator(n,c,d,e,g,h),a.__shapes.push(c));c.setSolidFill(k);(a=DvtGaugeStyleUtils.getBorderColor(a))&&!m&&c.setSolidStroke(a);b.addChild(c)};
DvtStatusMeterGaugeRenderer._drawCircularReferenceLine=function(a,b,c,d,e,g,h){var k=a.getCtx(),m=Math.min(c.w,c.h),n=.275*m,m=.5*m;DvtAgent.isRightToLeft(a.getCtx())&&(d=Math.PI-d,d=0<d?d:d+2*Math.PI);a=DvtStatusMeterGaugeRenderer._calcPointOnArc(c,n,d);c=DvtStatusMeterGaugeRenderer._calcPointOnArc(c,m,d);k=new DvtLine(k,a.x,a.y,c.x,c.y);e=new DvtSolidStroke(e,1,g);h&&e.setStyle(DvtStroke.convertTypeString(h));k.setStroke(e);b.addChild(k)};
DvtStatusMeterGaugeRenderer.createCircularPathCmd=function(a,b,c,d,e){var g,h,k;c<DvtMath.TWO_PI?(g=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,e,b),h=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,e,b+c),k=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,d,b+c),a=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,d,b),e=DvtPathUtils.moveTo(g.x,g.y)+DvtPathUtils.arcTo(e,e,c,1,h.x,h.y)+DvtPathUtils.lineTo(k.x,k.y)+DvtPathUtils.arcTo(d,d,c,0,a.x,a.y)+DvtPathUtils.closePath()):(g=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,
e,b),h=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,e,b+c/2),k=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,d,b),a=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,d,b+c/2),e=DvtPathUtils.moveTo(g.x,g.y)+DvtPathUtils.arcTo(e,e,c/2,1,h.x,h.y)+DvtPathUtils.arcTo(e,e,c/2,1,g.x,g.y),0<d&&(e+=DvtPathUtils.moveTo(a.x,a.y)+DvtPathUtils.arcTo(d,d,c/2,0,k.x,k.y)+DvtPathUtils.arcTo(d,d,c/2,0,a.x,a.y)),e+=DvtPathUtils.closePath());return e};
DvtStatusMeterGaugeRenderer.getAngleQuadrant=function(a,b){var c=1;if(b)a>=DvtMath.HALF_PI&&a<Math.PI?c=2:a>=Math.PI&&a<1.5*Math.PI?c=3:a>=1.5*Math.PI&&a<DvtMath.TWO_PI&&(c=4);else if(a>DvtMath.HALF_PI&&a<=Math.PI)c=2;else if(a>Math.PI&&a<=1.5*Math.PI)c=3;else if(a>1.5*Math.PI&&a<DvtMath.TWO_PI||0==a)c=4;return c};DvtStatusMeterGaugeRenderer._hasMetricLabelOutsidePlotArea=function(a){var b=a.metricLabel.position;return"auto"==b||"outsidePlotArea"==b||"withTitle"==b&&!DvtGaugeStyleUtils.hasTitle(a)};
DvtStatusMeterGaugeRenderer._adjustCenterAndBounds=function(a,b,c,d,e,g,h){var k=null,m=DvtStatusMeterGaugeRenderer.getAngleQuadrant(c,!0),n=DvtStatusMeterGaugeRenderer.getAngleQuadrant(e,!1),t=g.w,u=g.h,v=t/2,w=u/2;if(m==n&&d<=DvtMath.HALF_PI)if(c=2*Math.min(g.w,g.h),g.w+=c/2,g.h+=c/2,b*=c,!h&&1==m||h&&2==m)g.x-=c/2,g.y-=c/2,v=t/2-c/4+1,w=u/2-c/4+1,k=new DvtRectangle(g.x+g.w/2-1,g.y+g.h/2-1,3/7*b-2,2.5/7*b-2);else if(!h&&2==m||h&&1==m)g.y-=c/2,v=t/2+c/4-1,w=u/2-c/4+1,k=new DvtRectangle(g.x+g.w/2-
3/7*b+1,g.y+g.h/2-1,3/7*b-2,2.5/7*b-2);else if(!h&&3==m||h&&4==m)v=t/2+c/4-1,w=u/2+c/4-1,k=new DvtRectangle(g.x+g.w/2-3/7*b+1,g.y+g.h/2-2.5/7*b+1,3/7*b-2,2.5/7*b-2);else{if(!h&&4==m||h&&3==m)g.x-=c/2,v=t/2-c/4+1,w=u/2+c/4-1,k=new DvtRectangle(g.x+g.w/2-1,g.y+g.h/2-2.5/7*b+1,3/7*b-2,2.5/7*b-2)}else m%4+1==n&&d<=Math.PI?1==m||3==m?(c=Math.min(g.w,2*g.h),b*=c,g.w>g.h&&(k=new DvtRectangle(g.x+g.w/2-3/7*b,g.y+g.h-(g.h-c/2)/2-2.75/7*b,6/7*b,2.5/7*b),1==m?(k.y=g.y+(g.h-c/2)/2+.5/7*b,g.y-=c/2-(g.h-c/2)/2,
w=u/2-c/4+1):(g.y+=(g.h-c/2)/2,w=u/2+c/4-1),g.h=c)):(c=Math.min(2*g.w,g.h),b*=c,g.w<g.h&&(k=new DvtRectangle(g.x+g.w-(g.w-c/2)/2-3.25/7*b,g.y+g.h/2-2.5/7*b,3/7*b,5/7*b),!h&&4==m||h&&2==m?(k.x=g.x+(g.w-c/2)/2+.25/7*b,g.x-=c/2-(g.w-c/2)/2,v=t/2-c/4+1):(g.x+=(g.w-c/2)/2,v=t/2+c/4-1),g.w=c)):n%4+1==m&&d>Math.PI&&(1==m&&g.h>g.w?(c=Math.min(2*(g.w/(Math.cos(c)+1)),2*(g.w/(Math.sin(e-1.5*Math.PI)+1)),g.h),b*=c,k=3/7*b*(2*g.w/c-1),h?(k=new DvtRectangle(g.x+g.w-c/2-k,g.y+g.h/2-2.5/7*b,3/7*b+k,5/7*b),g.x-=
c-g.w,v=-c/2+t):(k=new DvtRectangle(g.x+c/2-3/7*b,g.y+g.h/2-2.5/7*b,3/7*b*(1+(2*g.w/c-1)),5/7*b),v=c/2),g.w=c):2==m&&g.h<g.w?(c=Math.min(2*(g.h/(Math.cos(c-DvtMath.HALF_PI)+1)),2*(g.h/(Math.sin(e)+1)),g.w),b*=c,k=new DvtRectangle(g.x+g.w/2-3/7*b,g.y+c/2-2.5/7*b,6/7*b,2.5/7*b*(1+(2*g.h/c-1))),g.h=c,w=c/2):3==m&&g.h>g.w?(c=Math.min(2*(g.w/(Math.cos(c-Math.PI)+1)),2*(g.w/(Math.sin(e-DvtMath.HALF_PI)+1)),g.h),b*=c,k=3/7*b*(2*g.w/c-1),h?(k=new DvtRectangle(g.x+c/2-3/7*b,g.y+g.h/2-2.5/7*b,3/7*b*(1+(2*g.w/
c-1)),5/7*b),v=c/2):(k=new DvtRectangle(g.x+g.w-c/2-k,g.y+g.h/2-2.5/7*b,3/7*b+k,5/7*b),g.x-=c-g.w,v=-c/2+t),g.w=c):4==m&&g.h<g.w&&(c=Math.min(2*(g.h/(Math.cos(c-1.5*Math.PI)+1)),2*(g.h/(Math.sin(DvtMath.TWO_PI-e)+1)),g.w),b*=c,k=2.5/7*b*(2*g.h/c-1),k=new DvtRectangle(g.x+g.w/2-3/7*b,g.y+g.h-c/2-k,6/7*b,2.5/7*b+k),g.y-=c-g.h,g.h=c,w=-c/2+u));a.cx=v;a.cy=w;return k};
DvtStatusMeterGaugeRenderer.rectangleWithBorderRadius=function(a,b,c,d,e,g,h){var k=h,m=h,n=h,t=h,u=h,v=h,w=h;if(e)if(-1!=e.indexOf("/")){var x=e.split("/");e=x[0].trim().split(/\s+/);x=x[1].trim().split(/\s+/);1==e.length?k=n=u=w=e[0]:2==e.length?(k=u=e[0],n=w=e[1]):3==e.length?(k=e[0],n=w=e[1],u=e[2]):4==e.length&&(k=e[0],n=e[1],u=e[2],w=e[3]);1==x.length?m=t=v=h=x[0]:2==x.length?(m=v=x[0],t=h=x[1]):3==x.length?(m=x[0],t=h=x[1],v=x[2]):4==x.length&&(m=x[0],t=x[1],v=x[2],h=x[3])}else"auto"!=e&&(e=
e.trim().split(/\s+/),1==e.length?k=n=u=w=m=t=v=h=e[0]:2==e.length?(k=u=m=v=e[0],n=w=t=h=e[1]):3==e.length?(k=m=e[0],n=w=t=h=e[1],u=v=e[2]):4==e.length&&(k=m=e[0],n=t=e[1],u=v=e[2],w=h=e[3]));return DvtStatusMeterGaugeRenderer._roundedRectangle(a,b,c,d,DvtStatusMeterGaugeRenderer._parseBorderRadiusItem(k,g),DvtStatusMeterGaugeRenderer._parseBorderRadiusItem(m,g),DvtStatusMeterGaugeRenderer._parseBorderRadiusItem(n,g),DvtStatusMeterGaugeRenderer._parseBorderRadiusItem(t,g),DvtStatusMeterGaugeRenderer._parseBorderRadiusItem(u,
g),DvtStatusMeterGaugeRenderer._parseBorderRadiusItem(v,g),DvtStatusMeterGaugeRenderer._parseBorderRadiusItem(w,g),DvtStatusMeterGaugeRenderer._parseBorderRadiusItem(h,g))};DvtStatusMeterGaugeRenderer._parseBorderRadiusItem=function(a,b){var c=Math.min(parseFloat(a),b/2);-1!=a.indexOf("%")&&(c=.01*Math.min(50,parseFloat(a))*b);return c<DvtStatusMeterGaugeRenderer._MIN_CORNER_RADIUS?0:c};
DvtStatusMeterGaugeRenderer._roundedRectangle=function(a,b,c,d,e,g,h,k,m,n,t,u){g=Math.min(g,.5*d);k=Math.min(k,.5*d);n=Math.min(n,.5*d);u=Math.min(u,.5*d);e=Math.min(e,.5*c);h=Math.min(h,.5*c);m=Math.min(m,.5*c);t=Math.min(t,.5*c);return DvtPathUtils.moveTo(a+e,b)+DvtPathUtils.lineTo(a+c-h,b)+DvtPathUtils.arcTo(h,k,Math.PI/2,1,a+c,b+k)+DvtPathUtils.lineTo(a+c,b+d-n)+DvtPathUtils.arcTo(m,n,Math.PI/2,1,a+c-m,b+d)+DvtPathUtils.lineTo(a+t,b+d)+DvtPathUtils.arcTo(t,u,Math.PI/2,1,a,b+d-u)+DvtPathUtils.lineTo(a,
b+g)+DvtPathUtils.arcTo(e,g,Math.PI/2,1,a+e,b)+DvtPathUtils.closePath()};var DvtStatusMeterGaugeIndicator=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtStatusMeterGaugeIndicator,DvtPath,"DvtStatusMeterGaugeIndicator");DvtStatusMeterGaugeIndicator.prototype.Init=function(a,b,c,d,e,g){DvtStatusMeterGaugeIndicator.superclass.Init.call(this,b);this._gauge=a;this.setCoords(c,d,e,g)};
DvtStatusMeterGaugeIndicator.prototype.setCoords=function(a,b,c,d){this._x1=a;this._x2=b;this._y1=c;this._y2=d;var e=Math.min(a,b),g=Math.min(c,d);a=Math.abs(a-b);c=Math.abs(d-c);d=this._gauge.getOptions();b="vertical"==d.orientation?a:c;var h=DvtGaugeDefaults.isSkyrosSkin(this._gauge)?"25%":"15%",e=DvtStatusMeterGaugeRenderer.rectangleWithBorderRadius(e,g,a,c,d.borderRadius,b,h);this.setCmds(e)};
DvtStatusMeterGaugeIndicator.prototype.getAnimationParams=function(){return[this._x1,this._x2,this._y1,this._y2]};DvtStatusMeterGaugeIndicator.prototype.setAnimationParams=function(a){a&&4==a.length&&this.setCoords(a[0],a[1],a[2],a[3])};var DvtStatusMeterGaugeCircularIndicator=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtStatusMeterGaugeCircularIndicator,DvtPath,"DvtStatusMeterGaugeCircularIndicator");
DvtStatusMeterGaugeCircularIndicator.prototype.Init=function(a,b,c,d,e,g){DvtStatusMeterGaugeCircularIndicator.superclass.Init.call(this,a);this.setPath(b,c,d,e,g)};DvtStatusMeterGaugeCircularIndicator.prototype.setPath=function(a,b,c,d,e){a&&a instanceof DvtRectangle?this._bounds=a:a=this._bounds;this._startAngle=b;this._angleExtent=c;this._innerRadius=d;this._outerRadius=e;this.setCmds(DvtStatusMeterGaugeRenderer.createCircularPathCmd(a,b,c,d,e))};
DvtStatusMeterGaugeCircularIndicator.prototype.getAnimationParams=function(){return[this._bounds,this._startAngle,this._angleExtent,this._innerRadius,this._outerRadius]};DvtStatusMeterGaugeCircularIndicator.prototype.setAnimationParams=function(a){a&&5==a.length&&this.setPath(a[0],a[1],a[2],a[3],a[4])};var DvtDialGauge=function(){};DvtObj.createSubclass(DvtDialGauge,DvtGauge,"DvtDialGauge");DvtDialGauge.newInstance=function(a,b,c){var d=new DvtDialGauge;d.Init(a,b,c);return d};
DvtDialGauge.prototype.Init=function(a,b,c){DvtDialGauge.superclass.Init.call(this,a,b,c);this.Defaults=new DvtDialGaugeDefaults;this.__anchorPt=null};
DvtDialGauge.prototype.SetOptions=function(a){var b=a.background,c=a.indicator;"string"===typeof b&&(a.background=DvtGaugeStyleUtils.getDialBackground(b),a.background.images=a._backgroundImages);"string"===typeof c&&(a.indicator=DvtGaugeStyleUtils.getDialIndicator(c),a.indicator.images=a._indicatorImages);DvtDialGauge.superclass.SetOptions.call(this,this.Defaults.calcOptions(a))};DvtDialGauge.prototype.Render=function(a,b,c){DvtDialGaugeRenderer.render(this,a,b,c)};
DvtDialGauge.prototype.renderUpdate=function(){DvtDialGaugeRenderer.updateIndicatorAndLabel(this,this._container,this.Width,this.Height);var a=this.__getEventManager();a&&a.associate(this._editingOverlay,this.__getLogicalObject(),!0);this.UpdateAriaLiveValue(this._container)};
DvtDialGauge.prototype.CreateAnimationOnDisplay=function(a,b,c){b=[];for(var d=0;d<a.length;d++){var e=a[d],g=e.getAnimationParams(),h=DvtDialGaugeRenderer.__getStartAngle(this);e.setAngle(h);h=new DvtCustomAnimation(this.getCtx(),e,c);h.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getAnimationParams,e.setAnimationParams,g);h.getAnimator().setEasing(function(a){return DvtEasing.backOut(a,.7)});b.push(h)}return new DvtParallelPlayable(this.getCtx(),b)};
DvtDialGauge.prototype.GetValueAt=function(a,b){var c=Math.atan2(b-this.__anchorPt.y,a-this.__anchorPt.x),d=DvtMath.radsToDegrees(c);0>=d&&(d+=360);var c=DvtAgent.isRightToLeft(this.getCtx()),e=this.getOptions().background,g=c?180+e.startAngle:360-e.startAngle,e=e.angleExtent,h=g+e;if(c)for(h=g,g-=e;0>g;)g+=360,h+=360;d+360>=g&&d+360<=h?d+=360:d>=g&&d<=h||(d=d>h?g+360-d<d-h?g:h:g-d<d+360-h?g:h);d=(d-g)/e;c&&(d=1-d);c=this.Options.min;return d*(this.Options.max-c)+c};
var DvtDialGaugeDefaults=function(){this.Init({skyros:DvtDialGaugeDefaults.VERSION_1,alta:{}})};DvtObj.createSubclass(DvtDialGaugeDefaults,DvtGaugeDefaults,"DvtDialGaugeDefaults");DvtDialGaugeDefaults.VERSION_1={background:{startAngle:180,angleExtent:180,indicatorLength:.7},metricLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")},tickLabel:{scaling:"auto",style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")}};
var DvtDialGaugeRenderer={};DvtObj.createSubclass(DvtDialGaugeRenderer,DvtObj,"DvtDialGaugeRenderer");DvtDialGaugeRenderer.render=function(a,b,c,d){DvtGaugeDataUtils.hasData(a)?(c=new DvtRectangle(0,0,c,d),DvtDialGaugeRenderer._renderShape(a,b,c),DvtDialGaugeRenderer._renderLabel(a,b,c)):DvtGaugeRenderer.renderEmptyText(a,b,new DvtRectangle(0,0,c,d))};
DvtDialGaugeRenderer.updateIndicatorAndLabel=function(a,b,c,d){a.__indicatorContainer.setAngle(DvtDialGaugeRenderer._getRotation(a,a.getOptions().value));b.removeChild(a.__label);DvtDialGaugeRenderer._renderLabel(a,b,new DvtRectangle(0,0,c,d))};
DvtDialGaugeRenderer._renderShape=function(a,b,c){var d=a.getOptions(),e=DvtDialGaugeRenderer._createBackground(a,c);b.addChild(e);d.background.majorTickCount&&d.background.radius&&DvtDialGaugeRenderer._renderTickLabels(a,b,c);var e=DvtDialGaugeRenderer._createIndicator(a,c),g=new DvtContainer(a.getCtx()),h=new DvtDialGaugeIndicator(a.getCtx());b.addChild(g);g.addChild(h);h.addChild(e);var k=e.getDimensions(),d=DvtDialGaugeRenderer._getRotation(a,d.value);b=DvtDialGaugeRenderer._getBackgroundAnchorPoint(a,
c);var m=DvtDialGaugeRenderer._getIndicatorAnchorPoint(a,c,k);c=DvtDialGaugeRenderer._getIndicatorScaleFactor(a,c,k);k=new DvtMatrix;k.translate(-m.x,-m.y);k.scale(c,c);e.setMatrix(k);h.setAngle(d);k=new DvtMatrix;k.translate(b.x,b.y);g.setMatrix(k);a.__shapes.push(h);a.__indicatorContainer=h;a.__anchorPt=b};
DvtDialGaugeRenderer._createBackground=function(a,b){var c=a.getOptions().background,d=DvtAgent.isRightToLeft(a.getCtx()),e=DvtAgent.isTouchDevice(),g=e?2*b.w:b.w,h=e?2*b.h:b.h,k=c.images;if(k&&0<k.length){var m,n,t,e=[];for(m=0;m<k.length;m++){var u="rtl"==k[m].dir;d&&u?e.push(k[m]):d||u||e.push(k[m])}k=0<e.length?e:k;for(m=0;m<k.length;m++){var v=k[m],u=v.src,e=v.width,v=v.height,w=u&&-1<u.search(".svg");0==m&&(n=e,t=v);if(w||e>=g&&v>=h||m==k.length-1){var g=new DvtImage(a.getCtx(),u,0,0,e,v),x=
new DvtMatrix,h=Math.min(b.w/e,b.h/v),k=(b.w-h*e)/2;m=(b.h-h*v)/2;x.scale(h,h);x.translate(k,m);g.setMatrix(x);w&&DvtAgent.isPlatformWebkit()&&(u=DvtImageLoader.loadImage(a.getCtx(),u,DvtObj.createCallback(g,g.__setDimensions)))&&g.__setDimensions(u);b.x+=k;b.y+=m;b.w=h*e;b.h=h*v;isNaN(c.anchorX)||isNaN(c.anchorY)||(c._anchorX=d?b.x+b.w-b.w*c.anchorX/n:b.x+b.w*c.anchorX/n,c._anchorY=b.y+b.h*c.anchorY/t);c.metricLabelBounds&&(e={},e.width=b.w*c.metricLabelBounds.width/n,e.height=b.h*c.metricLabelBounds.height/
t,e.y=b.y+b.h*c.metricLabelBounds.y/t,e.x=d?b.x+b.w-b.w*c.metricLabelBounds.x/n-e.width:b.x+b.w*c.metricLabelBounds.x/n,c._metricLabelBounds=e);d=Math.min(b.w/n,b.h/t);c._radius=c.radius*d;c._tickLabelHeight=c.tickLabelHeight*b.h/t;c._tickLabelWidth=c.tickLabelWidth*b.w/n;return g}}}return null};
DvtDialGaugeRenderer._createIndicator=function(a,b){var c=a.getOptions().indicator,d=DvtDialGaugeRenderer._getIndicatorLength(a,b),e=DvtAgent.isTouchDevice()?2*d:d,g,h,k=c.images;if(k&&0<k.length)for(var m=0;m<k.length;m++){var n=k[m],d=n.src,t=n.width,n=n.height,u=d&&-1<d.search(".svg");0==m&&(g=t,h=n);if(u||n>=e||m==k.length-1)return e=new DvtImage(a.getCtx(),d,0,0,t,n),u&&DvtAgent.isPlatformWebkit()&&DvtImageLoader.loadImage(a.getCtx(),d,DvtObj.createCallback(e,e.__setDimensions))&&(e.setWidth(t),
e.setHeight(n)),isNaN(c.anchorX)||isNaN(c.anchorY)||(c._anchorX=c.anchorX*t/g,c._anchorY=c.anchorY*n/h),e}return null};DvtDialGaugeRenderer.__getStartAngle=function(a){var b=a.getOptions().background;a=DvtAgent.isRightToLeft(a.getCtx())?180-b.startAngle:b.startAngle;return Math.PI*(90-a)/180};
DvtDialGaugeRenderer._getRotation=function(a,b){var c=a.getOptions(),d=c.background,e=c.min,c=c.max;b=Math.max(Math.min(b,c),e);e=(b-e)/(c-e);c=DvtAgent.isRightToLeft(a.getCtx());return Math.PI*(90-((c?180-d.startAngle:d.startAngle)-e*(c?-d.angleExtent:d.angleExtent)))/180};DvtDialGaugeRenderer._getBackgroundAnchorPoint=function(a,b){var c=a.getOptions().background,d=c._anchorX,c=c._anchorY;return isNaN(d)||isNaN(c)?new DvtPoint(b.x+b.w/2,b.y+b.h/2):new DvtPoint(d,c)};
DvtDialGaugeRenderer._getIndicatorLength=function(a,b){var c=Math.min(b.w,b.h)/2;return a.getOptions().background.indicatorLength*c};DvtDialGaugeRenderer._getIndicatorAnchorPoint=function(a,b,c){b=a.getOptions().indicator;a=b._anchorX;b=b._anchorY;return isNaN(a)||isNaN(b)?new DvtPoint(c.x+c.w/2,c.y+c.h):new DvtPoint(a,b)};DvtDialGaugeRenderer._getIndicatorScaleFactor=function(a,b,c){return DvtDialGaugeRenderer._getIndicatorLength(a,b)/c.h};
DvtDialGaugeRenderer._renderLabel=function(a,b,c){var d=a.getOptions();if("on"==d.metricLabel.rendered){var e=DvtGaugeRenderer.getFormattedMetricLabel(d.value,a),g=DvtGaugeRenderer.getFormattedMetricLabel(d.min,a),h=DvtGaugeRenderer.getFormattedMetricLabel(d.max,a),k=c.x+c.w/2,m=c.y+c.h/2,n=c.w,t=c.h,u=d.background._metricLabelBounds;u&&(k=u.x+u.width/2,m=u.y+u.height/2,c.w=u.width,c.h=u.height);k=new DvtOutputText(a.getCtx(),e,k,m);!d.metricLabel.style.getStyle("color")&&d.background._isDark&&d.metricLabel.style.setStyle("color",
"#CCCCCC");k.setCSSStyle(d.metricLabel.style);d=(d=parseInt(d.metricLabel.style.getFontSize()))?parseInt(d):null;d||(d=DvtGaugeRenderer.calcLabelFontSize([e,g,h],k,c),k.setTextString(e),k.setFontSize(d));k.alignCenter();k.alignMiddle();DvtTextUtils.fitText(k,n,t,b)&&(a.__label=k)}};
DvtDialGaugeRenderer._renderTickLabels=function(a,b,c){var d=a.getOptions(),e=DvtAgent.isRightToLeft(a.getCtx());if(d.background.radius&&d.background.majorTickCount){var g=d.background._radius,h=d.min,k=d.max,m=d.background.majorTickCount,n=12,t=new DvtRectangle(y,w,c.w,c.h),u=d.metricLabel.style.getStyle("font-size");d.background._tickLabelHeight&&!u&&(t.h=d.background._tickLabelHeight);d.background._tickLabelWidth&&!u&&(t.w=d.background._tickLabelWidth);if(!u)var v=new DvtOutputText(a.getCtx(),
"",y,w),n=DvtGaugeRenderer.calcLabelFontSize([DvtGaugeRenderer.formatTickLabelValue(d.max,a),DvtGaugeRenderer.formatTickLabelValue(d.min,a)],v,t);for(u=0;u<m;u++){y=h+Math.abs(k-h)*u/(m-1);e&&(y=h+Math.abs(k-h)*(m-1-u)/(m-1));var v=DvtGaugeRenderer.formatTickLabelValue(y,a),w=DvtDialGaugeRenderer._getRotation(a,y),x=DvtDialGaugeRenderer._getBackgroundAnchorPoint(a,c),y=x.x+g*Math.cos(w-Math.PI/2),w=x.y+g*Math.sin(w-Math.PI/2),v=new DvtOutputText(a.getCtx(),v,y,w);!d.tickLabel.style.getStyle("color")&&
d.background._isDark&&d.tickLabel.style.setStyle("color","#CCCCCC");v.setCSSStyle(d.tickLabel.style);d.tickLabel.style.getStyle("font-size")||v.setFontSize(n);v.alignCenter();v.alignMiddle();DvtTextUtils.fitText(v,t.w+.5,t.h+.5,b)}}};var DvtDialGaugeIndicator=function(a){this.Init(a)};DvtObj.createSubclass(DvtDialGaugeIndicator,DvtContainer,"DvtDialGaugeIndicator");DvtDialGaugeIndicator.prototype.setAngle=function(a){var b=new DvtMatrix;b.rotate(a);this.setMatrix(b);this._angleRads=a};
DvtDialGaugeIndicator.prototype.getAnimationParams=function(){return[this._angleRads]};DvtDialGaugeIndicator.prototype.setAnimationParams=function(a){a&&1==a.length&&this.setAngle(a[0])};var DvtRatingGauge=function(){};DvtObj.createSubclass(DvtRatingGauge,DvtGauge,"DvtRatingGauge");DvtRatingGauge.newInstance=function(a,b,c){var d=new DvtRatingGauge;d.Init(a,b,c);return d};DvtRatingGauge.prototype.Init=function(a,b,c){DvtRatingGauge.superclass.Init.call(this,a,b,c);this.Defaults=new DvtRatingGaugeDefaults};
DvtRatingGauge.prototype.SetOptions=function(a){DvtRatingGauge.superclass.SetOptions.call(this,this.Defaults.calcOptions(a))};
DvtRatingGauge.prototype.Render=function(a,b,c){var d=this.getOptions().__layout.outerGap,e=this.Options.max,g="vertical"==this.Options.orientation;this._size=g?Math.min(b-2*d,(c-2*d)/e):Math.min(c-2*d,(b-2*d)/e);this._bounds=g?new DvtRectangle(d,(this.Height-this._size*e)/2,this.Width-2*d,this._size*e):new DvtRectangle((this.Width-this._size*e)/2,d,this._size*e,this.Height-2*d);DvtRatingGaugeRenderer.render(this,a,b,c)};DvtRatingGauge.prototype.__getLogicalObject=function(){return new DvtRatingGaugePeer(this)};
DvtRatingGauge.prototype.GetValueAt=function(a,b){if(DvtGaugeDataUtils.hasData(this)){if("vertical"==this.Options.orientation)b=Math.max(Math.min(b,this._bounds.y+this._bounds.h),this._bounds.y),c=Math.max((this._bounds.y+this._bounds.h-b)/this._size,this.Options.min);else{a=Math.max(Math.min(a,this._bounds.x+this._bounds.w),this._bounds.x);var c=0,c=DvtAgent.isRightToLeft(this.getCtx())?Math.max((this._bounds.x+this._bounds.w-a)/this._size,this.Options.min):Math.max((a-this._bounds.x)/this._size,
this.Options.min)}return DvtGaugeRenderer.adjustForStep(this.Options,c)}return null};DvtRatingGauge.prototype.__processHoverEnd=function(a,b){this.__updateClipRects(this.Options.value,"render");this.__dispatchEvent(new DvtValueChangeEvent(this.Options.value,this.Options.value,!1))};DvtRatingGauge.prototype.__processValueChangeStart=function(a,b){this.__processValueChangeMove(a,b)};
DvtRatingGauge.prototype.__processValueChangeMove=function(a,b){var c=this.GetValueAt(a,b);this.__updateClipRects(c,"hover");this.__dispatchEvent(new DvtValueChangeEvent(this.Options.value,c,!1))};DvtRatingGauge.prototype.__processValueChangeEnd=function(a,b){var c=this.Options.value;this.Options.value=this.GetValueAt(a,b);this.Options.changed=!0;this.render();this.__dispatchEvent(new DvtValueChangeEvent(c,this.Options.value,!1));this.__dispatchEvent(new DvtValueChangeEvent(c,this.Options.value,!0))};
DvtRatingGauge.prototype.__updateClipRects=function(a,b,c){if(DvtGaugeDataUtils.hasData(this)){c||(c=this._container);var d=DvtAgent.isRightToLeft(this.getCtx()),e="vertical"==this.Options.orientation;a=Math.max(Math.min(a,this.Options.max),0);var g=0,h=a*this._size,k=a*this._size;"render"==b&&(g=a*this._size,h=0);e?(b=c.getChildAt(0),d=new DvtClipPath("unsel"+this.getId()),d.addRect(this._bounds.x,this._bounds.y,this._bounds.w,this._bounds.h-k),b.setClipPath(d),b=c.getChildAt(1),d=new DvtClipPath("sel"+
this.getId()),d.addRect(this._bounds.x,this._bounds.y+this._bounds.h-g,this._bounds.w,g),b.setClipPath(d),g=c.getChildAt(2),b=new DvtClipPath("hover"+this.getId()),b.addRect(this._bounds.x,this._bounds.y+this._bounds.h-h,this._bounds.w,h)):d?(b=c.getChildAt(0),d=new DvtClipPath("unsel"+this.getId()),d.addRect(this._bounds.x,this._bounds.y,this._bounds.w-k,this._bounds.h),b.setClipPath(d),b=c.getChildAt(1),d=new DvtClipPath("sel"+this.getId()),d.addRect(this._bounds.x+this._bounds.w-k,this._bounds.y,
g,this._bounds.h),b.setClipPath(d),g=c.getChildAt(2),b=new DvtClipPath("hover"+this.getId()),b.addRect(this._bounds.x+this._bounds.w-k,this._bounds.y,h,this._bounds.h)):(b=c.getChildAt(0),d=new DvtClipPath("unsel"+this.getId()),d.addRect(this._bounds.x+k,this._bounds.y,this._bounds.w-k,this._bounds.h),b.setClipPath(d),b=c.getChildAt(1),d=new DvtClipPath("sel"+this.getId()),d.addRect(this._bounds.x,this._bounds.y,g,this._bounds.h),b.setClipPath(d),g=c.getChildAt(2),b=new DvtClipPath("hover"+this.getId()),
b.addRect(this._bounds.x,this._bounds.y,h,this._bounds.h));g.setClipPath(b);this.UpdateAriaLiveValue(c,a)}};DvtRatingGauge.prototype.__getRatingGaugeItem=function(a){return this._container.getChildAt(0).getChildAt(a)};DvtRatingGauge.prototype.CreateEventManager=function(){return new DvtRatingGaugeEventManager(this)};var DvtRatingGaugeDefaults=function(){this.Init({skyros:DvtRatingGaugeDefaults.VERSION_1,alta:DvtRatingGaugeDefaults.SKIN_ALTA})};
DvtObj.createSubclass(DvtRatingGaugeDefaults,DvtGaugeDefaults,"DvtRatingGaugeDefaults");DvtRatingGaugeDefaults.SKIN_ALTA={unselectedState:{shape:"star",color:"#C4CED7",borderColor:null},selectedState:{shape:"star",color:"#F8C15A",borderColor:null},hoverState:{shape:"star",color:"#007CC8",borderColor:null},changedState:{shape:"star",color:"#ED2C02",borderColor:null}};
DvtRatingGaugeDefaults.VERSION_1={min:0,max:5,orientation:"horizontal",unselectedState:{shape:"star",color:"#F2F2F2",borderColor:"#B6B6B6"},selectedState:{shape:"star",color:"#F8C15A",borderColor:"#F5A700"},hoverState:{shape:"star",color:"#66A7DA",borderColor:"#4A86C5"},changedState:{shape:"star",color:"#F8C15A",borderColor:"#959595"},step:1};var DvtRatingGaugePeer=function(a){this.Init();this._gauge=a};DvtObj.createSubclass(DvtRatingGaugePeer,DvtSimpleObjPeer,"DvtRatingGaugePeer");
DvtRatingGaugePeer.prototype.getDatatip=function(a,b,c){a=this._gauge.getOptions();b=this._gauge.__getEventManager().__isMouseEditing()?DvtGaugeDataUtils.getValueThresholdIndex(this._gauge,this._gauge.GetValueAt(b,c)):DvtGaugeDataUtils.getValueThresholdIndex(this._gauge);return(b=DvtGaugeDataUtils.getThreshold(this._gauge,b))&&b.shortDesc?b.shortDesc:a.shortDesc};var DvtRatingGaugeRenderer={};DvtObj.createSubclass(DvtRatingGaugeRenderer,DvtObj,"DvtRatingGaugeRenderer");
DvtRatingGaugeRenderer.render=function(a,b,c,d){if(DvtGaugeDataUtils.hasData(a)){var e=a.getOptions(),g=DvtAgent.isRightToLeft(a.getCtx()),h="vertical"==e.orientation,k=e.__layout.outerGap,m=e.max,n=h?Math.min(c-2*k,(d-2*k)/m):Math.min(d-2*k,(c-2*k)/m);c=h?new DvtRectangle(k,(d-n*m)/2,c-2*k,n*m):new DvtRectangle((c-n*m)/2,k,n*m,d-2*k);d=DvtGaugeDataUtils.getValueThresholdIndex(a);d=DvtGaugeDataUtils.getThreshold(a,d);var k=e.selectedState.color,t=e.changedState.color,u=e.selectedState.borderColor,
v=e.changedState.borderColor;d&&d.color&&(t=k=d.color);d&&d.borderColor&&(v=u=d.borderColor);d={value:0,type:e.unselectedState.shape,color:e.unselectedState.color,borderColor:e.unselectedState.borderColor,visualEffects:e.visualEffects};k={value:0,type:e.selectedState.shape,color:k,borderColor:u,visualEffects:e.visualEffects};t={value:0,type:e.changedState.shape,color:t,borderColor:v,visualEffects:e.visualEffects};v={value:0,type:e.hoverState.shape,color:e.hoverState.color,borderColor:e.hoverState.borderColor,
visualEffects:e.visualEffects};"dot"==e.unselectedState.shape&&(d.type="circle",d.visualEffects="none",d.size=.05);u=new DvtContainer(a.getCtx());b.addChild(u);var w=new DvtContainer(a.getCtx());b.addChild(w);var x=new DvtContainer(a.getCtx());b.addChild(x);a.__updateClipRects(e.value,"render",b);for(b=0;b<m;b++){if("none"!=e.unselectedState.shape){var y=DvtLedGauge.newInstance(a.getCtx(),null,null,!0);u.addChild(y);h?y.setTranslate(c.x+c.w/2-n/2,c.y+c.h-(b+1)*n):g?y.setTranslate(c.x+c.w-(b+1)*n,
c.y+c.h/2-n/2):y.setTranslate(c.x+b*n,c.y+c.h/2-n/2);y.render(d,n,n)}e.changed?(y=DvtLedGauge.newInstance(a.getCtx(),null,null,!0),w.addChild(y),h?y.setTranslate(c.x+c.w/2-n/2,c.y+c.h-(b+1)*n):g?y.setTranslate(c.x+c.w-(b+1)*n,c.y+c.h/2-n/2):y.setTranslate(c.x+b*n,c.y+c.h/2-n/2),y.render(t,n,n)):(y=DvtLedGauge.newInstance(a.getCtx(),null,null,!0),w.addChild(y),h?y.setTranslate(c.x+c.w/2-n/2,c.y+c.h-(b+1)*n):g?y.setTranslate(c.x+c.w-(b+1)*n,c.y+c.h/2-n/2):y.setTranslate(c.x+b*n,c.y+c.h/2-n/2),y.render(k,
n,n));y=DvtLedGauge.newInstance(a.getCtx(),null,null,!0);x.addChild(y);h?y.setTranslate(c.x+c.w/2-n/2,c.y+c.h-(b+1)*n):g?y.setTranslate(c.x+c.w-(b+1)*n,c.y+c.h/2-n/2):y.setTranslate(c.x+b*n,c.y+c.h/2-n/2);y.render(v,n,n)}}else DvtGaugeRenderer.renderEmptyText(a,b,new DvtRectangle(0,0,c,d))};var DvtRatingGaugeEventManager=function(a){this.Init(a.getCtx(),a.__dispatchEvent,a);this._gauge=a};DvtObj.createSubclass(DvtRatingGaugeEventManager,DvtGaugeEventManager,"DvtRatingGaugeEventManager");
DvtRatingGaugeEventManager.prototype.OnMouseOver=function(a){if(!1===this._gauge.getOptions().readOnly){var b=this.GetRelativePosition(a.pageX,a.pageY);this._gauge.__processValueChangeStart(b.x,b.y);this.IsMouseEditing=!0}DvtRatingGaugeEventManager.superclass.OnMouseOver.call(this,a)};
DvtRatingGaugeEventManager.prototype.OnMouseOut=function(a){if(!1===this._gauge.getOptions().readOnly){var b=this.GetRelativePosition(a.pageX,a.pageY);this._gauge.__processHoverEnd(b.x,b.y);this.IsMouseEditing=!1}DvtRatingGaugeEventManager.superclass.OnMouseOut.call(this,a)};
DvtRatingGaugeEventManager.prototype.OnMouseMove=function(a){var b=this.GetRelativePosition(a.pageX,a.pageY);!1!==this._gauge.getOptions().readOnly||this.IsMouseEditing||this._gauge.getOptions().value==this._gauge.GetValueAt(b.x,b.y)||(this.IsMouseEditing=!0);DvtRatingGaugeEventManager.superclass.OnMouseMove.call(this,a)};DvtRatingGaugeEventManager.prototype.OnMouseDown=function(a){DvtGaugeEventManager.superclass.OnMouseDown.call(this,a)};
DvtRatingGaugeEventManager.prototype.ProcessKeyboardEvent=function(a){this.IsMouseEditing=!1;return DvtRatingGaugeEventManager.superclass.ProcessKeyboardEvent.call(this,a)};DvtRatingGaugeEventManager.prototype.IsShowingTooltipWhileEditing=function(){return!0};