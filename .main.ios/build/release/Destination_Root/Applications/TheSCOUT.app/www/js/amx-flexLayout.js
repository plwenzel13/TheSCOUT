(function(){var a=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"flexLayout");a.prototype.Init=function(){a.superclass.Init.call(this);this._processors=[new d("orientation","auto"),new e("itemFlexibility","equal"),new d("itemAlignment","stretch"),new d("itemJustification","space-between"),new d("styleClass","",function(a){return a}),new h("inlineStyle","style"),new h("landmark","role",function(a){return a&&"none"!==a})]};var b=function(a,b,c,d){d=a.render();a.getTag().getName()!==
b.getTag().getName()&&(a=document.createElement("div"),a.className="amx-flexLayout-itemContainer",a.appendChild(d),d=a);c&&(d.className+=" amx-flexLayout-deprecated");return d};a.prototype.render=function(a,c){var d=document.createElement("div"),e=a.getRenderedChildren(),g=this._isFlexBoxDeprecatedImplementation();e.forEach(function(c){c=b(c,a,g,!1);d.appendChild(c)});return d};a.prototype.init=function(a,b){this._processors.forEach(function(c){var d=c.getAttributeName();"inlineStyle"!==d&&"styleClass"!==
d&&c.process(b,a,null,null)})};a.prototype.updateChildren=function(a,b){return adf.mf.api.amx.AmxNodeChangeResult.REFRESH};a.prototype.getDescendentChangeAction=function(a,b){return adf.mf.api.amx.AmxNodeChangeResult.REFRESH};a.prototype._processDescendantChanges=function(a,c,d){var e=this._isFlexBoxDeprecatedImplementation(),g=a.getChildren(),h=g.map(function(a){return document.getElementById(a.getId())});d.getAffectedNodes().forEach(function(w){if(d.getChanges(w).hasChanged("rendered")){var x=w.getAttribute("rendered");
if(adf.mf.api.amx.isValueFalse(x)){if(x=document.getElementById(w.getId()))x.parentNode!==c&&(x=x.parentNode),adf.mf.api.amx.removeDomNode(x)}else{x=b(w,a,e,!0);x.classList.add("new");for(w=g.indexOf(w);w<h.length&&!h[w];)w++;h[w]?(w=h[w],w.parentNode!==c&&(w=w.parentNode),c.insertBefore(x,w)):c.appendChild(x)}}});h=null};a.prototype.refresh=function(a,b,c){var d=document.getElementById(a.getId()),e=new adf.mf.api.amx.AmxNodeUpdateArguments;if(c)this._processDescendantChanges(a,d,c),a.getChildren().forEach(function(a,
b){-1===c.getAffectedNodes().indexOf(a)&&null!==document.getElementById(a.getId())&&e.setAffectedAttribute(a,"inlineStyle")});else if(b.hasChanged("inlineStyle")||b.hasChanged("styleClass")){var g=a.getChildren(),h=g.map(function(a){return document.getElementById(a.getId())});g.forEach(function(a,b){h[b]&&e.setAffectedAttribute(a,"inlineStyle")});h=null}this._processors.forEach(function(e){e.process(a,d,b,c)});adf.mf.api.amx.markNodeForUpdate(e)};a.prototype._isFlexBoxDeprecatedImplementation=function(){if(null==
this._deprecated)if("undefined"!==typeof CSS&&CSS.supports("(display: flex) or (display: -webkit-flex) or (display: -ms-flex)"))this._deprecated=!1;else{var a=document.createElement("div");a.style.display="-ms-flex";a.style.display="-webkit-flex";a.style.display="flex";document.body.appendChild(a);this._deprecated="-ms-flex"!==a.style.display&&"-webkit-flex"!==a.style.display&&"flex"!==a.style.display;document.body.removeChild(a)}return this._deprecated};var c=function(a){this.Init(a)};adf.mf.api.AdfObject.createSubclass(c,
adf.mf.api.AdfObject,"adf.mf.internal.amx.Processor");c.prototype.Init=function(a){this._attribute=a};c.prototype.getAttributeName=function(){return this._attribute};c.prototype.isChanged=function(a){return a?a.hasChanged(this._attribute):!0};var d=function(a,b,c){this.Init(a,b,c)};adf.mf.api.AdfObject.createSubclass(d,c,"adf.mf.internal.amx.CSSAttributeProcessor");d.prototype.Init=function(a,b,c){d.superclass.Init.call(this,a);var e=function(a){return function(b){return"adfmf-flexLayout-"+a+"_"+
b}};this._translator=c||e(a);this._defaultValue=b};d.prototype.process=function(a,b,c,d){if(this.isChanged(c)){d=this._translator;var e=this.getAttributeName();c&&(c=d(c.getOldValue(e)||this._defaultValue).split(" "),b.classList.remove.apply(b.classList,c));c=d(a.getAttribute(e)||this._defaultValue).split(" ");b.classList.add.apply(b.classList,c)}};var e=function(a,b,c){this.Init(a,b,c)};adf.mf.api.AdfObject.createSubclass(e,d,"adf.mf.internal.amx.CSSChildAttributeProcessor");e.prototype._mapToChildren=
function(a,b,c,d){b=b.split(",");b=b.map(function(a){return c(a.trim())});for(var e=0,g=a.length;e<g;e++)a[e]&&d.call(this,a[e],b[e%b.length])};var g=function(a,b,c){a=[];var d=b.getChildren();a.length=d.length;for(var e=0,g=d.length;e<g;e++){var h=d[e];a[e]=null;var x=h.getId();c&&-1===c.indexOf(x)||((x=document.getElementById(x))&&h.getTag().getName()!==b.getTag().getName()&&(x=x.parentNode),a[e]=x)}return a};e.prototype.process=function(a,b,c,d){if(this.isChanged(c)||d){var e=null;d&&(e=d.getAffectedNodes().map(function(a){return a.getId()}));
b=g(b,a,e);d=this.getAttributeName();c&&this._mapToChildren(b,c.getOldValue(d)||this._defaultValue,this._translator,function(a,b){null!=b&&""!=b&&a.classList.remove.apply(a.classList,b.split(" "))});this._mapToChildren(b,a.getAttribute(d)||this._defaultValue,this._translator,function(a,b){null!=b&&""!=b&&a.classList.add.apply(a.classList,b.split(" "))})}};var h=function(a,b,c){this.Init(a,b,c)};adf.mf.api.AdfObject.createSubclass(h,c,"adf.mf.internal.amx.DOMAttributeProcessor");h.prototype.Init=function(a,
b,c){h.superclass.Init.call(this,a);this._condition=c||function(a){return a?!0:!1};this._domAttribute=b};h.prototype.process=function(a,b,c,d){this.isChanged(c)&&(a=a.getAttribute(this.getAttributeName()),this._condition(a)?b.setAttribute(this._domAttribute,a):b.removeAttribute(this._domAttribute))}})();