var DvtAxis=function(){};DvtObj.createSubclass(DvtAxis,DvtBaseComponent,"DvtAxis");DvtAxis.newInstance=function(a,b,c){var d=new DvtAxis;d.Init(a,b,c);return d};DvtAxis.getDefaults=function(a){return(new DvtAxisDefaults).getDefaults(a)};
DvtAxis.prototype.Init=function(a,b,c){DvtAxis.superclass.Init.call(this,a,b,c);this.Defaults=new DvtAxisDefaults;this._eventManager=new DvtAxisEventManager(this);this._eventManager.addListeners(this);DvtAgent.isTouchDevice()||this._eventManager.setKeyboardHandler(new DvtAxisKeyboardHandler(this._eventManager,this));this._bounds=null};DvtAxis.MINIMUM_AXIS_BUFFER=10;
DvtAxis.prototype.SetOptions=function(a){a?this.Options="off"==a.rendered?a:this.Defaults.calcOptions(a):this.Options||(this.Options=this.GetDefaults())};DvtAxis.prototype.getPreferredSize=function(a,b,c){this.SetOptions(a);return DvtAxisRenderer.getPreferredSize(this,b,c)};DvtAxis.prototype.render=function(a,b,c,d,e){this.SetOptions(a);this._navigablePeers=[];this.Width=b;this.Height=c;this.removeChildren();d||(d=0);e||(e=0);a=new DvtRectangle(d,e,b,c);DvtAxisRenderer.render(this,a)};
DvtAxis.prototype.__registerObject=function(a){(null!=a.getDatatip()||null!=a.getAction()||a.isDrillable())&&this._navigablePeers.push(a)};DvtAxis.prototype.__getKeyboardObjects=function(){return this._navigablePeers};DvtAxis.prototype.isNavigable=function(){return 0<this._navigablePeers.length};DvtAxis.prototype.getKeyboardFocus=function(){return null!=this._eventManager?this._eventManager.getFocus():null};
DvtAxis.prototype.setKeyboardFocus=function(a,b){if(null!=this._eventManager){for(var c=this.__getKeyboardObjects(),d=a.getId(),e=!1,g=0;g<c.length;g++){var h=c[g].getId();if(d instanceof Array&&h instanceof Array&&DvtArrayUtils.equals(d,h)||d===h){this._eventManager.setFocusObj(c[g]);e=!0;b&&c[g].showKeyboardFocusEffect();break}}e||this._eventManager.setFocusObj(this._eventManager.getKeyboardHandler().getDefaultNavigable(c));if(c=this.getKeyboardFocus())d=c.getDisplayable(),d.setAriaProperty("label",
c.getAriaLabel()),this.getCtx().setActiveElement(d)}};DvtAxis.prototype.processEvent=function(a,b){this===b&&this.__dispatchEvent(a)};DvtAxis.prototype.__getEventManager=function(){return this._eventManager};DvtAxis.prototype.getInfo=function(){return this.Info};DvtAxis.prototype.__setInfo=function(a){this.Info=a};DvtAxis.prototype.getWidth=function(){return this.Width};DvtAxis.prototype.getHeight=function(){return this.Height};
DvtAxis.prototype.destroy=function(){this._eventManager&&(this._eventManager.removeListeners(this),this._eventManager.destroy(),this._eventManager=null);DvtAxis.superclass.destroy.call(this)};DvtAxis.prototype.__setBounds=function(a){this._bounds=a};DvtAxis.prototype.__getBounds=function(){return this._bounds};DvtAxis.prototype.getAutomation=function(){return new DvtAxisAutomation(this)};var DvtAxisConstants={};DvtObj.createSubclass(DvtAxisConstants,DvtObj,"DvtAxisConstants");
DvtAxisConstants.TICK_LABEL="tickLabel";DvtAxisConstants.TITLE="title";var DvtAbstractAxisValueFormatter=function(){};DvtObj.createSubclass(DvtAbstractAxisValueFormatter,DvtObj,"DvtAbstractAxisValueFormatter");DvtAbstractAxisValueFormatter.prototype.format=function(a){};var DvtAxisAutomation=function(a){this._axis=a;this._options=this._axis.getOptions();this._axisInfo=this._axis.getInfo()};DvtObj.createSubclass(DvtAxisAutomation,DvtAutomation,"DvtAxisAutomation");
DvtAxisAutomation.prototype.GetSubIdForDomElement=function(a){var b=this._axis.__getEventManager().GetLogicalObject(a);if(b&&b instanceof DvtSimpleObjPeer){if(b.getParams().type==DvtAxisConstants.TITLE)return"title";if(this._options.groups){a=b.getParams().level;for(var b=this._axisInfo.getStartIndex(b.getParams().index,a),c="",d=0;d<=a;d++)for(var e=this._axisInfo.getLabels(this._axis.getCtx(),d),g=0;g<e.length;g++){var h=this._axisInfo.getLabelIndex(e[g]);this._axisInfo.getStartIndex(h,d)<=b&&this._axisInfo.getEndIndex(h,
d)>=b&&(c+="["+this._axisInfo.getPosition(h,d)+"]")}if(0<c.length)return"item"+c}}return null};
DvtAxisAutomation.prototype.getDomElementForSubId=function(a){if("title"==a){if(a=this._axisInfo.getTitle())return a.getElem()}else if(this._axisInfo instanceof DvtGroupAxisInfo)for(var b=a.split("[").length-1-1,c=0,d=0,e=0;e<=b;e++){var g=a.indexOf("["),h=a.indexOf("]"),g=a.substring(g+1,h);a=a.substring(h+1);for(var h=this._axisInfo.getLabels(this._axis.getCtx(),e),k,m=0;m<h.length;m++)if(k=this._axisInfo.getLabelIndex(h[m]),this._axisInfo.getStartIndex(k,e)==d){c=k;break}for(m=c;m<h.length;m++)if(k=
this._axisInfo.getLabelIndex(h[m]),this._axisInfo.getPosition(k,e)==g){if(0==a.length)return h[m].getElem();d=this._axisInfo.getStartIndex(k,e);break}}return null};var DvtAxisDefaults=function(){this.Init({skyros:DvtAxisDefaults.VERSION_1,alta:DvtAxisDefaults.SKIN_ALTA,next:DvtAxisDefaults.SKIN_NEXT})};DvtObj.createSubclass(DvtAxisDefaults,DvtBaseComponentDefaults,"DvtAxisDefaults");DvtAxisDefaults.SKIN_NEXT={skin:DvtCSSStyle.SKIN_NEXT,layout:{titleGap:6}};
DvtAxisDefaults.SKIN_ALTA={axisLine:{lineColor:"#9E9E9E"},majorTick:{lineColor:"rgba(196,206,215,0.4)",baselineColor:"auto"},minorTick:{lineColor:"rgba(196,206,215,0.2)"},tickLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; white-space:normal;")},titleStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px;")};
DvtAxisDefaults.VERSION_1={position:null,baselineScaling:"zero",axisLine:{lineColor:"#8A8DAC",lineWidth:1,rendered:"on"},majorTick:{lineColor:"rgba(138,141,172,0.4)",lineWidth:1,rendered:"auto",lineStyle:"solid"},minorTick:{lineColor:"rgba(138,141,172,0.20)",lineWidth:1,rendered:"off",lineStyle:"solid"},tickLabel:{scaling:"auto",style:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 11px; color: #333333;"),rotation:"auto",rendered:"on"},titleStyle:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 11px; color: #737373;"),
startGroupOffset:0,endGroupOffset:0,layout:{titleGap:4,radialLabelGap:5,insideLabelGapWidth:4,insideLabelGapHeight:2,hierarchicalLabelGapHeight:8,hierarchicalLabelGapWidth:15},_locale:"en-us"};DvtAxisDefaults.getGapSize=function(a,b,c){a=Math.min(DvtTextUtils.getTextStringHeight(a,b.tickLabel.style)/14,1);return Math.ceil(c*a)};var DvtAxisEventManager=function(a){this.Init(a.getCtx(),a.processEvent,a);this._axis=a};DvtObj.createSubclass(DvtAxisEventManager,DvtEventManager,"DvtAxisEventManager");
DvtAxisEventManager.getUIEventParams=function(a,b,c,d){return{type:a,id:b,index:c,level:d}};DvtAxisEventManager.prototype.FireUIEvent=function(a,b){b instanceof DvtSimpleObjPeer&&null!=b.getParams()&&this.FireEvent(new DvtComponentUIEvent(a,b.getParams()),this._axis)};DvtAxisEventManager.prototype.OnClick=function(a){DvtAxisEventManager.superclass.OnClick.call(this,a);var b=this.GetLogicalObject(a.target);b&&this.processActionEvent(b)&&a.stopPropagation()};
DvtAxisEventManager.prototype.HandleTouchClickInternal=function(a){var b=this.GetLogicalObject(a.target);b&&(a=a.touchEvent,this.processActionEvent(b)&&a&&a.preventDefault())};
DvtAxisEventManager.prototype.processActionEvent=function(a){return a&&a.getAction&&a.getAction()?(this.FireEvent(new DvtActionEvent(DvtActionEvent.SUBTYPE_ACTION,a.getAction(),a.getId()),this._axis),!0):a instanceof DvtAxisObjPeer&&a.isDrillable()?(this.FireEvent(new DvtDrillEvent(a.getId(),null,a.getGroup()),this._axis),!0):!1};var DvtAxisKeyboardHandler=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtAxisKeyboardHandler,DvtKeyboardHandler,"DvtAxisKeyboardHandler");
DvtAxisKeyboardHandler.prototype.Init=function(a,b){DvtAxisKeyboardHandler.superclass.Init.call(this,a);this._axis=b};
DvtAxisKeyboardHandler.prototype.processKeyDown=function(a){var b=a.keyCode,c=this._eventManager.getFocus(),d=null;b==DvtKeyboardEvent.TAB?(c&&(DvtEventManager.consumeEvent(a),d=c),b=this._axis.__getKeyboardObjects(),0<b.length&&(DvtEventManager.consumeEvent(a),d=this.getDefaultNavigable(b))):b==DvtKeyboardEvent.ENTER?c&&(this._eventManager.processActionEvent(c),DvtEventManager.consumeEvent(a)):d=DvtAxisKeyboardHandler.superclass.processKeyDown.call(this,a);return d};var DvtAxisRenderer={};
DvtObj.createSubclass(DvtAxisRenderer,DvtObj,"DvtAxisRenderer");
DvtAxisRenderer.getPreferredSize=function(a,b,c){var d=DvtAxisRenderer._createAxisInfo(a,new DvtRectangle(0,0,b,c)),e=a.getCtx(),g=a.getOptions(),h=0,k="top"==g.position||"bottom"==g.position;if("off"==g.rendered||0>=b||0>=c)return k?new DvtDimension(b,0):new DvtDimension(0,c);g.title&&(h=DvtTextUtils.getTextStringHeight(e,g.titleStyle)+DvtAxisRenderer._getTitleGap(a));"on"==g.tickLabel.rendered&&"inside"!=g.tickLabel.position&&(k?(g=DvtTextUtils.getTextStringHeight(e,g.tickLabel.style),d instanceof
DvtDataAxisInfo?h+=g:d instanceof DvtTimeAxisInfo?h+=null!=d.getLabels(e,1)?2*g:g:d instanceof DvtGroupAxisInfo&&(h=DvtAxisRenderer._getGroupAxisPreferredSize(a,d,h,c,k))):d instanceof DvtDataAxisInfo?h+=DvtTextUtils.getMaxTextDimensions(d.getLabels(e)).w:d instanceof DvtTimeAxisInfo?(a=d.getLabels(e),a=DvtTextUtils.getMaxTextDimensions(a).w,d=d.getLabels(e,1),d=null!=d?DvtTextUtils.getMaxTextDimensions(d).w:0,h+=Math.max(a,d)):d instanceof DvtGroupAxisInfo&&(h=DvtAxisRenderer._getGroupAxisPreferredSize(a,
d,h,b,k)));return k?new DvtDimension(b,Math.min(h,c)):new DvtDimension(Math.min(h,b),c)};DvtAxisRenderer.render=function(a,b){var c=DvtAxisRenderer._createAxisInfo(a,b);"off"!=a.getOptions().rendered&&(a.__setBounds(b.clone()),DvtAxisRenderer._renderTitle(a,c,b),DvtAxisRenderer._renderLabels(a,c,b))};DvtAxisRenderer._createAxisInfo=function(a,b){var c=DvtAxisInfo.newInstance(a.getCtx(),a.getOptions(),b);a.__setInfo(c);return c};
DvtAxisRenderer._getTitleGap=function(a){var b=a.getOptions();return DvtAxisDefaults.getGapSize(a.getCtx(),b,b.layout.titleGap)};
DvtAxisRenderer._renderTitle=function(a,b,c){var d=a.getOptions();if(d.title){var e=d.position;if("radial"!=e&&"tangential"!=e){var g="top"==d.position||"bottom"==d.position,h=g?c.w:c.h,g=g?c.h:c.w;if(d=DvtAxisRenderer._createText(a.__getEventManager(),a,d.title,d.titleStyle,0,0,h,g,DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TITLE))){h=DvtAxisRenderer._getTitleGap(a);g=(b.getStartOverflow()-b.getEndOverflow())/2;a=DvtAgent.isRightToLeft(a.getCtx());var k=DvtTextUtils.getTextHeight(d);d.alignCenter();
"top"==e?(d.setX(c.x+g+c.w/2),d.setY(c.y),c.y+=k+h,c.h-=k+h):"bottom"==e?(d.setX(c.x+g+c.w/2),d.setY(c.y+c.h-k),c.h-=k+h):"left"==e?(d.alignMiddle(),d.setRotation(a?Math.PI/2:3*Math.PI/2),d.setTranslate(c.x+k/2,c.y+c.h/2),c.x+=k+h,c.w-=k+h):"right"==e&&(d.alignMiddle(),d.setRotation(a?Math.PI/2:3*Math.PI/2),d.setTranslate(c.x+c.w-k/2,c.y+c.h/2),c.w-=k+h);b.setTitle(d)}}}};
DvtAxisRenderer._renderLabels=function(a,b,c){var d=a.getOptions();"on"==d.tickLabel.rendered&&(d=d.position,"top"==d||"bottom"==d?DvtAxisRenderer._renderLabelsHoriz(a,b,c):"tangential"==d?DvtAxisRenderer._renderLabelsTangent(a,b,c):DvtAxisRenderer._renderLabelsVert(a,b,c),DvtAxisRenderer._renderGroupSeparators(a,b,c))};
DvtAxisRenderer._renderLabelsHoriz=function(a,b,c){for(var d=a.getCtx(),e=a.getOptions(),g=e.position,h="inside"==e.tickLabel.position,k=DvtAgent.isRightToLeft(d),m=b instanceof DvtGroupAxisInfo,n=m&&1<b.getNumLevels(),t=n?0:null,u=b.getLabels(d,t),v=n?DvtAxisDefaults.getGapSize(d,e,e.layout.hierarchicalLabelGapHeight):0;u;){for(var w=0,x=0,y=0;y<u.length;y++){var z=u[y];if(null!=z){w=z instanceof DvtMultilineText||z instanceof DvtBackgroundMultilineText;if(b.isLabelRotated(t)){if((!w||w&&!z.isWrapEnabled())&&
!DvtTextUtils.fitText(z,c.h,c.w,a))continue;k?z.alignLeft():z.alignRight();n?(w=DvtTextUtils.getTextWidth(z),z.setTranslateY(c.h-w),x=Math.max(x,w)):z.setTranslateY(c.y)}else{if(!h&&DvtTextUtils.guessTextDimensions(z).h-1>c.h)continue;n&&"bottom"==g?z.setY(c.h):"bottom"==g?z.setY(c.y):z.setY(c.y+c.h);!n&&("bottom"==g&&!h||"top"==g&&h)?z.alignTop():n&&"top"==g?z.alignTop():z.alignBottom();if(n)x=Math.max(x,DvtTextUtils.guessTextDimensions(z).h);else if(h){var v=DvtAxisDefaults.getGapSize(d,e,e.layout.insideLabelGapWidth);
k?z.alignRight():z.alignLeft();z.setX(z.getX()+v*(k?-1:1))}}var A=m?b.getLabelIndex(z):y,w=b.getDatatip(A,t),B=z.getUntruncatedTextString(),D=b.getAction(A,t),C=b.isDrillable(A,t),G=b.getGroup(A,t),A=DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TICK_LABEL,z.getTextString(),A,t);a.__getEventManager().associate(z,new DvtAxisObjPeer(a,z,G,D,C,B,w,A));n?b.setLastRenderedLevel(t):x=Math.max(x,DvtTextUtils.guessTextDimensions(z).h);a.addChild(z)}}if(n){for(y=0;y<u.length;y++)z=u[y],null!=z&&(w=
b.isLabelRotated(t),B=t<b.getNumLevels()-1,!w&&B?(z.setY(c.h-x/2),z.alignMiddle()):z.setTranslateY(c.h-x));c.y+=x+v;c.h-=x+v;t++;u=b.getLabels(a.getCtx(),t)}else c.y+=x,c.h-=x,u=null}if(b instanceof DvtTimeAxisInfo&&(u=b.getLabels(a.getCtx()),d=b.getLabels(a.getCtx(),1),e=0,null!=d))for(y=0;y<d.length;y++)z=d[y],null==z||DvtTextUtils.guessTextDimensions(z).h-1>c.h||(a.__getEventManager().associate(z,new DvtSimpleObjPeer(null,null,null,DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TICK_LABEL,
z.getTextString()))),n=m=0,g=b.getOptions()._maxOverflowCoord,h=b.getOptions()._minOverflowCoord,null!=u[y]&&(e=u[y].measureDimensions().w/2,m=b._level1Overflow[y],n=b._level2Overflow[y]),0==m&&0==n?(m=z.getX(),z.setX(k?m+e<=g?m+e:g:m-e>=h?m-e:h)):0>m?z.setX(h):0<m&&z.setX(g),z.alignTop(),z.setY(c.y),a.addChild(z))};
DvtAxisRenderer._renderLabelsVert=function(a,b,c){var d=a.getOptions(),e=d.position,g=a.getCtx(),h=DvtAgent.isRightToLeft(g),k=b instanceof DvtDataAxisInfo,m="inside"==d.tickLabel.position,n,t,u,v=b instanceof DvtGroupAxisInfo,w=v&&1<b.getNumLevels(),x=w?0:null;n=b.getLabels(a.getCtx(),x);var y=0;w?(t=DvtAxisDefaults.getGapSize(g,d,d.layout.hierarchicalLabelGapWidth),u=DvtTextUtils.getMaxTextDimensions(n).w):"radial"==e?(t=DvtAxisDefaults.getGapSize(g,d,d.layout.radialLabelGap),y=c.x+c.w/2,y=h?y+
(t+DvtTextUtils.getMaxTextDimensions(n).w):y-t):"left"==e?(y=c.x+c.w,k&&m&&(y+=DvtTextUtils.getMaxTextDimensions(n).w)):(y=c.x,k&&!m&&(y+=DvtTextUtils.getMaxTextDimensions(n).w));for(var z=function(t,z){var A=t instanceof DvtMultilineText||t instanceof DvtBackgroundMultilineText,A=!A||A&&!t.isWrapEnabled();if(!(w&&DvtTextUtils.getMaxTextDimensions(n).w-1>c.w)&&(w||m||!A||DvtTextUtils.fitText(t,c.w,c.h,a))){z=v?b.getLabelIndex(t):z;var A=b.getDatatip(z,x),B=t.getUntruncatedTextString(),E=b.getAction(z,
x),I=b.isDrillable(z,x),K=b.getGroup(z,x),J=DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TICK_LABEL,t.getTextString(),z,x);a.__getEventManager().associate(t,new DvtAxisObjPeer(a,t,K,E,I,B,A,J));w?(t.alignRight(),t.setX(h?c.w:c.x+u),b.setLastRenderedLevel(x)):(t.setX(y),k||"right"!=e?t.alignRight():t.alignLeft(),m&&(t.alignBottom(),t.setY(t.getY()-DvtAxisDefaults.getGapSize(g,d,d.layout.insideLabelGapHeight))),"radial"==e&&(A=t.getY(),t.setY(c.y+c.h/2-A),B=t.getDimensions(),E=.15*B.h,E=DvtPathUtils.roundedRectangle(B.x-
E,B.y,B.w+2*E,B.h,2,2,2,2),E=new DvtPath(a.getCtx(),E),I=t.getCSSStyle().getStyle(DvtCSSStyle.BACKGROUND_COLOR),A=A+B.h/2>b.getEndCoord()&&"circle"==a.getOptions().polarGridShape?1:.3,I?E.setSolidFill(I):E.setSolidFill("#FFFFFF",A),a.addChild(E)));a.addChild(t)}};n;){for(var A=0;A<n.length;A++){var B=n[A];null!=B&&z(B,A)}if(w)c.x+=u+t,c.w-=u+t,x++,u=(n=b.getLabels(a.getCtx(),x))?DvtTextUtils.getMaxTextDimensions(n).w:null;else break}if(b instanceof DvtTimeAxisInfo&&(t=b.getLabels(a.getCtx(),1),null!=
t))for(A=0;A<t.length;A++)B=t[A],null!=B&&z(B,A)};
DvtAxisRenderer._renderLabelsTangent=function(a,b,c){for(var d=b.getLabels(a.getCtx()),e=0;e<d.length;e++){var g=d[e];if(null!=g){var h=c.w/2-Math.abs(g.getX()),k=c.h/2-Math.abs(g.getY());if(DvtTextUtils.fitText(g,h,k,a)){var m=b instanceof DvtGroupAxisInfo?b.getLabelIndex(g):e,h=b.getDatatip(m),k=g.getUntruncatedTextString(),n=b.getAction(m),t=b.isDrillable(m),u=b.getGroup(m),m=DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TICK_LABEL,g.getTextString(),m);a.__getEventManager().associate(g,
new DvtAxisObjPeer(a,g,u,n,t,k,h,m));g.setTranslateX(c.x+c.w/2);g.setTranslateY(c.y+c.h/2);a.addChild(g)}}}};DvtAxisRenderer._createText=function(a,b,c,d,e,g,h,k,m){c=new DvtOutputText(b.getCtx(),c,e,g);c.setCSSStyle(d);return DvtTextUtils.fitText(c,h,k,b)?(a.associate(c,new DvtSimpleObjPeer(c.getUntruncatedTextString(),null,null,m)),c):null};
DvtAxisRenderer._renderGroupSeparators=function(a,b,c){if(b instanceof DvtGroupAxisInfo&&b.areSeparatorsRendered()&&!(1>=b.getNumLevels()||0>=b.getLastRenderedLevel())){var d=a.getOptions();c=d.position;c="top"==c||"bottom"==c;for(var e=a.getCtx(),g=DvtAgent.isRightToLeft(e),h=b.getSeparatorColor(),h=new DvtSolidStroke(h,1,1),k=0,e=c?DvtAxisDefaults.getGapSize(e,d,d.layout.hierarchicalLabelGapHeight):DvtAxisDefaults.getGapSize(e,d,d.layout.hierarchicalLabelGapWidth),m=d.startGroupOffset,d=d.endGroupOffset,
n,t,u,v,w,x=b.getLastRenderedLevel();0<=x;x--){var y=b.getLabels(a.getCtx(),x);n=DvtTextUtils.getMaxTextDimensions(y);var z=b.isLabelRotated(x),A=z||!c?n.w:n.h;if(0!=A){var B=!1,D=null;if(x<b.getLastRenderedLevel())for(var C=0;C<y.length;C++){var G=y[C];if(null!=G){var F=b.getLabelIndex(G),E=0==b.getLabelAt(F,x).length;if(!E){var I=E&&0==x&&(0==F||F==y.length-1),K=G&&null==y[F-1],J=G&&null==y[F+1];w=b.getStartIndex(F,x);var H=b.getEndIndex(F,x);if(c){if(G&&(v=G instanceof DvtMultilineText||G instanceof
DvtBackgroundMultilineText?G.getYAlignCoord():G.getY(),n=b.getCoordAt(w-m),t=z?v+.5*k:v-A/2-.5*k-e,u=b.getCoordAt(H+d),v=z?v+A+k+2*e:v,E&&I||0!=B||null==n||DvtAxisRenderer._addSeparatorLine(a,h,n,v,n,t),null==u||I||DvtAxisRenderer._addSeparatorLine(a,h,u,v,u,t)),!E){if(G)var M=z?DvtTextUtils.getTextHeight(G):DvtTextUtils.getTextWidth(G);n=K&&0==D?b.getStartCoord():b.getBoundedCoordAt(w-m);B=b.getLabelAt(F+1,x);u=J&&B&&0<B.length?b.getEndCoord():b.getBoundedCoordAt(H+d);t=G?g?G.getX()+.5*M:G.getX()-
.5*M:b.getBoundedCoordAt(H+d);w=G?g?G.getX()-.5*M:G.getX()+.5*M:b.getBoundedCoordAt(w-m);G&&(z?DvtAxisRenderer._addSeparatorLine(a,h,n,v,u,v):(J=g?.5*-DvtTextUtils.getTextHeight(G):.5*DvtTextUtils.getTextHeight(G),H=g?w+J>u:w+J<u,(g?n>t-J:n<t-J)&&DvtAxisRenderer._addSeparatorLine(a,h,n,v,t-J,v),H&&DvtAxisRenderer._addSeparatorLine(a,h,w+J,v,u,v)))}}else G&&(n=g?G.getX()-A-.5*e:G.getX()+.5*e,t=b.getCoordAt(w-m),u=g?G.getX()+.5*e:G.getX()-A-.5*e,v=b.getCoordAt(H+d),(!E&&0==B||0==F&&E&&0!=x)&&null!=
t&&DvtAxisRenderer._addSeparatorLine(a,h,n,t,u,t),null==v||I||DvtAxisRenderer._addSeparatorLine(a,h,u,v,n,v)),E||(t=K&&0==D?0:b.getBoundedCoordAt(w-m),B=b.getLabelAt(F+1,x),v=J&&B&&0<B.length?b.getEndCoord():b.getBoundedCoordAt(H+d),G&&DvtAxisRenderer._addSeparatorLine(a,h,u,t,u,v));B=!E&&null!=G;D=null!=G||null==G&&E}}}}k=A}}};DvtAxisRenderer._addSeparatorLine=function(a,b,c,d,e,g){c=new DvtLine(a.getCtx(),c,d,e,g);c.setStroke(b);c.setPixelHinting(!0);a.addChild(c)};
DvtAxisRenderer._getGroupAxisPreferredSize=function(a,b,c,d,e){var g=a.getCtx(),h=a.getOptions();a=b.getNumLevels();for(var h=1<a?DvtAxisDefaults.getGapSize(g,h,h.layout[e?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth"]):0,k=0;k<a;k++){var m=b.getLabels(g,k);e?(m=DvtTextUtils.getMaxTextDimensions(m),m=b.isLabelRotated(k)?m.w:m.h):m=DvtTextUtils.getMaxTextDimensions(m).w;if(c+m<=d)c+=m+h;else{0==k&&(c=d);break}}0!=k&&(c-=h);return c};var DvtAxisInfo=function(){};
DvtObj.createSubclass(DvtAxisInfo,DvtObj,"DvtAxisInfo");DvtAxisInfo.newInstance=function(a,b,c){return b.timeAxisType&&"disabled"!=b.timeAxisType?new DvtTimeAxisInfo(a,b,c):isNaN(b.dataMin)&&isNaN(b.dataMax)?new DvtGroupAxisInfo(a,b,c):new DvtDataAxisInfo(a,b,c)};
DvtAxisInfo.prototype.Init=function(a,b,c){this._context=a;this.Position=b.position;this._radius=b._radius;this._title=null;"top"==this.Position||"bottom"==this.Position?(this.StartCoord=c.x,this.EndCoord=c.x+c.w):"left"==this.Position||"right"==this.Position?(this.StartCoord=c.y,this.EndCoord=c.y+c.h):"radial"==this.Position?(this.StartCoord=0,this.EndCoord=this._radius):"tangential"==this.Position&&(DvtAgent.isRightToLeft(a)?(this.StartCoord=2*Math.PI,this.EndCoord=0):(this.StartCoord=0,this.EndCoord=
2*Math.PI));this.MinViewportExtent=this.DataMax=this.DataMin=this.GlobalMax=this.GlobalMin=this.MaxValue=this.MinValue=null;this.EndOverflow=this.StartOverflow=0;null==b.leftBuffer&&(b.leftBuffer=Infinity);null==b.rightBuffer&&(b.rightBuffer=Infinity);this.Options=b};DvtAxisInfo.prototype.getCtx=function(){return this._context};DvtAxisInfo.prototype.getOptions=function(){return this.Options};DvtAxisInfo.prototype.getLabels=function(a,b){return null};DvtAxisInfo.prototype.getTitle=function(){return this._title};
DvtAxisInfo.prototype.setTitle=function(a){this._title=a};DvtAxisInfo.prototype.getMajorTickCoords=function(){return[]};DvtAxisInfo.prototype.getMinorTickCoords=function(){return[]};DvtAxisInfo.prototype.getBaselineCoord=function(){return null};DvtAxisInfo.prototype.getValueAt=function(a){if(null==a)return null;var b=Math.min(this.StartCoord,this.EndCoord),c=Math.max(this.StartCoord,this.EndCoord);return a<b||a>c?null:this.getUnboundedValueAt(a)};
DvtAxisInfo.prototype.getCoordAt=function(a){return null==a?null:a<this.MinValue||a>this.MaxValue?null:this.getUnboundedCoordAt(a)};DvtAxisInfo.prototype.getBoundedValueAt=function(a){if(null==a)return null;var b=Math.min(this.StartCoord,this.EndCoord),c=Math.max(this.StartCoord,this.EndCoord);a<b?a=b:a>c&&(a=c);return this.getUnboundedValueAt(a)};DvtAxisInfo.prototype.getBoundedCoordAt=function(a){if(null==a)return null;a<this.MinValue?a=this.MinValue:a>=this.MaxValue&&(a=this.MaxValue);return this.getUnboundedCoordAt(a)};
DvtAxisInfo.prototype.getUnboundedValueAt=function(a){return null};DvtAxisInfo.prototype.getUnboundedCoordAt=function(a){return null};DvtAxisInfo.prototype.getDatatip=function(a,b){return null};DvtAxisInfo.prototype.getLabelBackground=function(a,b){return null};DvtAxisInfo.prototype.getAction=function(a){return null};DvtAxisInfo.prototype.isDrillable=function(a){return null};DvtAxisInfo.prototype.getBaselineCoord=function(){return null};DvtAxisInfo.prototype.isLabelRotated=function(){return!1};
DvtAxisInfo.prototype.CreateLabel=function(a,b,c,d,e){if("tangential"==this.Position){e=16/180*Math.PI;var g=1/180*Math.PI,h=.5*this.getTickLabelFontSize(),k=this._radius+h;if(c<g||c>2*Math.PI-g)k+=h;h=Math.round(k*Math.sin(c));k=Math.round(-k*Math.cos(c));a=d?new DvtBackgroundOutputText(a,b,h,k,d):new DvtOutputText(a,b,h,k);c<g||Math.abs(c-Math.PI)<g||c>2*Math.PI-g?a.alignCenter():c<Math.PI?a.alignLeft():a.alignRight();Math.abs(c-Math.PI/2)<e||Math.abs(c-3*Math.PI/2)<e?a.alignMiddle():c<Math.PI/
2||c>3*Math.PI/2?a.alignBottom():a.alignTop()}else e?a=d?new DvtBackgroundMultilineText(a,b,c,c,d):new DvtMultilineText(a,b,c,c):(a=d?new DvtBackgroundOutputText(a,b,c,c,d):new DvtOutputText(a,b,c,c),a.alignMiddle()),a.alignCenter();(a instanceof DvtOutputText||a instanceof DvtMultilineText)&&a.setCSSStyle(this.Options.tickLabel.style);return a};
DvtAxisInfo.prototype.IsOverlapping=function(a,b){if(!a||0>=a.length)return!1;for(var c="left"==this.Position||"right"==this.Position||"radial"==this.Position,d=DvtAgent.isRightToLeft(this.getCtx()),e=this.GetTickLabelGapSize(),g,h,k,m,n=0;n<a.length;n+=b+1)if(null!=a[n])if(null==g||null==h)c?(g=a[n].y,h=a[n].y+a[n].h):(g=a[n].x,h=a[n].x+a[n].w);else{if(c){if(k=a[n].y,m=a[n].y+a[n].h,k>=g&&k-e<h||k<g&&m+e>g)return!0}else if(k=a[n].x,m=a[n].x+a[n].w,!d&&k-e<h||d&&m+e>g)return!0;g=k;h=m}return!1};
DvtAxisInfo.prototype.IsOverlappingDims=function(a,b){if(!a||!b)return!1;var c=a.y,d=a.y+a.h,e=a.x,g=a.x+a.w,h=b.y,k=b.y+b.h,m=b.x,n=b.x+b.w;return(e<=m&&m<=g||e<=n&&n<=g||m<=e&&e<=n||m<=g&&g<=n)&&(h>=c&&h<d||h<=c&&k>=c)};
DvtAxisInfo.prototype.GetTickLabelGapSize=function(){var a=this.getTickLabelFontSize(),b=this instanceof DvtGroupAxisInfo?.3*a:1*a,a=this instanceof DvtGroupAxisInfo?.1*a:.35*a;return"left"==this.Position||"right"==this.Position||"radial"==this.Position||this.isLabelRotated()?a:b};DvtAxisInfo.prototype.getTickLabelFontSize=function(){return DvtTextUtils.getTextStringHeight(this.getCtx(),this.Options.tickLabel.style)*(11/14)};
DvtAxisInfo.prototype.SkipLabels=function(a,b){for(var c=0,d=this.IsOverlapping(b,c);d;)c++,d=this.IsOverlapping(b,c);if(0<c){for(var d=[],e=0;e<a.length;e+=c+1)d.push(a[e]);return d}return a};DvtAxisInfo.prototype.SkipTangentialLabels=function(a,b){var c=[],d=a.length,e=null;if(1<d){for(var g,h=0;h<d;h++)b[h]&&(!g||g&&!this.IsOverlappingDims(g,b[h]))&&(e||(e=b[h]),c.push(a[h]),g=b[h]);this.IsOverlappingDims(g,e)&&c.pop();return c}return a};
DvtAxisInfo.prototype.GetLabelDims=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];null==e?c.push(null):(e=e.measureDimensions(b),e.w&&e.h?c.push(e):c.push(null))}return c};
DvtAxisInfo.prototype.GuessLabelDims=function(a,b,c,d){var e=[];"undefined"==typeof c&&(c=1);for(var g=0;g<a.length;g++){var h=a[g];if(null==h)e.push(null);else{b.addChild(h);var k=DvtTextUtils.guessTextDimensions(h),m=k.w*c,k=k.h;b.removeChild(h);h=this.isLabelRotated(d)?new DvtRectangle(h.getTranslateX()-k/2,h.getTranslateY()-m/2,k,m):new DvtRectangle(h.getX()-m/2,h.getY()-k/2,m,k);e.push(h)}}return e};DvtAxisInfo.prototype.getMajorTickCount=function(){return null};
DvtAxisInfo.prototype.getMinorTickCount=function(){return null};DvtAxisInfo.prototype.getMajorIncrement=function(){return null};DvtAxisInfo.prototype.getMinorIncrement=function(){return null};DvtAxisInfo.prototype.getGlobalMin=function(){return this.GlobalMin};DvtAxisInfo.prototype.getGlobalMax=function(){return this.GlobalMax};DvtAxisInfo.prototype.getViewportMin=function(){return this.MinValue};DvtAxisInfo.prototype.getViewportMax=function(){return this.MaxValue};
DvtAxisInfo.prototype.getDataMin=function(){return this.DataMin};DvtAxisInfo.prototype.getDataMax=function(){return this.DataMax};DvtAxisInfo.prototype.getMinimumExtent=function(){return 0};DvtAxisInfo.prototype.getStartCoord=function(){return this.StartCoord};DvtAxisInfo.prototype.getEndCoord=function(){return this.EndCoord};DvtAxisInfo.prototype.getStartOverflow=function(){return this.StartOverflow};DvtAxisInfo.prototype.getEndOverflow=function(){return this.EndOverflow};
DvtAxisInfo.prototype.getGroupWidth=function(){return 0};DvtAxisInfo.prototype.getGroup=function(a,b){return null};DvtAxisInfo.prototype.linearToActual=function(a){return a};DvtAxisInfo.prototype.actualToLinear=function(a){return a};var DvtDataAxisInfo=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtDataAxisInfo,DvtAxisInfo,"DvtDataAxisInfo");DvtDataAxisInfo._MAX_NUMBER_OF_GRIDS_AUTO=10;DvtDataAxisInfo._MINOR_TICK_COUNT=2;DvtDataAxisInfo._MAX_ZOOM_FACTOR=64;
DvtDataAxisInfo.prototype.Init=function(a,b,c){DvtDataAxisInfo.superclass.Init.call(this,a,b,c);"top"==this.Position||"bottom"==this.Position?("off"!=b.tickLabel.rendered&&"off"!=b.rendered&&(this.StartOverflow=Math.max(DvtAxis.MINIMUM_AXIS_BUFFER-b.leftBuffer,0),this.EndOverflow=Math.max(DvtAxis.MINIMUM_AXIS_BUFFER-b.rightBuffer,0)),DvtAgent.isRightToLeft(a)?(this._minCoord=this.EndCoord-this.EndOverflow,this._maxCoord=this.StartCoord+this.StartOverflow):(this._minCoord=this.StartCoord+this.StartOverflow,
this._maxCoord=this.EndCoord-this.EndOverflow)):"tangential"==this.Position||"radial"==this.Position?(this._minCoord=this.StartCoord,this._maxCoord=this.EndCoord):(this._minCoord=this.EndCoord,this._maxCoord=this.StartCoord);this.DataMin=b.dataMin;this.DataMax=b.dataMax;this._isLog="log"==b.scale&&0<this.DataMin&&0<this.DataMax;this._globalMin=this.actualToLinear(b.min);this._globalMax=this.actualToLinear(b.max);this._minValue=null==b.viewportMin?this._globalMin:this.actualToLinear(b.viewportMin);
this._maxValue=null==b.viewportMax?this._globalMax:this.actualToLinear(b.viewportMax);this._dataMin=this.actualToLinear(this.DataMin);this._dataMax=this.actualToLinear(this.DataMax);this._majorIncrement=this.actualToLinear(b.step);this._minorIncrement=this.actualToLinear(b.minorStep);this._minMajorIncrement=this.actualToLinear(b.minStep);this._majorTickCount=b._majorTickCount;this._minorTickCount=b._minorTickCount;this._zeroBaseline=!this._isLog&&"zero"==b.baselineScaling;this._converter=null;null!=
b.tickLabel&&(this._converter=b.tickLabel.converter);this._calcAxisExtents();this.GlobalMin=this.linearToActual(this._globalMin);this.GlobalMax=this.linearToActual(this._globalMax);this.MinValue=this.linearToActual(this._minValue);this.MaxValue=this.linearToActual(this._maxValue)};
DvtDataAxisInfo.prototype.getMinLabel=function(){return this._zeroBaseline||"on"==this.Options._continuousExtent&&null==this.Options.min?Math.ceil(this._minValue/this._majorIncrement)*this._majorIncrement:Math.ceil((this._minValue-this._globalMin)/this._majorIncrement)*this._majorIncrement+this._globalMin};
DvtDataAxisInfo.prototype.getLabels=function(a,b){if(b&&0<b)return null;var c=[],d=[],d=a.getStage();if(this.Options.tickLabel&&this.Options.tickLabel.scaling){var e=this.Options.tickLabel.autoPrecision?this.Options.tickLabel.autoPrecision:"on";this._axisValueFormatter=new DvtLinearScaleAxisValueFormatter(a,this._minValue,this._maxValue,this._majorIncrement,this.Options.tickLabel.scaling,e)}for(var g=0;g<=this._majorTickCount;g++){var h=g*this._majorIncrement+this.getMinLabel();if(h>this._maxValue)break;
var k=this._getUnboundedCoordAt(h);if(this.Options._skipHighestTick){if(h==this._maxValue)continue;if("tangential"!=this.Position&&Math.abs(k-this._maxCoord)<this.getTickLabelFontSize())continue}this._isLog&&(h=this.linearToActual(h),this._axisValueFormatter=new DvtLinearScaleAxisValueFormatter(a,h,h,h,this.Options.tickLabel.scaling,e));h=this._formatValue(h);k=this.CreateLabel(a,h,k);c.push(k)}"tangential"!=this.Position&&(d=this.GetLabelDims(c,d),c=this.SkipLabels(c,d));return c};
DvtDataAxisInfo.prototype.getMajorTickCoords=function(){for(var a=[],b=0;b<=this._majorTickCount;b++){var c=b*this._majorIncrement+this.getMinLabel();if(c>this._maxValue)break;this.Options._skipHighestTick&&c==this._maxValue||(c=this._getUnboundedCoordAt(c),a.push(c))}return a};
DvtDataAxisInfo.prototype.getMinorTickCoords=function(){for(var a=[],b=-1;b<=this._majorTickCount;b++){var c=b*this._majorIncrement+this.getMinLabel();if(this._isLog&&1==this._majorIncrement&&1==this._minorIncrement)for(var d=2;9>=d;d++){var e=c+DvtMath.log10(d);if(e>this._maxValue)break;e<this._minValue||(e=this._getUnboundedCoordAt(e),a.push(e))}else for(d=1;d<this._minorTickCount;d++){e=c+d*this._minorIncrement;if(e>this._maxValue)break;e<this._minValue||(e=this._getUnboundedCoordAt(e),a.push(e))}}return a};
DvtDataAxisInfo.prototype.getBaselineCoord=function(){return this._isLog?this._minCoord:this.getBoundedCoordAt(0)};DvtDataAxisInfo.prototype.getUnboundedValueAt=function(a){return null==a?null:this.linearToActual(this._minValue+(a-this._minCoord)/(this._maxCoord-this._minCoord)*(this._maxValue-this._minValue))};DvtDataAxisInfo.prototype.getUnboundedCoordAt=function(a){return this._getUnboundedCoordAt(this.actualToLinear(a))};
DvtDataAxisInfo.prototype._getUnboundedCoordAt=function(a){return null==a?null:this._minCoord+(a-this._minValue)/(this._maxValue-this._minValue)*(this._maxCoord-this._minCoord)};
DvtDataAxisInfo.prototype._formatValue=function(a){if(this._converter&&(this._converter.getAsString||this._converter.format)){if(this._axisValueFormatter)return this._axisValueFormatter.format(a,this._converter);if(this._converter.getAsString)return this._converter.getAsString(a);if(this._converter.format)return this._converter.format(a)}else{if(this._axisValueFormatter)return this._axisValueFormatter.format(a);var b=DvtMath.log10(this._majorIncrement),b=Math.max(Math.ceil(-b),0);return a.toFixed(b)}};
DvtDataAxisInfo.prototype._calcMajorMinorIncr=function(a){this._majorIncrement||(this._majorIncrement=this._majorTickCount?(this._maxValue-this._minValue)/this._majorTickCount:Math.max(a,this._minMajorIncrement));this._majorTickCount||(this._majorTickCount=(this._maxValue-this._minValue)/this._majorIncrement);this._minorTickCount||(this._minorTickCount=this._minorIncrement?this._majorIncrement/this._minorIncrement:this._isLog?this._majorIncrement:DvtDataAxisInfo._MINOR_TICK_COUNT);this._minorIncrement||
(this._minorIncrement=this._majorIncrement/this._minorTickCount)};
DvtDataAxisInfo.prototype._calcAxisExtents=function(){var a="on"==this.Options._continuousExtent;this._zeroBaseline&&(this._dataMin=Math.min(0,this._dataMin),this._dataMax=Math.max(0,this._dataMax));var b=this._calcAxisScale(null!=this._globalMin?this._globalMin:this._dataMin,null!=this._globalMax?this._globalMax:this._dataMax);this._dataMin==this._dataMax&&(0==this._dataMin?this._dataMax+=5*b:(this._dataMin-=2*b,this._dataMax+=2*b));if(null==this._globalMin){if(this._zeroBaseline&&0<=this._dataMin)this._globalMin=
0;else if(a)this._globalMin=this._dataMin-.1*(this._dataMax-this._dataMin);else if(this._zeroBaseline||null==this._globalMax)this._globalMin=(Math.ceil(this._dataMin/b)-1)*b;else for(this._globalMin=this._globalMax;this._globalMin>=this._dataMin;)this._globalMin-=b;0<=this._dataMin&&(this._globalMin=Math.max(this._globalMin,0))}if(null==this._globalMax){if(this._majorTickCount)this._globalMax=this._globalMin+this._majorTickCount*b;else if(this._zeroBaseline&&0>=this._dataMax)this._globalMax=0;else if(a)this._globalMax=
this._dataMax+.1*(this._dataMax-this._dataMin);else if(this._zeroBaseline)this._globalMax=(Math.floor(this._dataMax/b)+1)*b;else for(this._globalMax=this._globalMin;this._globalMax<=this._dataMax;)this._globalMax+=b;0>=this._dataMax&&(this._globalMax=Math.min(this._globalMax,0))}this._globalMax==this._globalMin&&(this._globalMax=100,this._globalMin=0,b=(this._globalMax-this._globalMin)/DvtDataAxisInfo._MAX_NUMBER_OF_GRIDS_AUTO);null==this._minValue&&(this._minValue=this._globalMin);null==this._maxValue&&
(this._maxValue=this._globalMax);if(this._minValue!=this._globalMin||this._maxValue!=this._globalMax)b=this._calcAxisScale(this._minValue,this._maxValue);this._globalMin>this._minValue&&(this._globalMin=this._minValue);this._globalMax<this._maxValue&&(this._globalMax=this._maxValue);this._calcMajorMinorIncr(b)};
DvtDataAxisInfo.prototype._calcAxisScale=function(a,b){if(this._majorIncrement)return this._majorIncrement;var c=b-a;if(this._isLog)return Math.floor(c/8)+1;if(0==c)return 0==a?10:Math.pow(10,Math.floor(DvtMath.log10(a))-1);if(this._majorTickCount){var c=c/this._majorTickCount,d=Math.pow(10,Math.ceil(DvtMath.log10(c)-1)),c=c/d,c=1<c&&1.5>=c?1.5:5<c?10:Math.ceil(c);return c*d}d=DvtMath.log10(c);d=Math.pow(10,Math.ceil(d)-2);c=Math.round(c/d);return(10<=c&&14>=c?2:15<=c&&19>=c?3:20<=c&&24>=c?4:25<=
c&&45>=c?5:46<=c&&80>=c?10:20)*d};DvtDataAxisInfo.prototype.getMajorTickCount=function(){return this._majorTickCount};DvtDataAxisInfo.prototype.getMinorTickCount=function(){return this._minorTickCount};DvtDataAxisInfo.prototype.getMajorIncrement=function(){return this.linearToActual(this._majorIncrement)};DvtDataAxisInfo.prototype.getMinorIncrement=function(){return this.linearToActual(this._minorIncrement)};
DvtDataAxisInfo.prototype.getMinimumExtent=function(){return(this._globalMax-this._globalMin)/DvtDataAxisInfo._MAX_ZOOM_FACTOR};DvtDataAxisInfo.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!DvtAgent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow};DvtDataAxisInfo.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!DvtAgent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow};
DvtDataAxisInfo.prototype.linearToActual=function(a){return null==a?null:this._isLog?Math.pow(10,a):a};DvtDataAxisInfo.prototype.actualToLinear=function(a){return null==a?null:this._isLog?0<a?DvtMath.log10(a):null:a};var DvtGroupAxisInfo=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtGroupAxisInfo,DvtAxisInfo,"DvtGroupAxisInfo");DvtGroupAxisInfo._MAX_LINE_WRAP=3;
DvtGroupAxisInfo.prototype.Init=function(a,b,c){DvtGroupAxisInfo.superclass.Init.call(this,a,b,c);var d=DvtAgent.isRightToLeft(a),e="top"==this.Position||"bottom"==this.Position;if(e&&d){var g=this.StartCoord;this.StartCoord=this.EndCoord;this.EndCoord=g}this._levelsArray=[];this._groupCount=this._generateLevelsArray(b.groups,0,this._levelsArray,0);this._numLevels=this._levelsArray.length;this._areSeparatorsRendered="on"==b.groupSeparators.rendered;this._separatorColor=b.groupSeparators.color;this._lastRenderedLevel=
null;this._drilling=b.drilling;var g=0<b.endGroupOffset?Number(b.endGroupOffset):0,h=0<b.startGroupOffset?Number(b.startGroupOffset):0;this.DataMin=0;this.DataMax=this._groupCount-1;this.GlobalMin=null==b.min?this.DataMin-h:b.min;this.GlobalMax=null==b.max?this.DataMax+g:b.max;var k=this.getGroupIndex(b.viewportStartGroup),m=this.getGroupIndex(b.viewportEndGroup);-1!=k&&(this.MinValue=k-h);-1!=m&&(this.MaxValue=m+g);null!=b.viewportMin&&(this.MinValue=b.viewportMin);null!=b.viewportMax&&(this.MaxValue=
b.viewportMax);null==this.MinValue&&(this.MinValue=this.GlobalMin);null==this.MaxValue&&(this.MaxValue=this.GlobalMax);this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue);this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue);this._groupWidthRatios=b._groupWidthRatios;this._processGroupWidthRatios();this._startBuffer=d?b.rightBuffer:b.leftBuffer;this._endBuffer=d?b.leftBuffer:b.rightBuffer;this._isLabelRotated=[];for(d=0;d<this._numLevels;d++)this._isLabelRotated.push(!1);this._renderGridAtLabels=
b._renderGridAtLabels;this._labels=null;this._maxSpace=e?c.h:c.w;b.title&&(this._maxSpace-=DvtTextUtils.getTextStringHeight(a,b.titleStyle)+DvtAxisDefaults.getGapSize(a,b,b.layout.titleGap));this._maxLineWrap=DvtGroupAxisInfo._MAX_LINE_WRAP};
DvtGroupAxisInfo.prototype._processGroupWidthRatios=function(){if(!this._groupWidthRatios||2>this._groupWidthRatios.length)this._groupWidthRatios=null;else{for(var a=0,b,c,d=0;d<this._groupCount;d++)b=0==d?this.MinValue:Math.max(d-.5,this.MinValue),c=d==this._groupCount-1?this.MaxValue:Math.min(d+.5,this.MaxValue),c>b&&(a+=(c-b)*this._groupWidthRatios[d]);var e=this.EndCoord-this.StartCoord;this._groupWidths=this._groupWidthRatios.map(function(b){return b*e/a});this._borderValues=[];for(d=0;d<this._groupWidthRatios.length-
1;d++)this._borderValues.push(d+.5);this._borderCoords=[];b=Math.min(Math.max(Math.round(this.MinValue),0),this._borderValues.length-1);this._borderCoords[b]=this.StartCoord+(this._borderValues[b]-this.MinValue)*this._groupWidths[b];for(d=b+1;d<this._borderValues.length;d++)this._borderCoords[d]=this._borderCoords[d-1]+this._groupWidths[d];for(d=b-1;0<=d;d--)this._borderCoords[d]=this._borderCoords[d+1]-this._groupWidths[d+1]}};
DvtGroupAxisInfo.prototype._rotateLabels=function(a,b,c,d){var e,g=this.getCtx(),h=DvtAgent.isRightToLeft(g),k=1<this._numLevels;null==d&&(d=this._numLevels-1);this._isLabelRotated[d]=!0;k||this._setOverflow(c,c,a);for(var m=0;m<a.length;m++)if(c=a[m],null!=c){e=c.getX();if(c instanceof DvtMultilineText||c instanceof DvtBackgroundMultilineText){var n=this.getGroupWidth()*(this.getEndIndex(m,d)-this.getStartIndex(m,d)+1);2*c.getLineHeight()<n?c.wrapText(this._maxSpace,c.getLineHeight()*DvtGroupAxisInfo._MAX_LINE_WRAP,
1):c.setWrapEnabled(!1)}c.setX(0);c.setY(0);h?c.setRotation(Math.PI/2):c.setRotation(3*Math.PI/2);c.setTranslateX(e)}h=this.GuessLabelDims(a,b,null,d);"normal"==this.Options.tickLabel.style.getStyle(DvtCSSStyle.WHITE_SPACE)&&this._sanitizeWrappedText(g,h,a,!0,k)&&(h=this.GuessLabelDims(a,b,null,d));return this.SkipLabels(a,h)};
DvtGroupAxisInfo.prototype._sanitizeWrappedText=function(a,b,c,d,e){b=this._calculateMaxWrap(b,c,d);for(var g=0,h=0;h<c.length;h++){var k=c[h];if(k){var m=k instanceof DvtMultilineText||k instanceof DvtBackgroundMultilineText;b&&m&&k.isWrapEnabled()&&k.wrapText(this._maxSpace,k.getLineHeight()*this._maxLineWrap,1);e&&(g=Math.max(g,DvtTextUtils.getTextWidth(k)));k.alignMiddle()}}e&&(this._maxSpace-=g+DvtAxisDefaults.getGapSize(a,this.Options,d?this.Options.layout.hierarchicalLabelGapHeight:this.Options.layout.hierarchicalLabelGapWidth));
return b};DvtGroupAxisInfo.prototype._calculateMaxWrap=function(a,b,c){for(var d=!1;this.IsOverlapping(a,0)&&1<this._maxLineWrap;){for(var d=!0,e=0;e<b.length;e++){var g=b[e];(g instanceof DvtMultilineText||g instanceof DvtBackgroundMultilineText)&&g.getLineCount()==this._maxLineWrap&&(g=g.getLineHeight(),c?a[e].w-=g:(a[e].y+=.5*g,a[e].h-=g))}this._maxLineWrap--}return d};DvtGroupAxisInfo.prototype.isLabelRotated=function(a){null==a&&(a=this._numLevels-1);return this._isLabelRotated[a]};
DvtGroupAxisInfo.prototype._setOverflow=function(a,b,c){a=Math.max(a-this._startBuffer,0);b=Math.max(b-this._endBuffer,0);c=DvtAgent.isRightToLeft(this.getCtx());this.StartCoord+=(a-this.StartOverflow)*(c?-1:1);this.EndCoord-=(b-this.EndOverflow)*(c?-1:1);this._processGroupWidthRatios();for(var d=0;d<this._numLevels;d++){c=this._labels[d];for(var e=0;e<c.length;e++){var g=c[e];if(g){var h=this._getLabelCoord(d,this.getLabelIndex(g));g.setX(h)}}}this.StartOverflow=a;this.EndOverflow=b};
DvtGroupAxisInfo.prototype.getLabels=function(a,b){null==b&&(b=this._numLevels-1);this._labels||this._generateLabels(a);return this._labels[b]};DvtGroupAxisInfo.prototype._getLabelCoord=function(a,b){var c=this.getStartIndex(b,a),d=this.getEndIndex(b,a);if(null==c||null==d)return null;c<this.MinValue&&d>this.MinValue&&(c=this.MinValue);d>this.MaxValue&&c<this.MaxValue&&(d=this.MaxValue);return this.getCoordAt(d?c+(d-c)/2:c)};
DvtGroupAxisInfo.prototype._generateLabels=function(a){var b=[];this._labels=[];for(var c=a.getStage(),d="top"==this.Position||"bottom"==this.Position,e=DvtAgent.isRightToLeft(a),g=1<this._numLevels,h=this.getGroupWidth(),k=this._maxSpace,m="normal"==this.Options.tickLabel.style.getStyle(DvtCSSStyle.WHITE_SPACE)&&"tangential"!=this.Position,n=g?DvtAxisDefaults.getGapSize(a,this.Options,this.Options.layout[d?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth"]):0,t="auto"==this.Options.tickLabel.rotation&&
d,u,v,w,x,y,z=0;z<this._numLevels;z++){for(var A=this._levelsArray[z],B=0;B<A.length;B++)if(A[B])if(u=this.getLabelAt(B,z),""==u||!u&&0!=u)b.push(null);else if(y=this._getLabelCoord(z,B),null!=y){x=this.getLabelStyleAt(B,z);var D=m&&isNaN(u)&&0<=u.indexOf(" ");y=this.CreateLabel(a,u,y,x,D);var C=h*(this.getEndIndex(B,z)-this.getStartIndex(B,z)+1);D&&this._isTextWrapNeeded(a,u,x,t,d?C:k)?d?y.wrapText(C,k,1,!0):y.wrapText(k,y.getLineHeight()*this._maxLineWrap,1,!1):D&&!d&&y.setWrapEnabled(!1);y._index=
B;b.push(y);v||0!=z||(v=y);0==z&&(w=y)}else b.push(null);else b.push(null);if(m&&g){for(u=x=0;u<b.length;u++)b[u]&&(A=b[u].measureDimensions(),x=Math.max(x,d?A.h:A.w));k-=x+n}this._labels.push(b);b=[]}b=this._labels[this._numLevels-1];h=[];if(v)if("tangential"==this.Position)h=this.GetLabelDims(b,c),this._labels[0]=this.SkipTangentialLabels(b,h);else for(v=v.measureDimensions(),d&&(null!=this.Options._startOverflow&&null!=this.Options._endOverflow?(z=this.Options._startOverflow,e=this.Options._endOverflow):
(w=w.measureDimensions(),z=e?v.w+v.x-this.StartCoord:this.StartCoord-v.x,e=e?this.EndCoord-w.x:w.w+w.x-this.EndCoord),(z>this._startBuffer||e>this._endBuffer)&&this._setOverflow(z,e,b)),z=0;z<this._numLevels;z++)if(b=this._labels[z],e=this.GuessLabelDims(b,c,.3,z),w=this.GuessLabelDims(b,c,null,z),this.IsOverlapping(w,0)||(this._labels[z]=b),d)if(t)if(this.IsOverlapping(e,0))this._labels[z]=this._rotateLabels(b,c,v.h/2,z);else if(h=this.GetLabelDims(b,c),this.IsOverlapping(h,0))this._labels[z]=this._rotateLabels(b,
c,v.h/2,z);else{if(this._labels[z]=b,g){for(u=b=0;u<h.length;u++)h[u]&&(b=Math.max(b,h[u].h));this._maxSpace-=b+n}}else h=this.GetLabelDims(b,c),this._labels[z]=this.SkipLabels(b,h);else m&&this._sanitizeWrappedText(a,w,b,!1,g)&&(w=this.GuessLabelDims(b,c,null,z)),this._labels[z]=this.SkipLabels(b,w)};
DvtGroupAxisInfo.prototype.getMajorTickCoords=function(){for(var a=[],b,c="tangential"==this.Position?this.getGroupCount():this.getGroupCount()-1,d=0;d<this._levelsArray[0].length;d++)if(this._levelsArray[0][d]){b=this.getStartIndex(d,0);var e=this.getEndIndex(d,0);b=this._renderGridAtLabels?this.getCoordAt(b+.5*(e-b)):e+.5<c?this.getCoordAt(e+.5):null;null!=b&&a.push(b)}return a};
DvtGroupAxisInfo.prototype.getMinorTickCoords=function(){var a=[],b;if(!this._levelsArray[1])return a;for(var c=0;c<this._levelsArray[1].length;c++)if(this._levelsArray[1][c]){b=this.getStartIndex(c,1);var d=this.getEndIndex(c,1);b=this._renderGridAtLabels?this.getCoordAt(b+.5*(d-b)):d+.5<this.getGroupCount()-1?this.getCoordAt(d+.5):null;null!=b&&a.push(b)}return a};
DvtGroupAxisInfo.prototype.getUnboundedValueAt=function(a){if(null==a)return null;if(this._groupWidthRatios){for(var b=this._borderCoords.length,c=0;c<this._borderCoords.length;c++)if(a<=this._borderCoords[c]){b=c;break}return 0==b?this._borderValues[0]-(this._borderCoords[0]-a)/this._groupWidths[0]:this._borderValues[b-1]+(a-this._borderCoords[b-1])/this._groupWidths[b]}return this.MinValue+(a-this.StartCoord)/((this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue))};
DvtGroupAxisInfo.prototype.getUnboundedCoordAt=function(a){if(null==a)return null;if(this._groupWidthRatios){for(var b=this._borderValues.length,c=0;c<this._borderValues.length;c++)if(a<=this._borderValues[c]){b=c;break}return 0==b?this._borderCoords[0]-this._groupWidths[0]*(this._borderValues[0]-a):this._borderCoords[b-1]+this._groupWidths[b]*(a-this._borderValues[b-1])}return this.StartCoord+(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue)*(a-this.MinValue)};
DvtGroupAxisInfo.prototype.getLabelAt=function(a,b){null==b&&(b=this._numLevels-1);a=Math.round(a);if(0>a)return null;var c=this._levelsArray[b]&&this._levelsArray[b][a]?this._levelsArray[b][a].item:null;c&&(c.name?c=c.name:null!=c.id&&(c=""));return c};DvtGroupAxisInfo.prototype.getGroupAt=function(a,b){null==b&&(b=this._numLevels-1);a=Math.round(a);if(0>a)return null;var c=this._levelsArray[b]&&this._levelsArray[b][a]?this._levelsArray[b][a].item:null;if(c){if(c.id)return c.id;if(c.name||""==c.name)return c.name}return c};
DvtGroupAxisInfo.prototype.getLabelStyleAt=function(a,b){var c=this._getGroupAttribute(a,b,"labelStyle");return c?(c=new DvtCSSStyle(c),c.getStyle("font-size")||c.setStyle("font-size",this.Options.tickLabel.style.getStyle("font-size")),c):null};DvtGroupAxisInfo.prototype.getDatatip=function(a,b){return this._getGroupAttribute(a,b,"shortDesc")};DvtGroupAxisInfo.prototype.getAction=function(a,b){return this._getGroupAttribute(a,b,"action")};
DvtGroupAxisInfo.prototype.isDrillable=function(a,b){var c=this._getGroupAttribute(a,b,"drilling");return"on"==c?!0:"off"==c?!1:"on"==this._drilling||"groupsOnly"==this._drilling};
DvtGroupAxisInfo.prototype.getGroup=function(a,b){if(0>a||a>this.getGroupCount()-1)return null;var c=[];null==b&&(b=this._numLevels-1);for(var d=this.getStartIndex(a,b),e=0;e<=b;e++)for(var g=this._levelsArray[e],h=0;h<g.length;h++)this.getStartIndex(h,e)<=d&&this.getEndIndex(h,e)>=d&&c.push(this.getGroupAt(h,e));return 0<c.length?1==c.length?c[0]:c:null};
DvtGroupAxisInfo.prototype.getLabelBackground=function(a,b,c){null==c&&(c=this._numLevels-1);var d=a.getCSSStyle();if(d){var e=d.getStyle(DvtCSSStyle.BACKGROUND_COLOR),g=d.getStyle(DvtCSSStyle.BORDER_COLOR),h=d.getStyle(DvtCSSStyle.BORDER_WIDTH),d=d.getStyle(DvtCSSStyle.BORDER_RADIUS);if(null!=e||null!=g||null!=h||null!=d){var k=a.getDimensions(),m=.15*k.h;(DvtAgent.isBrowserChrome()||DvtAgent.isPlatformIE())&&a.getVertAlignment()===DvtOutputText.V_ALIGN_BOTTOM&&(k.y+=k.h/2);b=new DvtRect(b,k.x-m,
k.y,k.w+2*m,k.h);k=new DvtCSSStyle;null!=e?k.setStyle(DvtCSSStyle.BACKGROUND_COLOR,e):b.setInvisibleFill();k.setStyle(DvtCSSStyle.BORDER_COLOR,g);k.setStyle(DvtCSSStyle.BORDER_WIDTH,h);k.setStyle(DvtCSSStyle.BORDER_RADIUS,d);b.setCSSStyle(k);this._isLabelRotated[c]&&b.setMatrix(a.getMatrix());b.setMouseEnabled(!1);return b}}return null};
DvtGroupAxisInfo.prototype.getGroupIndex=function(a){if(null==a)return-1;for(var b=-1,c=0;c<this._groupCount;c++){var d=this.getGroup(c);if(a instanceof Array&&d instanceof Array?DvtArrayUtils.equals(a,d):a==d){b=c;break}}return b};DvtGroupAxisInfo.prototype.getMinimumExtent=function(){return 1};DvtGroupAxisInfo.prototype.getGroupWidth=function(){return Math.abs(this.EndCoord-this.StartCoord)/Math.abs(this.MaxValue-this.MinValue)};DvtGroupAxisInfo.prototype.getGroupCount=function(){return this._groupCount};
DvtGroupAxisInfo.prototype.getNumLevels=function(){return this._numLevels};DvtGroupAxisInfo.prototype._generateLevelsArray=function(a,b,c,d){for(var e=0;e<a.length;e++)if(c[b]||(c[b]=[]),c[b].push({item:a[e],start:d,end:d,position:e}),a[e]&&a[e].groups){d=c[b].length-1;var g=this._generateLevelsArray(a[e].groups,b+1,c,c[b][d].start);c[b][d].end=g-1;d=g}else d++;return d};
DvtGroupAxisInfo.prototype._getGroupAttribute=function(a,b,c){null==b&&(b=this._numLevels-1);return(a=this._levelsArray[b]&&this._levelsArray[b][a]?this._levelsArray[b][a].item:null)?a[c]:null};DvtGroupAxisInfo.prototype.areSeparatorsRendered=function(){return this._areSeparatorsRendered};DvtGroupAxisInfo.prototype.getSeparatorColor=function(){return this._separatorColor};
DvtGroupAxisInfo.prototype.getStartIndex=function(a,b){null==b&&(b=this._numLevels-1);return this._levelsArray[b]&&this._levelsArray[b][a]?this._levelsArray[b][a].start:null};DvtGroupAxisInfo.prototype.getEndIndex=function(a,b){null==b&&(b=this._numLevels-1);return this._levelsArray[b]&&this._levelsArray[b][a]?this._levelsArray[b][a].end:null};
DvtGroupAxisInfo.prototype.getPosition=function(a,b){null==b&&(b=this._numLevels-1);return this._levelsArray[b]&&this._levelsArray[b][a]?this._levelsArray[b][a].position:null};DvtGroupAxisInfo.prototype.isRenderGridAtLabels=function(){return this._renderGridAtLabels};DvtGroupAxisInfo.prototype.setLastRenderedLevel=function(a){this._lastRenderedLevel=a};DvtGroupAxisInfo.prototype.getLastRenderedLevel=function(){return this._lastRenderedLevel};
DvtGroupAxisInfo.prototype.getLabelIndex=function(a){return 0<=a._index?a._index:null};DvtGroupAxisInfo.prototype.getMaxLineWrap=function(){return this._maxLineWrap};DvtGroupAxisInfo.prototype._isTextWrapNeeded=function(a,b,c,d,e){a=DvtTextUtils.getTextStringWidth(a,b,c);return a>=e&&(a/this._maxLineWrap<e||!d)?!0:!1};var DvtAxisObjPeer=function(a,b,c,d,e,g,h,k){this.Init(a,b,c,d,e,g,h,k)};DvtObj.createSubclass(DvtAxisObjPeer,DvtSimpleObjPeer,"DvtAxisObjPeer");
DvtAxisObjPeer.prototype.Init=function(a,b,c,d,e,g,h,k){DvtAxisObjPeer.superclass.Init.call(this,g,h,null,k);this._axis=a;this._label=b;this._group=c;this._action=d;this._drillable=e;(this._action||this._drillable)&&b.setCursor(DvtSelectionEffectUtils.getSelectingCursor());a.__registerObject(this)};DvtAxisObjPeer.prototype.getLabel=function(){return this._label};DvtAxisObjPeer.prototype.getId=function(){return this._group};DvtAxisObjPeer.prototype.getAction=function(){return this._action};
DvtAxisObjPeer.prototype.isDrillable=function(){return this._drillable};DvtAxisObjPeer.prototype.getGroup=function(){return this._group};DvtAxisObjPeer.prototype.getNextNavigable=function(a){if(a.type==DvtMouseEvent.CLICK)return this;var b=this._axis.__getKeyboardObjects();return DvtKeyboardHandler.getNextNavigable(this,a,b)};DvtAxisObjPeer.prototype.getKeyboardBoundingBox=function(a){return this._label?this._label.getDimensions(a):new DvtRectangle(0,0,0,0)};
DvtAxisObjPeer.prototype.getDisplayable=function(){return this._label};DvtAxisObjPeer.prototype.getTargetElem=function(){return this._label?this._label.getElem():null};DvtAxisObjPeer.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0;if(this._label){var a=this.getKeyboardBoundingBox();this._overlayRect=new DvtRect(this._axis.getCtx(),a.x,a.y,a.w,a.h);this._overlayRect.setSolidStroke(DvtAgent.getFocusColor());this._overlayRect.setInvisibleFill();this._axis.addChild(this._overlayRect)}};
DvtAxisObjPeer.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1;this._label&&(this._axis.removeChild(this._overlayRect),this._overlayRect=null)};DvtAxisObjPeer.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect};
DvtAxisObjPeer.prototype.getAriaLabel=function(){var a;this.isDrillable()&&(a=[DvtBundle.getTranslation(this._axis.getOptions(),"stateDrillable",DvtBundle.UTIL_PREFIX,"STATE_DRILLABLE")]);if(null!=this.getDatatip())return DvtDisplayable.generateAriaLabel(this.getDatatip(),a);if(null!=a)return DvtDisplayable.generateAriaLabel(this.getLabel().getTextString(),a)};var DvtLinearScaleAxisValueFormatter=function(a,b,c,d,e,g){DvtAbstractAxisValueFormatter.call(this);this.Init(a,b,c,d,e,g)};
DvtObj.createSubclass(DvtLinearScaleAxisValueFormatter,DvtAbstractAxisValueFormatter,"DvtLinearScaleAxisValueFormatter");DvtLinearScaleAxisValueFormatter.SCALE_NONE="none";DvtLinearScaleAxisValueFormatter.SCALE_AUTO="auto";DvtLinearScaleAxisValueFormatter.SCALE_THOUSAND="thousand";DvtLinearScaleAxisValueFormatter.SCALE_MILLION="million";DvtLinearScaleAxisValueFormatter.SCALE_BILLION="billion";DvtLinearScaleAxisValueFormatter.SCALE_TRILLION="trillion";
DvtLinearScaleAxisValueFormatter.SCALE_QUADRILLION="quadrillion";DvtLinearScaleAxisValueFormatter.SCALING_FACTOR_DIFFERENCE=3;DvtLinearScaleAxisValueFormatter.prototype.Init=function(a,b,c,d,e,g){this._context=a;this._scales={};this._scalesOrder=[];this._factorToScaleMapping={};this.InitScales();this.InitFormatter(b,c,d,e,g)};
DvtLinearScaleAxisValueFormatter.prototype.InitScales=function(){var a=function(a,b,e){var g;e&&(g=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,e));e={scaleFactor:b,localizedSuffix:g};this._scales[a]=e;this._scalesOrder.push(e);this._factorToScaleMapping[b]=e},b=DvtLinearScaleAxisValueFormatter.SCALING_FACTOR_DIFFERENCE;a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_NONE,0*b);a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_THOUSAND,1*b,"SCALING_SUFFIX_THOUSAND");a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_MILLION,
2*b,"SCALING_SUFFIX_MILLION");a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_BILLION,3*b,"SCALING_SUFFIX_BILLION");a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_TRILLION,4*b,"SCALING_SUFFIX_TRILLION");a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_QUADRILLION,5*b,"SCALING_SUFFIX_QUADRILLION");this._scalesOrder.sort(function(a,b){return a.scaleFactor<b.scaleFactor?-1:a.scaleFactor>b.scaleFactor?1:0})};
DvtLinearScaleAxisValueFormatter.prototype.InitFormatter=function(a,b,c,d,e){var g=!1,h,k=!1;"off"!==e&&(k=!0);d=this._getScaleFactor(d);"number"!==typeof d&&(g=!0);g&&(d=Math.max(Math.abs(a),Math.abs(b)),d=this._getPowerOfTen(d),d=this._findNearestLEScaleFactor(d));!0===k&&(0==c&&a==b?(a=this._getPowerOfTen(b),a=d-a,h=0>=a?Math.max(a+3,0):Math.max(a,4)):(a=this._getPowerOfTen(c),h=Math.max(d-a,0)));this._useAutoPrecision=k;this._scaleFactor=d;this._decimalPlaces=h};
DvtLinearScaleAxisValueFormatter.prototype._findNearestLEScaleFactor=function(a){var b=0;if(a<=this._scalesOrder[0].scaleFactor)b=this._scalesOrder[0].scaleFactor;else if(a>=this._scalesOrder[this._scalesOrder.length-1].scaleFactor)b=this._scalesOrder[this._scalesOrder.length-1].scaleFactor;else for(var c=this._scalesOrder.length-1;0<=c;c--)if(this._scalesOrder[c].scaleFactor<=a){b=this._scalesOrder[c].scaleFactor;break}return b};
DvtLinearScaleAxisValueFormatter.prototype._getScaleFactor=function(a){a||(a=DvtLinearScaleAxisValueFormatter.SCALE_AUTO);var b;if(a=this._scales[a])b=a.scaleFactor;return b};
DvtLinearScaleAxisValueFormatter.prototype.format=function(a,b){var c=parseFloat(a);if(isNaN(c))return a;var d;if(0<this._scaleFactor){for(d=0;d<this._scaleFactor;d++)c/=10;d=this._factorToScaleMapping[this._scaleFactor].localizedSuffix}if(b&&b.getAsString)c=b.getAsString(c);else if(b&&b.format)c=b.format(c);else{var e=this._context.getNumberConverter({minimumFractionDigits:this._decimalPlaces,maximumFractionDigits:this._decimalPlaces});e&&e.format?c=e.format(c):this._useAutoPrecision&&!isNaN(parseFloat(c))&&
(c=parseFloat((new Number(c)).toFixed(this._decimalPlaces)),c=this._formatFraction(c))}"string"===typeof d&&0!=a&&(c+=d);return c};DvtLinearScaleAxisValueFormatter.prototype._formatFraction=function(a){a=a.toString();if(-1!=a.indexOf("e"))return a;var b=".",b=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"NUMBER_FORMAT_DECIMAL_SEPARATOR");if(0<this._decimalPlaces)for(a=-1==a.indexOf(".")?a+b:a.replace(".",b),b=a.substring(a.indexOf(b)+1).length;b<this._decimalPlaces;)a+="0",b++;return a};
DvtLinearScaleAxisValueFormatter.prototype._getPowerOfTen=function(a){a=0<=a?a:-a;var b=0;if(1E-15>a)return 0;if(Infinity==a)return Number.MAX_VALUE;if(10<=a)for(;10<=a;)b+=1,a/=10;else if(1>a)for(;1>a;)--b,a*=10;return b};var DvtTimeAxisInfo=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtTimeAxisInfo,DvtAxisInfo,"DvtTimeAxisInfo");DvtTimeAxisInfo.TIME_SECOND=1E3;DvtTimeAxisInfo.TIME_MINUTE=60*DvtTimeAxisInfo.TIME_SECOND;DvtTimeAxisInfo.TIME_HOUR=60*DvtTimeAxisInfo.TIME_MINUTE;
DvtTimeAxisInfo.TIME_DAY=24*DvtTimeAxisInfo.TIME_HOUR;DvtTimeAxisInfo.TIME_MONTH_MIN=28*DvtTimeAxisInfo.TIME_DAY;DvtTimeAxisInfo.TIME_MONTH_MAX=31*DvtTimeAxisInfo.TIME_DAY;DvtTimeAxisInfo.TIME_YEAR_MIN=365*DvtTimeAxisInfo.TIME_DAY;DvtTimeAxisInfo.TIME_YEAR_MAX=366*DvtTimeAxisInfo.TIME_DAY;
DvtTimeAxisInfo.prototype.Init=function(a,b,c){DvtTimeAxisInfo.superclass.Init.call(this,a,b,c);"top"==this.Position||"bottom"==this.Position?(b._isOverview||"on"!=b.tickLabel.rendered||(this.StartOverflow=Math.max(DvtAxis.MINIMUM_AXIS_BUFFER-b.leftBuffer,0),this.EndOverflow=Math.max(DvtAxis.MINIMUM_AXIS_BUFFER-b.rightBuffer,0)),DvtAgent.isRightToLeft(a)?(this._startCoord=this.EndCoord-this.EndOverflow,this._endCoord=this.StartCoord+this.StartOverflow):(this._startCoord=this.StartCoord+this.StartOverflow,
this._endCoord=this.EndCoord-this.EndOverflow)):(this._startCoord=this.StartCoord,this._endCoord=this.EndCoord);this._label1Converter=(c=null!=b.tickLabel?b.tickLabel.converter:null)&&c[0]?c[0]:c;this._label2Converter=c&&c[1]?c[1]:null;this._dateToIsoConverter=a.getLocaleHelpers().dateToIsoConverter;this._groups=b.groups;a=b.timeAxisType;this._skipGaps="skipGaps"==a;this._mixedFrequency="mixedFrequency"==a;this.DataMin=b.dataMin;this.DataMax=b.dataMax;this._averageInterval=1<this._groups.length?(this.DataMax-
this.DataMin)/(this._groups.length-1):0<this.DataMax-this.DataMin?this.DataMax-this.DataMin:6*DvtTimeAxisInfo.TIME_MINUTE;this._step=b.step;a=0<b.endGroupOffset?b.endGroupOffset*this._averageInterval:0;c=0<b.startGroupOffset?b.startGroupOffset*this._averageInterval:0;this.GlobalMin=null!=b.min?b.min:this.DataMin-c;this.GlobalMax=null!=b.max?b.max:this.DataMax+a;null!=b.viewportStartGroup&&(this.MinValue=b.viewportStartGroup-c);null!=b.viewportEndGroup&&(this.MaxValue=b.viewportEndGroup+a);null!=b.viewportMin&&
(this.MinValue=b.viewportMin);null!=b.viewportMax&&(this.MaxValue=b.viewportMax);null==this.MinValue&&(this.MinValue=this.GlobalMin);null==this.MaxValue&&(this.MaxValue=this.GlobalMax);this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue);this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue);this._timeRange=this.MaxValue-this.MinValue;this._level2Coords=this._level1Coords=this._level2Labels=this._level1Labels=null;this._isOneLevel=!0;this._level1Overflow=[];this._level2Overflow=[];this._locale=
b._locale.toLowerCase();this._monthResources=[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_JANUARY"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_FEBRUARY"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_MARCH"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_APRIL"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_MAY"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_JUNE"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,
"MONTH_SHORT_JULY"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_AUGUST"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_SEPTEMBER"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_OCTOBER"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_NOVEMBER"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_DECEMBER")]};
DvtTimeAxisInfo._getAMString=function(a){var b=a.substring(0,2);if("en-au"==a||"en-ie"==a||"en-ph"==a)return"am";if("en-gb"==a)return"";switch(b){case "en":return"AM";case "ar":return"\u0635";case "el":return"\u03c0\u03bc";case "ko":return"\uc624\uc804";case "zh":return"\u4e0a\u5348";default:return""}};
DvtTimeAxisInfo._getPMString=function(a){var b=a.substring(0,2);if("en-au"==a||"en-ie"==a||"en-ph"==a)return"pm";if("en-gb"==a)return"";switch(b){case "en":return"PM";case "ar":return"\u0645";case "el":return"\u03bc\u03bc";case "ko":return"\uc624\ud6c4";case "zh":return"\u4e0b\u5348";default:return""}};DvtTimeAxisInfo._getAMPMBefore=function(a){a=a.substring(0,2);return"ko"==a||"zh"==a?!0:!1};
DvtTimeAxisInfo._getDMYOrder=function(a){var b=a.substring(0,2);return"en-us"==a||"en-ph"==a?"MDY":"fa"==b||"hu"==b||"ja"==b||"ko"==b||"lt"==b||"mn"==b||"zh"==b?"YMD":"DMY"};DvtTimeAxisInfo._getYearTrailingCharacters=function(a){return 0==a.indexOf("ja")||0==a.indexOf("zh")?"\u5e74":0==a.indexOf("ko")?"\ub144":""};DvtTimeAxisInfo._getDayTrailingCharacters=function(a){return 0==a.indexOf("ja")||0==a.indexOf("zh")?"\u65e5":0==a.indexOf("ko")?"\uc77c":""};
DvtTimeAxisInfo.prototype.formatLabel=function(a){a=this._formatAxisLabel(new Date(a),null,!0);return null!=a[1]?"YMD"==DvtTimeAxisInfo._getDMYOrder(this._locale)||this._timeRange<DvtTimeAxisInfo.TIME_MONTH_MIN&&this._step<DvtTimeAxisInfo.TIME_DAY?a[1]+" "+a[0]:a[0]+" "+a[1]:a[0]};
DvtTimeAxisInfo.prototype._formatAxisLabelWithConverter=function(a,b,c){if(c){var d=null,e=null;c.getAsString?(d=c.getAsString(a),e=c.getAsString(b)):c.format&&(d=c.format(this._dateToIsoConverter?this._dateToIsoConverter(a):a),e=c.format(this._dateToIsoConverter?this._dateToIsoConverter(b):b));if(e!=d)return d}return null};
DvtTimeAxisInfo.prototype._formatAxisLabel=function(a,b,c){var d=null,e=null,g="left"==this.Position||"right"==this.Position;if(this._label1Converter||this._label2Converter)return this._label1Converter&&(d=this._formatAxisLabelWithConverter(a,b,this._label1Converter)),this._label2Converter&&(e=this._formatAxisLabelWithConverter(a,b,this._label2Converter)),[d,e];if(this._step>=DvtTimeAxisInfo.TIME_YEAR_MIN||this._timeRange>=6*DvtTimeAxisInfo.TIME_YEAR_MIN)d=this._formatDate(a,!1,!1,!0);else if(this._step>=
DvtTimeAxisInfo.TIME_MONTH_MIN||this._timeRange>=6*DvtTimeAxisInfo.TIME_MONTH_MIN){if(null==b||b.getMonth()!=a.getMonth())d=this._formatDate(a,!1,!0,!1);if(null==b||b.getYear()!=a.getYear())e=this._formatDate(a,!1,!1,!0)}else if(this._step>=DvtTimeAxisInfo.TIME_DAY||this._timeRange>=6*DvtTimeAxisInfo.TIME_DAY)if(c)d=this._formatDate(a,!0,!0,!0);else{if(null==b||b.getDate()!=a.getDate())d=this._formatDate(a,!0,!1,!1);null==b||b.getYear()!=a.getYear()?e=this._formatDate(a,!1,!0,!0):b.getMonth()!=a.getMonth()&&
(e=this._formatDate(a,!1,!0,!1))}else{if(this._step>=DvtTimeAxisInfo.TIME_HOUR||this._timeRange>=6*DvtTimeAxisInfo.TIME_HOUR){if(null==b||b.getHours()!=a.getHours())d=this._formatTime(a,!1,!1)}else if(this._step>=DvtTimeAxisInfo.TIME_MINUTE||this._timeRange>=6*DvtTimeAxisInfo.TIME_MINUTE){if(null==b||b.getMinutes()!=a.getMinutes())d=this._formatTime(a,!0,!1)}else if(null==b||b.getSeconds()!=a.getSeconds())d=this._formatTime(a,!0,!0);if(g){if(null==b||b.getDate()!=a.getDate())e=this._formatDate(a,
!0,!0,!1)}else null==b||b.getYear()!=a.getYear()?e=this._formatDate(a,!0,!0,!0):b.getMonth()!=a.getMonth()?e=this._formatDate(a,!0,!0,!1):b.getDate()!=a.getDate()&&(e=this._formatDate(a,!0,!1,!1))}return[d,e]};
DvtTimeAxisInfo.prototype._formatDate=function(a,b,c,d){var e="th"==this._locale.substring(0,2)&&"jet"!=this.Options._environment?a.getFullYear()+543:a.getFullYear(),g;g=this._monthResources&&12<=this._monthResources.length?this._monthResources[a.getMonth()]:a.toString().split(" ")[1];a=a.getDate();e+=DvtTimeAxisInfo._getYearTrailingCharacters(this._locale);a+=DvtTimeAxisInfo._getDayTrailingCharacters(this._locale);for(var h=DvtTimeAxisInfo._getDMYOrder(this._locale),k="",m=0;m<h.length;m++)b&&"D"==
h[m]?k+=a+" ":c&&"M"==h[m]?k+=g+" ":d&&"Y"==h[m]&&(k+=e+" ");return 0<k.length?k.slice(0,k.length-1):k};
DvtTimeAxisInfo.prototype._formatTime=function(a,b,c){var d=a.getHours(),e=a.getMinutes();a=a.getSeconds();var g=DvtTimeAxisInfo._getAMString(this._locale),h=DvtTimeAxisInfo._getPMString(this._locale),k=DvtTimeAxisInfo._getAMPMBefore(this._locale),m=""!=g&&""!=h,n,t="";DvtAgent.isRightToLeft(this.getCtx())&&(t="\u200f");if(m){if(12>d?(n=g,0==d&&(d=12)):(n=h,12<d&&(d-=12)),t+=d,b||0!=e)t+=":"+this._doubleDigit(e)}else t+=this._doubleDigit(d)+":"+this._doubleDigit(e);c&&(t+=":"+this._doubleDigit(a));
return m?k?n+" "+t:t+" "+n:t};DvtTimeAxisInfo.prototype._doubleDigit=function(a){return 10>a?"0"+a:""+a};
DvtTimeAxisInfo.prototype._getMixedFrequencyStep=function(){return this._timeRange>=6*DvtTimeAxisInfo.TIME_YEAR_MIN?DvtTimeAxisInfo.TIME_YEAR_MIN:this._timeRange>=6*DvtTimeAxisInfo.TIME_MONTH_MIN?DvtTimeAxisInfo.TIME_MONTH_MIN:this._timeRange>=6*DvtTimeAxisInfo.TIME_DAY?DvtTimeAxisInfo.TIME_DAY:this._timeRange>=DvtTimeAxisInfo.TIME_DAY?3*DvtTimeAxisInfo.TIME_HOUR:this._timeRange>=6*DvtTimeAxisInfo.TIME_HOUR?DvtTimeAxisInfo.TIME_HOUR:this._timeRange>=DvtTimeAxisInfo.TIME_HOUR?15*DvtTimeAxisInfo.TIME_MINUTE:
this._timeRange>=30*DvtTimeAxisInfo.TIME_MINUTE?5*DvtTimeAxisInfo.TIME_MINUTE:this._timeRange>=6*DvtTimeAxisInfo.TIME_MINUTE?DvtTimeAxisInfo.TIME_MINUTE:this._timeRange>=DvtTimeAxisInfo.TIME_MINUTE?15*DvtTimeAxisInfo.TIME_SECOND:this._timeRange>=30*DvtTimeAxisInfo.TIME_SECOND?5*DvtTimeAxisInfo.TIME_SECOND:DvtTimeAxisInfo.TIME_SECOND};
DvtTimeAxisInfo._getLabelPositions=function(a,b,c){var d=new Date(a);d.setMonth(0,1);d.setHours(0,0,0,0);var d=d.getTime(),e=[];if(c>=DvtTimeAxisInfo.TIME_YEAR_MIN&&c<=DvtTimeAxisInfo.TIME_YEAR_MAX){for(;d<a;)d=DvtTimeAxisInfo._addOneYear(d);for(;d<=b;)e.push(d),d=DvtTimeAxisInfo._addOneYear(d)}else if(c>=DvtTimeAxisInfo.TIME_MONTH_MIN&&c<=DvtTimeAxisInfo.TIME_MONTH_MAX){for(;d<a;)d=DvtTimeAxisInfo._addOneMonth(d);for(;d<=b;)e.push(d),d=DvtTimeAxisInfo._addOneMonth(d)}else for(d+=Math.ceil((a-d)/
c)*c;d<=b;)e.push(d),d+=c;return e};DvtTimeAxisInfo._addOneYear=function(a){a=new Date(a);a.setFullYear(a.getFullYear()+1);return a.getTime()};DvtTimeAxisInfo._addOneMonth=function(a){a=new Date(a);a.setMonth(a.getMonth()+1);return a.getTime()};
DvtTimeAxisInfo.prototype._generateLabels=function(a){var b=[],c=[],d=[],e=[],g=[],h=null,k=0,m=0,n=a.getStage(a),t=DvtAgent.isRightToLeft(a),u="left"==this.Position||"right"==this.Position,v="off"!=this.Options.zoomAndScroll,w=!0,x=0;u&&DvtAgent.isBrowserChrome()&&(x=.2*this.getTickLabelFontSize());var y=[];if(null!=this._step)y=DvtTimeAxisInfo._getLabelPositions(this.MinValue,this.MaxValue,this._step);else if(this._mixedFrequency)this._step=this._getMixedFrequencyStep(),y=DvtTimeAxisInfo._getLabelPositions(this.MinValue,
this.MaxValue,this._step);else{for(var z=0;z<this._groups.length;z++)this._groups[z]>=this.MinValue&&this._groups[z]<=this.MaxValue&&y.push(this._groups[z]);this._step=this._averageInterval;if(!this._skipGaps){var z=new DvtOutputText(a,this._formatAxisLabel(new Date(y[0]))[0],0,0),z=((u?DvtTextUtils.guessTextDimensions(z).h:z.measureDimensions().w)+this.GetTickLabelGapSize())*(y.length-1),A=Math.abs(this._endCoord-this._startCoord);z>A&&(this._step=this._getMixedFrequencyStep(),y=DvtTimeAxisInfo._getLabelPositions(this.MinValue,
this.MaxValue,this._step))}}0==y.length&&(y=[this.MinValue]);for(z=0;z<y.length;z++){var B=y[z],A=this.getCoordAt(B);if(null!=A){var B=new Date(B),D=this._formatAxisLabel(B,h),h=D[0],D=D[1];null!=h?(d.push({text:h,coord:null!=D?A+x:A}),e.push(A),k++):(d.push(null),e.push(null));b.push(null);v&&w&&(A=this.MinValue?this.getCoordAt(this.MinValue):A);w=!1;null!=D?(h=this.CreateLabel(a,D,null!=D?A-x:A),g.push(A),u||(t?h.alignRight():h.alignLeft()),c.push(h),this._isOneLevel=!1,m++):(c.push(null),g.push(null));
h=B}}k=this._skipLabelsUniform(d,b,n,!1,t);if(!v&&1<m&&k<1.5*m){b=c;c=null;for(a=0;a<b.length;a++)null!=b[a]&&b[a].alignCenter();this._skipLabelsGreedy(b,this.GetLabelDims(b,n),!1,t)}else m=this._skipLabelsGreedy(c,this.GetLabelDims(c,n),!0,t),0==m&&(c=null);u&&null!=c&&this._skipVertLabels(b,c,n);this._level1Labels=b;this._level2Labels=c;this._level1Coords=e;this._level2Coords=g};DvtTimeAxisInfo._isOverlapping=function(a,b,c,d,e){return c>=a&&c-e<b||c<a&&d+e>a?!0:!1};
DvtTimeAxisInfo.prototype._getLabelOverflow=function(a,b,c,d){var e=a-(c?d?b:0:.5*b);if(e<this.Options._minOverflowCoord)return Math.floor(e-this.Options._minOverflowCoord);a+=c?d?0:b:.5*b;return a>this.Options._maxOverflowCoord?Math.ceil(a-this.Options._maxOverflowCoord):0};
DvtTimeAxisInfo.prototype._skipLabelsGreedy=function(a,b,c,d){if(!b||0>=b.length)return!1;for(var e="left"==this.Position||"right"==this.Position,g=this.getTickLabelFontSize(),g=e?.1*g:.3*g,h=0,k,m,n,t=Math.abs(this._endCoord-this._startCoord),u=0;u<b.length;u++)if(this._level2Overflow.push(0),null!=a[u]){n=a[u];var v=DvtTextUtils.getTextWidth(n);b[u].w>t?a[u]=null:(v=this._getLabelOverflow(n.getX(),v,c,d),this._level2Overflow[u]=v,0!=v&&(n.setX(n.getX()-v),b[u].x-=v))}for(u=0;u<b.length;u++)null!=
b[u]&&(e?(c=b[u].y,d=b[u].y+b[u].h):(c=b[u].x,d=b[u].x+b[u].w),null!=k&&null!=m&&DvtTimeAxisInfo._isOverlapping(k,m,c,d,g)&&(a[u]=null),null!=a[u]&&(k=c,m=d,h++));return h};
DvtTimeAxisInfo.prototype._skipLabelsUniform=function(a,b,c,d){for(var e=[],g=[],h=Math.abs(this._endCoord-this._startCoord),k=0;k<a.length;k++)null!=a[k]&&(e.push(a[k]),g.push(null),this._level1Overflow.push(0));for(var m="left"==this.Position||"right"==this.Position,n=this,t=function(a){if(null==g[a])if(e[a].label=n.CreateLabel(c.getCtx(),e[a].text,e[a].coord),g[a]=e[a].label.measureDimensions(c),g[a].w>h)e[a].label=null,g[a].w=0,g[a].h=0;else{var b=n._getLabelOverflow(e[a].coord,g[a].w,!1,d);0!=
b&&(e[a].coord-=b,g[a].x-=b,e[a].label.setX(e[a].label.getX()-b),n._level1Overflow[a]=b)}return m?g[a].h:g[a].w},k=(t(0)+this.GetTickLabelGapSize())*(e.length-1),u=0<h?Math.ceil(k/h)-1:0,k=!0;k;){for(k=0;k<e.length;k++)0==k%(u+1)?(t(k),e[k].skipped=!1):e[k].skipped=!0;k=this.IsOverlapping(g,u);u++}for(k=t=0;k<a.length;k++)null==a[k]||a[k].skipped||(b[k]=a[k].label,t++);return t};
DvtTimeAxisInfo.prototype._skipVertLabels=function(a,b,c){var d=.1*this.getTickLabelFontSize();c=function(a,b){return DvtTimeAxisInfo._isOverlapping(a.y,a.y+a.h,b.y,b.y+b.h,d)};for(var e=null,g=!1,h=0;h<a.length;h++)if(a[h]&&b[h]){a[h].alignTop();b[h].alignBottom();if(e&&c(e,b[h].measureDimensions())){g=!0;break}e=a[h].measureDimensions()}else if(a[h]||b[h]){var k=a[h]?a[h]:b[h];if(e&&c(e,k.measureDimensions())){g=!0;break}e=k.measureDimensions()}if(g)for(var k=g=e=null,m,h=0;h<a.length;h++)b[h]?
(a[h]=null,b[h].alignMiddle(),m=b[h].measureDimensions(),g&&c(g,m)&&(a[e]=null),k=m):a[h]&&(m=a[h].measureDimensions(),k&&c(k,m)?a[h]=null:(g=m,e=h))};DvtTimeAxisInfo.prototype.getLabels=function(a,b){if(b&&1<b)return null;this._level1Labels||this._generateLabels(a);return 1==b?this._level2Labels:this._level1Labels};
DvtTimeAxisInfo.prototype.getMajorTickCoords=function(){var a=[];if(this._isOneLevel)for(var b=0;b<this._level1Coords.length;b++)null!=this._level1Coords[b]&&null!=this._level1Labels[b]&&a.push(this._level1Coords[b]);else for(b=1;b<this._level2Coords.length;b++)null!=this._level2Coords[b]&&a.push(this._level2Coords[b]);return a};
DvtTimeAxisInfo.prototype.getMinorTickCoords=function(){if(this._isOneLevel)return[];for(var a=[],b=0;b<this._level1Coords.length;b++)null!=this._level1Coords[b]&&null!=this._level1Labels[b]&&a.push(this._level1Coords[b]);return a};
DvtTimeAxisInfo.prototype.getUnboundedValueAt=function(a){if(null==a)return null;a=(a-this._startCoord)/(this._endCoord-this._startCoord);if(this._skipGaps){var b=this._timeToIndex(this.MinValue),c=this._timeToIndex(this.MaxValue);return this._indexToTime(b+a*(c-b))}return this.MinValue+a*(this.MaxValue-this.MinValue)};
DvtTimeAxisInfo.prototype.getUnboundedCoordAt=function(a){if(null==a)return null;if(this._skipGaps){var b=this._timeToIndex(this.MinValue),c=this._timeToIndex(this.MaxValue);a=(this._timeToIndex(a)-b)/(c-b)}else a=(a-this.MinValue)/(this.MaxValue-this.MinValue);return this._startCoord+a*(this._endCoord-this._startCoord)};DvtTimeAxisInfo.prototype.linearToActual=function(a){return null==a?null:this._skipGaps?this._indexToTime(a):a};
DvtTimeAxisInfo.prototype.actualToLinear=function(a){return null==a?null:this._skipGaps?this._timeToIndex(a):a};DvtTimeAxisInfo.prototype._timeToIndex=function(a){for(var b=this._groups.length,c=0;c<this._groups.length;c++)if(a<=this._groups[c]){b=c;break}var c=b-1,d=void 0!==this._groups[c]?this._groups[c]:this._groups[0]-this._averageInterval;return c+(a-d)/((void 0!==this._groups[b]?this._groups[b]:this._groups[this._groups.length-1]+this._averageInterval)-d)};
DvtTimeAxisInfo.prototype._indexToTime=function(a){var b=Math.min(Math.max(Math.ceil(a),0),this._groups.length),c=b-1,d=void 0!==this._groups[c]?this._groups[c]:this._groups[0]-this._averageInterval;return d+(a-c)*((void 0!==this._groups[b]?this._groups[b]:this._groups[this._groups.length-1]+this._averageInterval)-d)};
DvtTimeAxisInfo.prototype.getGroupWidth=function(){return this._skipGaps?Math.abs(this.getUnboundedCoordAt(this._indexToTime(1))-this.getUnboundedCoordAt(this._indexToTime(0))):Math.abs(this.getUnboundedCoordAt(this.MinValue+this._averageInterval)-this.getUnboundedCoordAt(this.MinValue))};DvtTimeAxisInfo.prototype.getMinimumExtent=function(){return this._skipGaps?1:this._mixedFrequency?Math.min(this._timeRange/8,this._averageInterval):this._averageInterval};
DvtTimeAxisInfo.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!DvtAgent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow};DvtTimeAxisInfo.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!DvtAgent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow};