var DvtObj=this?this.DvtObj:null;DvtObj||(DvtObj=window?window.DvtObj:null);DvtObj||(DvtObj=function(){},"undefined"!=typeof window&&(DvtObj[DvtObj._OWNER_KEY]=window));DvtObj._GET_FUNCTION_NAME_REGEXP=/function\s+([\S^]+)\s*\(/;DvtObj._OWNER_KEY="owner";DvtObj.prototype={};DvtObj.prototype.constructor=DvtObj;
DvtObj.createSubclass=function(a,b,c){if(void 0!==a&&null!==a&&(DvtObj[DvtObj._OWNER_KEY]&&(DvtObj[DvtObj._OWNER_KEY][c]=a),void 0===b&&(b=Object),a!=b)){var d=DvtObj._tempSubclassConstructor;d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.superclass=b.prototype;c&&(a._typeName=c)}};DvtObj._tempSubclassConstructor=function(){};DvtObj.getTypeName=function(a){var b=a._typeName;null==b&&(b=DvtObj._GET_FUNCTION_NAME_REGEXP.exec(a.toString())[1],a._typeName=b);return b};
DvtObj.prototype.getTypeName=function(){return DvtObj.getTypeName(this.constructor)};DvtObj.prototype.clone=function(){return null};DvtObj.prototype.mergeProps=function(a){};DvtObj.createCallback=function(a,b){return function(){return b.apply(a,arguments)}};DvtObj.defineConstant=function(a){return a};var DvtArrayUtils={};DvtObj.createSubclass(DvtArrayUtils,DvtObj,"DvtArrayUtils");DvtArrayUtils.NONE=0;DvtArrayUtils.ADD=1;DvtArrayUtils.SUB=2;DvtArrayUtils.DIV=3;DvtArrayUtils.MULT=4;
DvtArrayUtils.MOD=5;DvtArrayUtils.argsToArray=function(a){if(a){var b=Array(a.length);if(0<a.length)for(var c=0;c<a.length;c++)b[c]=a[c];return b}return a};DvtArrayUtils.isArray=function(a){return"undefined"!=typeof a&&"[object Array]"===Object.prototype.toString.apply(a)};
DvtArrayUtils.toFloat=function(a,b,c){if(!DvtArrayUtils.isArray(a))return a;b||(c=DvtArrayUtils.NONE);c=null===c||isNaN(c)?DvtArrayUtils.NONE:c;c!==DvtArrayUtils.NONE&&("number"!==typeof b&&(b=parseFloat(b)),isNaN(b)&&(c=DvtArrayUtils.NONE));var d=a.length,e;if(c===DvtArrayUtils.NONE)for(e=0;e<d;e++)a[e]=parseFloat(a[e]);else for(e=0;e<d;e++){var g=parseFloat(a[e]);switch(c){case DvtArrayUtils.MULT:g*=b;break;case DvtArrayUtils.ADD:g+=b;break;case DvtArrayUtils.SUB:g-=b;break;case DvtArrayUtils.DIV:g/=
b;break;case DvtArrayUtils.MOD:g%=b}a[e]=g}return a};DvtArrayUtils.copy=function(a){var b;if(a){b=[];for(var c=a.length,d=0;d<c;d++)b.push(a[d])}return b};DvtArrayUtils.getIndex=function(a,b){if(a)for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1};DvtArrayUtils.getLastIndex=function(a,b){for(var c=a.length-1;0<=c;c--)if(a[c]===b)return c;return-1};DvtArrayUtils.getMinIndex=function(a){for(var b=-1,c=a.length,d=Number.MAX_VALUE,e,g=0;g<c;g++)(e=a[g])&&"number"===typeof e&&e<d&&(d=e,b=g);return b};
DvtArrayUtils.getMaxIndex=function(a){for(var b=-1,c=a.length,d=Number.MIN_VALUE,e,g=0;g<c;g++)(e=a[g])&&"number"===typeof e&&e>d&&(d=e,b=g);return b};DvtArrayUtils.equals=function(a,b){if(!a&&b||a&&!b)return!1;if(a||b){if(a.length!=b.length)return!1;for(var c=0;c<=a.length;c++)if(a[c]!==b[c])return!1}return!0};DvtArrayUtils.hasAnyMapItem=function(a,b){if(!a||!b)return!1;for(var c=0;c<b.length;c++)if(a[b[c]])return!0;return!1};
DvtArrayUtils.hasAllMapItems=function(a,b){if(!a||!b)return!1;for(var c=0;c<b.length;c++)if(!a[b[c]])return!1;return!0};DvtArrayUtils.hasAnyItem=function(a,b){return DvtArrayUtils.hasAnyMapItem(DvtArrayUtils.createBooleanMap(a),b)};DvtArrayUtils.hasAllItems=function(a,b){return DvtArrayUtils.hasAllMapItems(DvtArrayUtils.createBooleanMap(a),b)};DvtArrayUtils.createBooleanMap=function(a){if(!a)return null;for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b};var DvtStringUtils={};
DvtObj.createSubclass(DvtStringUtils,DvtObj,"DvtStringUtils");DvtStringUtils._hasTrim=null!="hello".trim;DvtStringUtils._hasEndsWith=null!="hello".endsWith;DvtStringUtils.trim=function(a){return DvtStringUtils._hasTrim?a.trim():a.replace(/^\s+|\s+$/g,"")};DvtStringUtils.endsWith=function(a,b){return DvtStringUtils._hasEndsWith?a.endsWith(b):a.match(b+"$")==b};
DvtStringUtils.processAriaLabel=function(a){a=a.replace(/(<|&#60;)/g,"\x26lt;");a=a.replace(/(>|&#62;)/g,"\x26gt;");a=a.replace(/&lt;b&gt;/g,"");a=a.replace(/&lt;\/b&gt;/g,"");a=a.replace(/&lt;i&gt;/g,"");a=a.replace(/&lt;\/i&gt;/g,"");a=a.replace(/\n/g,"; ");a=a.replace(/&#92;n/g,"; ");a=a.replace(/&lt;br&gt;/g,"; ");return a=a.replace(/&lt;br\/&gt;/g,"; ")};
var DvtContext=function(a,b,c){this._root=DvtToolkitUtils.createSvgDocument(b?b+"_svg":null);a.appendChild(this._root);this._parentDiv=a;this._referenceDiv=c;this._implFactory=new DvtSvgImplFactory(this);this._defs=this._implFactory.newDefs();DvtToolkitUtils.appendChildElem(this._root,this._defs);this._keyboardFocusArray=[];this._keyboardFocusIndex=0;this.Init(this._implFactory,this._root,b);DvtToolkitUtils.appendChildElem(this._root,this._stage.getElem())};
DvtObj.createSubclass(DvtContext,DvtObj,"DvtContext");DvtContext._DATATIP_POPUP_STYLE_CLASS="OraDVTDatatipPopup";DvtContext._TOOLTIP_POPUP_STYLE_CLASS="OraDVTTooltipPopup";DvtContext._DEFAULT_FONT_FAMILY="'Helvetica Neue', Helvetica, Arial, sans-serif";DvtContext._DEFAULT_FONT_FAMILIES={"'Helvetica Neue', Helvetica, Arial, sans-serif":!0,'"Helvetica Neue", Helvetica, Arial, sans-serif':!0,'"Helvetica Neue",Helvetica,Arial,sans-serif':!0};DvtContext._DEFAULT_FONT_SIZE="12px";DvtContext._id=0;
DvtContext.prototype.Init=function(a,b,c){this._implFactory=a;this._stage=new DvtStage(this,b,(c?c:"_dvt"+DvtContext._id)+"_stage");DvtContext._id++;DvtToolkitUtils.setAttrNullNS(this._stage.getElem(),"font-family",this.getDefaultFontFamily());DvtToolkitUtils.setAttrNullNS(this._stage.getElem(),"font-size",this.getDefaultFontSize());this._tooltipManagers={};this._customTooltipManagers={};this._scheduler=null;this._globalDefsMap={}};DvtContext.prototype.getDefaultFontFamily=function(){return DvtContext._DEFAULT_FONT_FAMILY};
DvtContext.prototype.isDefaultFontFamily=function(a){return 1==DvtContext._DEFAULT_FONT_FAMILIES[a]};DvtContext.prototype.getDefaultFontSize=function(){return DvtContext._DEFAULT_FONT_SIZE};DvtContext.prototype.getImplFactory=function(){return this._implFactory};DvtContext.prototype.getStage=function(){return this._stage};DvtContext.prototype.isReadyToRender=function(){for(var a=this._parentDiv;a&&a!=document;){if(a.style&&"none"==a.style.display)return!1;a=a.parentNode}return a==document};
DvtContext.prototype.getSvgDocument=function(){return this._root};DvtContext.prototype.setReadingDirection=function(a){this._readingDirection=a};DvtContext.prototype.getReadingDirection=function(){return this._readingDirection};DvtContext.prototype.increaseGlobalDefReference=function(a){null!=a&&(this._globalDefsMap[a]=this._globalDefsMap[a]?this._globalDefsMap[a]++:1)};
DvtContext.prototype.decreaseGlobalDefReference=function(a){if(null!=a){var b=this._globalDefsMap[a];b&&(1==b?delete this._globalDefsMap[a]:this._globalDefsMap[a]=b--);this._globalDefsMap[a]||this.removeDefsById(a)}};DvtContext.prototype.getTooltipManager=function(a){a||(a="_dvtTooltip");var b=this.getStage().getId();a+=b;this._tooltipManagers[a]||(this._tooltipManagers[a]=this._implFactory.newTooltipManager(a));return this._tooltipManagers[a]};DvtContext.prototype.hideTooltips=function(){for(var a in this._tooltipManagers)this._tooltipManagers[a].hideTooltip()};
DvtContext.prototype.getScheduler=function(){this._scheduler||(this._scheduler=new DvtScheduler(this));return this._scheduler};DvtContext.prototype.getDocumentUtils=function(){return this._implFactory.getDocumentUtils()};DvtContext.prototype.pageToStageCoords=function(a,b){var c=this.getStageAbsolutePosition();return new DvtPoint(a-c.x,b-c.y)};DvtContext.prototype.stageToPageCoords=function(a,b){var c=this.getStageAbsolutePosition();return new DvtPoint(a+c.x,b+c.y)};
DvtContext.prototype.getStageAbsolutePosition=function(){if(this._stageAbsolutePosition)return this._stageAbsolutePosition;var a=this._referenceDiv;a||(a=this.getStage().getImpl().getSVGRoot(),a=a.parentNode?a.parentNode:a);a=DvtAgent.getElementPosition(a);return this._stageAbsolutePosition=new DvtPoint(parseInt(a.x),parseInt(a.y))};DvtContext.prototype.clearStageAbsolutePosition=function(){this._stageAbsolutePosition=null};
DvtContext.prototype.isOffscreen=function(){var a=this.getStage().getImpl().getSVGRoot().getBoundingClientRect();return 0>a.bottom||0>a.right||a.top>(window.innerHeight||document.documentElement.clientHeight)||a.left>(window.innerWidth||document.documentElement.clientWidth)};DvtContext.prototype.getCustomTooltipManager=function(a){a||(a="_dvtCustomTooltip");var b=this.getStage().getId();a+=b;this._customTooltipManagers[a]||(this._customTooltipManagers[a]=new DvtCustomTooltipManager(this,a));return this._customTooltipManagers[a]};
DvtContext.prototype.appendDefs=function(a){DvtToolkitUtils.appendChildElem(this._defs,a)};DvtContext.prototype.getDefs=function(){return this._defs};DvtContext.prototype.getImplFactory=function(){return this._implFactory};DvtContext.prototype.removeDefs=function(a){this._defs.removeChild(a)};DvtContext.prototype.removeDefsById=function(a){for(var b=this._defs.childNodes,c=b.length,d=0;d<c;d++){var e=b[d];if(e.id===a){this._defs.removeChild(e);break}}};
DvtContext.prototype.getRootAttribute=function(a){return DvtToolkitUtils.getAttrNullNS(this._root,a)};DvtContext.resetUniqueSeeds=function(){DvtAgent.isEnvironmentBrowser()||("undefined"!=typeof DvtAfComponent&&(DvtAfComponent._uniqueSeed=0),DvtSvgFilterUtils._counter=0,DvtClipPath._uniqueSeed=0,DvtSvgShapeUtils._uniqueSeed=0,DvtMask._uniqueSeed=0,DvtAgent._bInitialized=!1)};
DvtContext.resetCaches=function(){DvtAgent.isEnvironmentBrowser()||("undefined"!=typeof DvtAfComponent&&DvtAfStyleUtils.resetStyles(),DvtOutputText._cache=null,DvtTextUtils._cachedTextDimensions={},DvtMarkerUtils._cache={},DvtLedGaugeRenderer&&(DvtLedGaugeRenderer._cache=null))};
DvtContext.prototype.setActiveElement=function(a){if(DvtAgent.isEnvironmentBrowser()){this._activeElement&&(DvtToolkitUtils.removeAttrNullNS(this._activeElement.getElem(),"id"),this._activeElement=null);var b=a.getElem(),c=DvtToolkitUtils.getAttrNullNS(b,"id");c||((c=a.getId())?DvtToolkitUtils.setAttrNullNS(b,"id",c):(c=DvtEventManager._getActiveElementId(),DvtToolkitUtils.setAttrNullNS(b,"id",c),this._activeElement=a));a.applyAriaProperties();"application"==this._role&&this._parentDiv.setAttribute("aria-activedescendant",
c)}};DvtContext.prototype.setAriaLabel=function(a){this._parentDiv.getAttribute("aria-label")||(a?this._parentDiv.setAttribute("aria-label",DvtStringUtils.processAriaLabel(a)):this._parentDiv.removeAttribute("aria-label"))};DvtContext.prototype.setAriaRole=function(a){a?this._parentDiv.setAttribute("role",a):this._parentDiv.removeAttribute("role");this._role=a};DvtContext.prototype.setTooltipAttachedCallback=function(a){this._tooltipAttachedCallback=a};
DvtContext.prototype.getTooltipAttachedCallback=function(){return this._tooltipAttachedCallback};DvtContext.prototype.setTooltipStyleClass=function(a){this._tooltipStyleClass=a};DvtContext.prototype.getTooltipStyleClass=function(){return this._tooltipStyleClass?this._tooltipStyleClass:DvtContext._TOOLTIP_POPUP_STYLE_CLASS};DvtContext.prototype.setDatatipStyleClass=function(a){this._datatipStyleClass=a};
DvtContext.prototype.getDatatipStyleClass=function(){return this._datatipStyleClass?this._datatipStyleClass:DvtContext._DATATIP_POPUP_STYLE_CLASS};DvtContext.prototype.setKeyboardFocusArray=function(a){this._keyboardFocusArray=a;this._keyboardFocusIndex=0;0<a.length&&(this._root.parentNode._currentObj=this._keyboardFocusArray[this._keyboardFocusIndex])};DvtContext.prototype.getCurrentKeyboardFocus=function(){return this._keyboardFocusArray.length<=this._keyboardFocusIndex?null:this._keyboardFocusArray[this._keyboardFocusIndex]};
DvtContext.prototype.setCurrentKeyboardFocus=function(a){a=DvtArrayUtils.getIndex(this._keyboardFocusArray,a);if(-1==a)return!1;var b=this._keyboardFocusArray[a];this._keyboardFocusIndex=a;this._root.parentNode._currentObj=b;return!0};DvtContext.prototype.nextKeyboardFocus=function(){var a=this._keyboardFocusArray[this._keyboardFocusIndex+1];return a?(this._keyboardFocusIndex++,this._root.parentNode._currentObj=a):null};
DvtContext.prototype.previousKeyboardFocus=function(){var a=this._keyboardFocusArray[this._keyboardFocusIndex-1];return a?(this._keyboardFocusIndex--,this._root.parentNode._currentObj=a):null};DvtContext.prototype.getNumberConverter=function(a){var b=this.getLocaleHelpers();return b.numberConverterFactory?b.numberConverterFactory.createConverter(a):null};DvtContext.prototype.getLocaleHelpers=function(){return this._localeHelpers?this._localeHelpers:{}};
DvtContext.prototype.setLocaleHelpers=function(a){this._localeHelpers=a};DvtContext.requestAnimationFrame=function(a){return window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,1E3/30)};DvtContext.cancelAnimationFrame=function(a){window.cancelAnimationFrame?window.cancelAnimationFrame(a):clearTimeout(a)};var DvtLockable=function(){this._Init()};DvtObj.createSubclass(DvtLockable,DvtObj,"DvtLockable");DvtLockable.prototype._Init=function(){this._bLocked=!1};
DvtLockable.prototype.isLocked=function(){return this._bLocked};DvtLockable.prototype.__lock=function(){this._bLocked=!0};var DvtScheduled=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtScheduled,DvtObj,"DvtScheduled");DvtScheduled._STATE_INITIALIZE=0;DvtScheduled._STATE_BEGIN=1;DvtScheduled._STATE_RUN=2;DvtScheduled.CalcProgress=function(a,b,c){c-=b;if(0==c)return.5;a=(a-b)/c;1<a&&(a=1);return a};
DvtScheduled.prototype.Init=function(a,b,c,d,e){this._context=a;this._scheduler=b;this.setDuration(c);this.setDelay(d);this.setEasing(e);this._bRunning=!1;this._startTime=null;this._progress=0;this._state=DvtScheduled._STATE_INITIALIZE;this._onStepObj=this._onStep=this._onEndObj=this._onEnd=this._onStartObj=this._onStart=this._onInitObj=this._onInit=null};DvtScheduled.prototype.getDuration=function(){return this._duration};DvtScheduled.prototype.setDuration=function(a){this._duration=a?a:.5};
DvtScheduled.prototype.getDelay=function(){return this._delay};DvtScheduled.prototype.setDelay=function(a){this._delay=a?a:0};DvtScheduled.prototype.getEasing=function(){return this._easing};DvtScheduled.prototype.setEasing=function(a){this._easing=a?a:DvtEasing.cubicInOut};DvtScheduled.prototype.setOnInit=function(a,b){this._onInit=a;this._onInitObj=b?b:null};DvtScheduled.prototype.getOnInit=function(){return[this._onInit,this._onInitObj]};
DvtScheduled.prototype.setOnStart=function(a,b){this._onStart=a;this._onStartObj=b?b:null};DvtScheduled.prototype.getOnStart=function(){return[this._onStart,this._onStartObj]};DvtScheduled.prototype.setOnEnd=function(a,b){this._onEnd=a;this._onEndObj=b?b:null};DvtScheduled.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]};DvtScheduled.prototype.setOnStep=function(a,b){this._onStep=a;b?this._onSepObj=b:this._onStepObj=null};
DvtScheduled.prototype.getOnStep=function(){return[this._onStep,this._onStepObj]};DvtScheduled.prototype.isRunning=function(){return this._bRunning};DvtScheduled.prototype.play=function(a){a?this._play():DvtContext.requestAnimationFrame(DvtObj.createCallback(this,this._play))};DvtScheduled.prototype._play=function(){this._bRunning||(this._bRunning=!0,this.ProcessPlay(),this._scheduler.addScheduled(this));this._context.isOffscreen()&&this.stop(!0)};
DvtScheduled.prototype.stop=function(a){this._scheduler.removeScheduled(this);a&&this.ProcessStep(1);this.ProcessEnd()};DvtScheduled.prototype.pause=function(){this._bRunning=!1};DvtScheduled.prototype.reset=function(){this._state=DvtScheduled._STATE_INITIALIZE};DvtScheduled.prototype.processTime=function(a){if(this._bRunning){a-=this._startTime;if(0>a)return!1;var b=1E3*this.GetTotalDuration(),c=1;0!=b&&(c=a/b);1<c&&(c=1);this.ProcessStep(c);(a=1<=c)&&this.ProcessEnd();return a}};
DvtScheduled.prototype.GetTotalDuration=function(){return this._delay+this._duration};DvtScheduled.prototype.ProcessPlay=function(){this._state==DvtScheduled._STATE_INITIALIZE&&this.ProcessInitialize();if(this._state==DvtScheduled._STATE_BEGIN)this._startTime=(new Date).getTime(),this.ProcessStart();else{var a=1E3*this._progress*this.GetTotalDuration();this._startTime=(new Date).getTime()-a}this._state=DvtScheduled._STATE_RUN};
DvtScheduled.prototype.ProcessInitialize=function(){this._onInit&&this._onInit.call(this._onInitObj);this.Initialize();this._state=DvtScheduled._STATE_BEGIN};DvtScheduled.prototype.ProcessStart=function(){this._bRunning=!0;this._progress=0;this.Start();this._onStart&&this._onStart.call(this._onStartObj)};
DvtScheduled.prototype.ProcessStep=function(a){var b=this._progress=a;0<this._delay&&(b=DvtScheduled.CalcProgress(a,this._delay/this.GetTotalDuration(),1));0<=b&&(this._easing&&(b=this._easing(b)),this.Step(b),this._onStep&&this._onStep.call(this._onStepObj,b))};DvtScheduled.prototype.ProcessEnd=function(){this._bRunning&&(this._bRunning=!1,this._progress=1,this.End(),this._state=DvtScheduled._STATE_BEGIN,this._onEnd&&this._onEnd.call(this._onEndObj))};DvtScheduled.prototype.Initialize=function(){};
DvtScheduled.prototype.Start=function(){};DvtScheduled.prototype.Step=function(a){};DvtScheduled.prototype.End=function(){};var DvtScheduler=function(a){this.Init(a)};DvtObj.createSubclass(DvtScheduler,DvtObj,"DvtScheduler");DvtScheduler.prototype.Init=function(a){this._scheduledItems=[];this._bRunning=!1};
DvtScheduler.prototype.HandleTimer=function(){for(var a=(new Date).getTime(),b=0;b<this._scheduledItems.length;b++){var c=this._scheduledItems[b];c.processTime(a)&&this.removeScheduled(c)}1>this._scheduledItems.length?this.pause():this._animationRequestId=DvtContext.requestAnimationFrame(DvtObj.createCallback(this,this.HandleTimer));DvtScheduler._frameCount++};DvtScheduler.prototype.addScheduled=function(a){0>DvtArrayUtils.getIndex(this._scheduledItems,a)&&this._scheduledItems.push(a);this.play()};
DvtScheduler.prototype.removeScheduled=function(a){a=DvtArrayUtils.getIndex(this._scheduledItems,a);0<=a&&this._scheduledItems.splice(a,1)};DvtScheduler.prototype.play=function(){if(!this._bRunning){for(var a=0;a<this._scheduledItems.length;a++){var b=this._scheduledItems[a];b.isRunning()||b.play()}this._bRunning=!0;this._animationRequestId=DvtContext.requestAnimationFrame(DvtObj.createCallback(this,this.HandleTimer))}};
DvtScheduler.prototype.pause=function(){if(this._bRunning){this._bRunning=!1;this._animationRequestId&&DvtContext.cancelAnimationFrame(this._animationRequestId);for(var a=0;a<this._scheduledItems.length;a++){var b=this._scheduledItems[a];b.isRunning()&&b.pause()}}};var DvtAnimator=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtAnimator,DvtScheduled,"DvtAnimator");DvtAnimator.TYPE_NUMBER="typeNumber";DvtAnimator.TYPE_MATRIX="typeMatrix";DvtAnimator.TYPE_NUMBER_ARRAY="typeNumberArray";
DvtAnimator.TYPE_COLOR="typeColor";DvtAnimator.TYPE_COLOR_ARRAY="typeColorArray";DvtAnimator.TYPE_GROW_POLYLINE="typeGrowPolyline";DvtAnimator.TYPE_RECTANGLE="typeRectangle";DvtAnimator.TYPE_POINT="typePoint";DvtAnimator.TYPE_PATH="typePath";DvtAnimator.TYPE_GROW_PATH="typeGrowPath";DvtAnimator.TYPE_FILL="typeFill";DvtAnimator.TYPE_STROKE="typeStroke";DvtAnimator.TYPE_POLYLINE="typePolyline";DvtAnimator._KEY_PREFIX="dvtAnimPropMap_";
DvtAnimator.prototype.Init=function(a,b,c,d){DvtAnimator.superclass.Init.call(this,a,a.getScheduler(),b,c,d);this._context=a;this._props={}};DvtAnimator.prototype.addProp=function(a,b,c,d,e){var g=this.GetPropItem(b,c);g?g.destVal=e:(g=new DvtAnimatorPropItem(a,b,c,d,e),a=DvtAnimator.GetKey(b),this._props[a]||(this._props[a]={}),this._props[a][DvtAnimator.GetKey(c)]=g)};
DvtAnimator.prototype.removeProp=function(a,b){var c=this.GetPropItem(a,b);return c?(c=c.destVal,delete this._props[DvtAnimator.GetKey(a)][DvtAnimator.GetKey(b)],c):null};DvtAnimator.prototype.getDestVal=function(a,b,c){var d=this.GetPropItem(a,b);return d?d.destVal:c?b.call(a):null};DvtAnimator.prototype.GetPropItem=function(a,b){var c=DvtAnimator.GetKey(a);return this._props[c]?this._props[c][DvtAnimator.GetKey(b)]:null};
DvtAnimator.GetKey=function(a){a._dvtAnimPropMapKey||(a._dvtAnimPropMapKey=DvtAnimator._KEY_PREFIX+Math.random());return a._dvtAnimPropMapKey};DvtAnimator.prototype.Initialize=function(){for(var a in this._props)for(var b in this._props[a]){var c=this._props[a][b];c.startVal=c.getter.call(c.obj)}};
DvtAnimator.prototype.Step=function(a){for(var b in this._props)for(var c in this._props[b]){var d=this._props[b][c],e=d.obj,g=d.setter,d=DvtInterpolator.interpolate(this._context,d.type,d.startVal,d.destVal,a);g.call(e,d)}};var DvtAnimatorPropItem=function(a,b,c,d,e){this.type=a;this.obj=b;this.getter=c;this.setter=d;this.destVal=e;this.startVal=null};DvtObj.createSubclass(DvtAnimatorPropItem,DvtObj,"DvtAnimatorPropItem");var DvtPlayable=function(a){this.Init(a)};
DvtObj.createSubclass(DvtPlayable,DvtObj,"DvtPlayable");DvtPlayable.appendOnEnd=function(a,b,c){if(a&&b){var d=a.getOnEnd();d&&d[0]?a.setOnEnd(function(){d[0].call(d[1]);b.call(c)}):a.setOnEnd(b,c)}};DvtPlayable.prependOnEnd=function(a,b,c){if(a&&b){var d=a.getOnEnd();d&&d[0]?a.setOnEnd(function(){b.call(c);d[0].call(d[1])}):a.setOnEnd(b,c)}};
DvtPlayable.appendOnStart=function(a,b,c){if(a&&b&&a.getOnStart&&a.setOnStart){var d=a.getOnStart();d&&d[0]?a.setOnStart(function(){d[0].call(d[1]);b.call(c)}):a.setOnStart(b,c)}};DvtPlayable.prependOnStart=function(a,b,c){if(a&&b&&a.getOnStart&&a.setOnStart){var d=a.getOnStart();d&&d[0]?a.setOnStart(function(){b.call(c);d[0].call(d[1])}):a.setOnStart(b,c)}};
DvtPlayable.appendOnInit=function(a,b,c){if(a&&b&&a.getOnInit&&a.setOnInit){var d=a.getOnInit();d&&d[0]?a.setOnInit(function(){d[0].call(d[1]);b.call(c)}):a.setOnInit(b,c)}};DvtPlayable.prependOnInit=function(a,b,c){if(a&&b&&a.getOnInit&&a.setOnInit){var d=a.getOnInit();d&&d[0]?a.setOnInit(function(){b.call(c);d[0].call(d[1])}):a.setOnInit(b,c)}};DvtPlayable.prototype.Init=function(a){this.Context=a;this._onEndObj=this._onEnd=null};
DvtPlayable.prototype.setOnEnd=function(a,b){this._onEnd=a;this._onEndObj=b?b:null;this.OnEndUpdated()};DvtPlayable.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]};DvtPlayable.prototype.OnEndUpdated=function(){};DvtPlayable.prototype.getDuration=function(){return 0};DvtPlayable.prototype.initialize=function(){};DvtPlayable.prototype.play=function(a){};DvtPlayable.prototype.stop=function(a){};DvtPlayable.prototype.pause=function(){};
var DvtParallelPlayable=function(a){var b;arguments&&1<arguments.length&&arguments[1]instanceof Array?b=arguments[1]:(b=DvtArrayUtils.argsToArray(arguments),b.splice(0,1));this.Init(a,b)};DvtObj.createSubclass(DvtParallelPlayable,DvtPlayable,"DvtParallelPlayable");DvtParallelPlayable.prototype.Init=function(a,b){DvtParallelPlayable.superclass.Init.call(this,a);this._runningCounter=0;this._arPlayables=b?b:[];this._bStarted=!1};DvtParallelPlayable.prototype.getPlayables=function(){return this._arPlayables};
DvtParallelPlayable.prototype.getDuration=function(){for(var a=0,b=0;b<this._arPlayables.length;b++){var c=this._arPlayables[b];c instanceof DvtPlayable&&(a=Math.max(a,c.getDuration()))}return a};DvtParallelPlayable.prototype.initialize=function(){for(var a=0;a<this._arPlayables.length;a++)this._arPlayables[a]instanceof DvtPlayable&&this._arPlayables[a].initialize()};
DvtParallelPlayable.prototype.play=function(a){0<this._arPlayables.length?a?this._play():(this.initialize(),DvtContext.requestAnimationFrame(DvtObj.createCallback(this,this._play))):DvtContext.requestAnimationFrame(DvtObj.createCallback(this,this.DoEnd))};
DvtParallelPlayable.prototype._play=function(){for(var a,b=0;b<this._arPlayables.length;b++)a=this._arPlayables[b],a instanceof DvtPlayable&&(this._bStarted||(this._runningCounter++,DvtPlayable.appendOnEnd(a,this.OnPlayableEnd,this)),a.play(!0));this._bStarted=!0};DvtParallelPlayable.prototype.stop=function(a){for(var b,c=0;c<this._arPlayables.length;c++)b=this._arPlayables[c],b instanceof DvtPlayable&&b.stop(a)};
DvtParallelPlayable.prototype.pause=function(){for(var a=0;a<this._arPlayables.length;a++){var b=this._arPlayables[a];b instanceof DvtPlayable&&b.pause()}};DvtParallelPlayable.prototype.OnPlayableEnd=function(){this._runningCounter--;1>this._runningCounter&&this.DoEnd()};DvtParallelPlayable.prototype.DoEnd=function(){this._onEnd&&this._onEnd.call(this._onEndObj)};
var DvtSequentialPlayable=function(a){var b;arguments&&1<arguments.length&&arguments[1]instanceof Array?b=arguments[1]:(b=DvtArrayUtils.argsToArray(arguments),b.splice(0,1));this.Init(a,b)};DvtObj.createSubclass(DvtSequentialPlayable,DvtPlayable,"DvtSequentialPlayable");DvtSequentialPlayable.prototype.Init=function(a,b){DvtSequentialPlayable.superclass.Init.call(this,a);this._arPlayables=b?b:[];this._currIndex=-1;this._bStarted=!1};DvtSequentialPlayable.prototype.getPlayables=function(){return this._arPlayables};
DvtSequentialPlayable.prototype.getDuration=function(){for(var a=0,b=0;b<this._arPlayables.length;b++){var c=this._arPlayables[b];c instanceof DvtPlayable&&(a+=c.getDuration())}return a};DvtSequentialPlayable.prototype.initialize=function(){0<this._arPlayables.length&&this._arPlayables[0]instanceof DvtPlayable&&this._arPlayables[0].initialize()};
DvtSequentialPlayable.prototype.play=function(a){this._arPlayables&&0<this._arPlayables.length?a?this._play():(this.initialize(),DvtContext.requestAnimationFrame(DvtObj.createCallback(this,this._play))):DvtContext.requestAnimationFrame(DvtObj.createCallback(this,this.DoEnd))};
DvtSequentialPlayable.prototype._play=function(){if(this._bStarted){var a=this._arPlayables[this._currIndex];a instanceof DvtPlayable&&a.play(!0)}else{this._arPlayables[0]instanceof DvtPlayable&&(a=this._arPlayables[0]);var b;this._arPlayables[this._arPlayables.length-1]instanceof DvtPlayable&&(b=this._arPlayables[this._arPlayables.length-1]);for(var c,d=0;d<this._arPlayables.length-1;d++)c=this._arPlayables[d],c instanceof DvtPlayable&&DvtPlayable.appendOnEnd(c,this.DoSequenceStep,this);b&&DvtPlayable.appendOnEnd(b,
this.DoEnd,this);this._bStarted=!0;this._currIndex=0;a&&a.play(!0)}};DvtSequentialPlayable.prototype.DoSequenceStep=function(){var a=this._arPlayables[++this._currIndex];a instanceof DvtPlayable?a.play(!0):this.DoSequenceStep()};DvtSequentialPlayable.prototype.stop=function(a){if(this._arPlayables)for(var b,c=this._currIndex;c<this._arPlayables.length;c++)(b=this._arPlayables[c])&&b instanceof DvtPlayable&&b.stop(a)};
DvtSequentialPlayable.prototype.pause=function(){if(this._arPlayables){var a=this._arPlayables[this._currIndex];a instanceof DvtPlayable&&a.pause()}};DvtSequentialPlayable.prototype.DoEnd=function(){this._onEnd&&this._onEnd.call(this._onEndObj)};var DvtBlackBoxAnimationHandler=function(){};DvtObj.createSubclass(DvtBlackBoxAnimationHandler,DvtObj,"DvtBlackBoxAnimationHandler");DvtBlackBoxAnimationHandler.ALPHA_FADE="alphaFade";DvtBlackBoxAnimationHandler.CONVEYOR_FROM_RIGHT="conveyorFromRight";
DvtBlackBoxAnimationHandler.CONVEYOR_FROM_LEFT="conveyorFromLeft";DvtBlackBoxAnimationHandler.CUBE_TO_RIGHT="cubeToRight";DvtBlackBoxAnimationHandler.CUBE_TO_LEFT="cubeToLeft";DvtBlackBoxAnimationHandler.FLIP_RIGHT="flipRight";DvtBlackBoxAnimationHandler.FLIP_LEFT="flipLeft";DvtBlackBoxAnimationHandler.TRANSITION_TO_RIGHT="transitionToRight";DvtBlackBoxAnimationHandler.TRANSITION_TO_LEFT="transitionToLeft";DvtBlackBoxAnimationHandler.SLIDE_TO_RIGHT="slideToRight";
DvtBlackBoxAnimationHandler.SLIDE_TO_LEFT="slideToLeft";DvtBlackBoxAnimationHandler.ZOOM="zoom";
DvtBlackBoxAnimationHandler.isSupported=function(a){return a==DvtBlackBoxAnimationHandler.ALPHA_FADE||a==DvtBlackBoxAnimationHandler.CONVEYOR_FROM_RIGHT||a==DvtBlackBoxAnimationHandler.CONVEYOR_FROM_LEFT||a==DvtBlackBoxAnimationHandler.CUBE_TO_RIGHT||a==DvtBlackBoxAnimationHandler.CUBE_TO_LEFT||a==DvtBlackBoxAnimationHandler.FLIP_RIGHT||a==DvtBlackBoxAnimationHandler.FLIP_LEFT||a==DvtBlackBoxAnimationHandler.TRANSITION_TO_RIGHT||a==DvtBlackBoxAnimationHandler.TRANSITION_TO_LEFT||a==DvtBlackBoxAnimationHandler.SLIDE_TO_RIGHT||
a==DvtBlackBoxAnimationHandler.SLIDE_TO_LEFT||a==DvtBlackBoxAnimationHandler.ZOOM};
DvtBlackBoxAnimationHandler.getInAnimation=function(a,b,c,d,e){return b==DvtBlackBoxAnimationHandler.ALPHA_FADE?new DvtAnimFadeIn(a,c,e):b==DvtBlackBoxAnimationHandler.CONVEYOR_FROM_RIGHT?new DvtAnimConveyorIn(a,c,DvtBaseAnimation.DIR_E,e):b==DvtBlackBoxAnimationHandler.CONVEYOR_FROM_LEFT?new DvtAnimConveyorIn(a,c,DvtBaseAnimation.DIR_W,e):b==DvtBlackBoxAnimationHandler.CUBE_TO_RIGHT?new DvtAnimCubeIn(a,c,DvtBaseAnimation.AXIS_Y,DvtBaseAnimation.ROT_DIR_CLOCKWISE,e):b==DvtBlackBoxAnimationHandler.CUBE_TO_LEFT?
new DvtAnimCubeIn(a,c,DvtBaseAnimation.AXIS_Y,DvtBaseAnimation.ROT_DIR_COUNTERCLOCKWISE,e):b==DvtBlackBoxAnimationHandler.FLIP_RIGHT?new DvtAnimFlipIn(a,c,DvtBaseAnimation.AXIS_Y,DvtBaseAnimation.ROT_DIR_CLOCKWISE,e):b==DvtBlackBoxAnimationHandler.FLIP_LEFT?new DvtAnimFlipIn(a,c,DvtBaseAnimation.AXIS_Y,DvtBaseAnimation.ROT_DIR_COUNTERCLOCKWISE,e):b==DvtBlackBoxAnimationHandler.TRANSITION_TO_RIGHT?new DvtAnimScaleFadeIn(a,c,d,DvtBaseAnimation.DIR_NW,.5,e):b==DvtBlackBoxAnimationHandler.TRANSITION_TO_LEFT?
new DvtAnimScaleFadeIn(a,c,d,DvtBaseAnimation.DIR_NE,.5,e):b==DvtBlackBoxAnimationHandler.SLIDE_TO_RIGHT?(DvtBlackBoxAnimationHandler._offsetObjects(c,-d.w,0),new DvtAnimMoveBy(a,c,new DvtPoint(d.w,0),e)):b==DvtBlackBoxAnimationHandler.SLIDE_TO_LEFT?(DvtBlackBoxAnimationHandler._offsetObjects(c,d.w,0),new DvtAnimMoveBy(a,c,new DvtPoint(-d.w,0),e)):b==DvtBlackBoxAnimationHandler.ZOOM?new DvtAnimScaleFadeIn(a,c,d,DvtBaseAnimation.DIR_C,.5,e):null};
DvtBlackBoxAnimationHandler.getCombinedAnimation=function(a,b,c,d,e,g){return b==DvtBlackBoxAnimationHandler.ALPHA_FADE?new DvtCombinedAnimFade(a,c,d,g):b==DvtBlackBoxAnimationHandler.CONVEYOR_FROM_RIGHT?new DvtCombinedAnimConveyor(a,c,d,DvtBaseAnimation.DIR_W,DvtBaseAnimation.DIR_E,g):b==DvtBlackBoxAnimationHandler.CONVEYOR_FROM_LEFT?new DvtCombinedAnimConveyor(a,c,d,DvtBaseAnimation.DIR_E,DvtBaseAnimation.DIR_W,g):b==DvtBlackBoxAnimationHandler.CUBE_TO_RIGHT?new DvtCombinedAnimCube(a,c,d,DvtBaseAnimation.AXIS_Y,
DvtBaseAnimation.ROT_DIR_CLOCKWISE,g):b==DvtBlackBoxAnimationHandler.CUBE_TO_LEFT?new DvtCombinedAnimCube(a,c,d,DvtBaseAnimation.AXIS_Y,DvtBaseAnimation.ROT_DIR_COUNTERCLOCKWISE,g):b==DvtBlackBoxAnimationHandler.FLIP_RIGHT?new DvtCombinedAnimFlip(a,c,d,DvtBaseAnimation.AXIS_Y,DvtBaseAnimation.ROT_DIR_CLOCKWISE,g):b==DvtBlackBoxAnimationHandler.FLIP_LEFT?new DvtCombinedAnimFlip(a,c,d,DvtBaseAnimation.AXIS_Y,DvtBaseAnimation.ROT_DIR_COUNTERCLOCKWISE,g):b==DvtBlackBoxAnimationHandler.TRANSITION_TO_RIGHT?
new DvtCombinedAnimScaleFade(a,c,d,e,DvtBaseAnimation.DIR_SE,DvtBaseAnimation.DIR_NW,.5,g):b==DvtBlackBoxAnimationHandler.TRANSITION_TO_LEFT?new DvtCombinedAnimScaleFade(a,c,d,e,DvtBaseAnimation.DIR_SW,DvtBaseAnimation.DIR_NE,.5,g):b==DvtBlackBoxAnimationHandler.SLIDE_TO_RIGHT?(DvtBlackBoxAnimationHandler._offsetObjects(d,-e.w,0),new DvtCombinedAnimMoveBy(a,c,d,new DvtPoint(e.w,0),new DvtPoint(e.w,0),g)):b==DvtBlackBoxAnimationHandler.SLIDE_TO_LEFT?(DvtBlackBoxAnimationHandler._offsetObjects(d,e.w,
0),new DvtCombinedAnimMoveBy(a,c,d,new DvtPoint(-e.w,0),new DvtPoint(-e.w,0),g)):b==DvtBlackBoxAnimationHandler.ZOOM?new DvtCombinedAnimScaleFade(a,c,d,e,DvtBaseAnimation.DIR_C,DvtBaseAnimation.DIR_C,.5,g):null};DvtBlackBoxAnimationHandler._offsetObjects=function(a,b,c){if(a.length)for(var d=0;d<a.length;d++)DvtBlackBoxAnimationHandler._offsetObjects(a[d],b,c);else a&&a.setTranslate(a.getTranslateX()+b,a.getTranslateY()+c)};var DvtDataAnimationHandler=function(a,b){this.Init(a,b)};
DvtObj.createSubclass(DvtDataAnimationHandler,DvtObj,"DvtDataAnimationHandler");DvtDataAnimationHandler._OVERLAP_RATIO=.4;DvtDataAnimationHandler.prototype.Init=function(a,b){this._context=a;this._deleteContainer=b;this._playables=[]};DvtDataAnimationHandler.prototype.getCtx=function(){return this._context};
DvtDataAnimationHandler.prototype.constructAnimation=function(a,b){if(b&&!this._context.isOffscreen()){b=b.slice(0);if(a)for(var c=0;c<a.length;c++){var d=a[c];if(d){for(var e=d.getId(),g=!1,h=0;h<b.length;h++){var k=b[h];if(k){var m=k.getId();if(e===m||e&&e.equals&&e.equals(m)){k.animateUpdate(this,d);b.splice(h,1);g=!0;break}}}g||d.animateDelete(this,this._deleteContainer)}}for(c=0;c<b.length;c++)b[c]&&b[c].animateInsert(this)}};
DvtDataAnimationHandler.prototype.add=function(a,b){if(a){for(b||(b=0);this._playables.length<=b;)this._playables.push([]);this._playables[b].push(a)}};
DvtDataAnimationHandler.prototype.getAnimation=function(a){for(var b=[],c=0;c<this._playables.length;c++)if(0<this._playables[c].length){var d=new DvtParallelPlayable(this._context,this._playables[c]);b.push(d)}if(a){a=[];for(d=c=0;d<b.length;d++){if(0<c){var e=new DvtCustomAnimation(this._context,null,c);a.push(new DvtSequentialPlayable(this._context,[e,b[d]]))}else a.push(b[d]);c+=(1-DvtDataAnimationHandler._OVERLAP_RATIO)*b[d].getDuration()}return new DvtParallelPlayable(this._context,a)}return new DvtSequentialPlayable(this._context,
b)};DvtDataAnimationHandler.prototype.getNumPlayables=function(){return this._playables.length};var DvtEasing=function(){this.Init()};DvtObj.createSubclass(DvtEasing,DvtObj,"DvtEasing");DvtEasing.linear=function(a){return a};DvtEasing.quadraticIn=function(a){return DvtEasing.PolyIn(a,2)};DvtEasing.quadraticOut=function(a){return DvtEasing.PolyOut(a,2)};DvtEasing.quadraticInOut=function(a){return DvtEasing.PolyInOut(a,2)};DvtEasing.cubicIn=function(a){return DvtEasing.PolyIn(a,3)};
DvtEasing.cubicOut=function(a){return DvtEasing.PolyOut(a,3)};DvtEasing.cubicInOut=function(a){return DvtEasing.PolyInOut(a,3)};DvtEasing.backOut=function(a,b){b||(b=1.70158);a=1-a;return 1-a*a*((b+1)*a-b)};DvtEasing.backIn=function(a,b){b||(b=1.70158);return a*a*((b+1)*a-b)};DvtEasing.elasticIn=function(a,b,c){if(0>=a||1<=a)return a;c||(c=.45);var d;!b||1>b?(b=1,d=c/4):d=c/(2*Math.PI)*Math.asin(1/b);return-(b*Math.pow(2,10*--a)*Math.sin(2*(a-d)*Math.PI/c))};
DvtEasing.elasticOut=function(a,b,c){return 1-DvtEasing.elasticIn(1-a,b,c)};DvtEasing.PolyIn=function(a,b){return 0>a?0:1<a?1:Math.pow(a,b)};DvtEasing.PolyOut=function(a,b){return 0>a?0:1<a?1:1-Math.pow(1-a,b)};DvtEasing.PolyInOut=function(a,b){return 0>a?0:1<a?1:.5>a?.5*Math.pow(2*a,b):.5*(2-Math.pow(2*(1-a),b))};DvtEasing.prototype.Init=function(){};var DvtInterpolator=function(){this.Init()};DvtObj.createSubclass(DvtInterpolator,DvtObj,"DvtInterpolator");
DvtInterpolator.addInterpolator=function(a,b){DvtInterpolator._map[a]=b};DvtInterpolator.removeInterpolator=function(a){delete DvtInterpolator._map[a]};DvtInterpolator.interpolate=function(a,b,c,d,e){return(b=DvtInterpolator._getInterpolator(b))?b(a,c,d,e):d};DvtInterpolator._getInterpolator=function(a){return DvtInterpolator._map[a]};DvtInterpolator.InterpolateNumber=function(a,b,c,d){return DvtMath.interpolateNumber(b,c,d)};
DvtInterpolator.InterpolateNumberArray=function(a,b,c,d){for(var e=b.length,g=c.length,h=[],k=0;k<Math.max(e,g);k++)h.push(DvtInterpolator.InterpolateNumber(a,k<e?b[k]:b[e-1],k<g?c[k]:c[g-1],d));return h};
DvtInterpolator.InterpolateMatrix=function(a,b,c,d){var e=DvtInterpolator.InterpolateNumber(a,b.getA(),c.getA(),d),g=DvtInterpolator.InterpolateNumber(a,b.getB(),c.getB(),d),h=DvtInterpolator.InterpolateNumber(a,b.getC(),c.getC(),d),k=DvtInterpolator.InterpolateNumber(a,b.getD(),c.getD(),d),m=DvtInterpolator.InterpolateNumber(a,b.getTx(),c.getTx(),d);a=DvtInterpolator.InterpolateNumber(a,b.getTy(),c.getTy(),d);return new DvtMatrix(e,g,h,k,m,a)};
DvtInterpolator.InterpolateColor=function(a,b,c,d){return DvtColorUtils.interpolateColor(b,c,d)};DvtInterpolator.InterpolateColorArray=function(a,b,c,d){for(var e=b.length,g=c.length,h=[],k=0;k<Math.max(e,g);k++)h.push(DvtInterpolator.InterpolateColor(a,k<e?b[k]:b[e-1],k<g?c[k]:c[g-1],d));return h};
DvtInterpolator.InterpolateGrowPolyline=function(a,b,c,d){if(0===d)return[c[0],c[1]];if(1===d)return c;b=c.length;a=[c[0],c[1]];for(var e=DvtInterpolator.CalcPolylineLength(c),g=d*e,h=0,k,m=2;m<b-1;m+=2){d=c[m-2];var e=c[m-1],n=c[m],t=c[m+1];k=DvtInterpolator.CalcPolylineLength([d,e,n,t]);if(h+k>g){c=(g-h)/k;b=t-e;a.push(d+c*(n-d));a.push(e+c*b);break}else h+=k,a.push(n),a.push(t)}return a};
DvtInterpolator.InterpolateGrowPath=function(a,b,c,d){if(0===d)return[c[0],c[1]];if(1===d)return c;b=c.length;a=[];for(var e=DvtInterpolator.CalcPathLength(c),e=d*e,g=0,h,k,m,n,t,u,v,w,x,y=0;y<b;y++){d=c[y];var z;switch(d){case "M":k=c[++y];m=c[++y];w=k;x=m;z=[w,x,w,x];break;case "L":k=c[++y];m=c[++y];z=[w,x,k,m];break;case "Q":n=c[++y];t=c[++y];k=c[++y];m=c[++y];z=[w,x,k,m];break;case "C":n=c[++y],t=c[++y],u=c[++y],v=c[++y],k=c[++y],m=c[++y],z=[w,x,k,m]}h=DvtInterpolator.CalcPolylineLength(z);if(g+
h>e){c=(e-g)/h;a.push(d);switch(d){case "Q":a.push(w+c*(n-w),x+c*(t-x));break;case "C":a.push(w+c*(n-w),x+c*(t-x),w+c*(u-w),x+c*(v-x))}a.push(w+c*(k-w),x+c*(m-x));break}else{g+=h;a.push(d);switch(d){case "Q":a.push(n,t);break;case "C":a.push(n,t,u,v)}a.push(k);a.push(m)}w=k;x=m}return a};
DvtInterpolator.CalcPolylineLength=function(a){for(var b=0,c,d,e,g,h=0;h<a.length;h+=2)e=a[h],g=a[h+1],0<h&&(e===c?b+=Math.abs(g-d):g===d?b+=Math.abs(e-c):(c=Math.abs(e-c),d=Math.abs(g-d),b+=Math.sqrt(c*c+d*d))),c=e,d=g;return b};
DvtInterpolator.CalcPathLength=function(a){for(var b=0,c,d,e,g,h,k=0;k<a.length;){h=a[k];switch(h){case "M":e=a[k+1];g=a[k+2];c=e;d=g;k+=3;continue;case "L":e=a[k+1];g=a[k+2];k+=3;break;case "Q":e=a[k+3];g=a[k+4];k+=5;break;case "C":e=a[k+5],g=a[k+6],k+=7}0<k&&(e===c?b+=Math.abs(g-d):g===d?b+=Math.abs(e-c):(c=Math.abs(e-c),d=Math.abs(g-d),b+=Math.sqrt(c*c+d*d)));c=e;d=g}return b};
DvtInterpolator.InterpolateRectangle=function(a,b,c,d){var e=DvtInterpolator.InterpolateNumber(a,b.x,c.x,d),g=DvtInterpolator.InterpolateNumber(a,b.y,c.y,d),h=DvtInterpolator.InterpolateNumber(a,b.w,c.w,d);a=DvtInterpolator.InterpolateNumber(a,b.h,c.h,d);return new DvtRectangle(e,g,h,a)};DvtInterpolator.InterpolatePoint=function(a,b,c,d){var e=DvtInterpolator.InterpolateNumber(a,b.x,c.x,d);a=DvtInterpolator.InterpolateNumber(a,b.y,c.y,d);return new DvtPoint(e,a)};
DvtInterpolator.InterpolatePath=function(a,b,c,d){var e=b.length,g=c.length;if(e!=g)return c;for(var h=[],k=0,m=0;k<e&&m<g;){var n=b[k],t=c[m],u=!isNaN(n),v=!isNaN(t);u||v?u&&v&&h.push(DvtInterpolator.InterpolateNumber(a,n,t,d)):n===t&&h.push(n);k++;m++}return h};
DvtInterpolator.InterpolateFill=function(a,b,c,d){if(b instanceof DvtSolidFill&&c instanceof DvtSolidFill){var e=DvtInterpolator.InterpolateColor(a,b.getColor(),c.getColor(),d);a=DvtInterpolator.InterpolateNumber(a,b.getAlpha(),c.getAlpha(),d);return new DvtSolidFill(e,a)}return c};
DvtInterpolator.InterpolateStroke=function(a,b,c,d){if(b instanceof DvtSolidStroke&&c instanceof DvtSolidStroke){var e=DvtInterpolator.InterpolateColor(a,b.getColor(),c.getColor(),d),g=DvtInterpolator.InterpolateNumber(a,b.getAlpha(),c.getAlpha(),d);a=DvtInterpolator.InterpolateNumber(a,b.getWidth(),c.getWidth(),d);c=c.clone();c.setColor(e);c.setAlpha(g);c.setWidth(a)}return c};
DvtInterpolator.InterpolatePolyline=function(a,b,c,d){for(var e=b.length,g=c.length,h=[],k=0;k<Math.max(e,g);k++){var m=2;1==k%2&&(m=1);h.push(DvtInterpolator.InterpolateNumber(a,k<e?b[k]:b[e-m],k<g?c[k]:c[g-m],d))}if(g<e)for(k=h.length,a=h[k-2],b=h[k-1],k-=4;0<=k;k-=2)if(c=h[k+1],h[k]==a&&c==b)h.splice(k,2);else break;return h};DvtInterpolator.prototype.Init=function(){};DvtInterpolator._map={};DvtInterpolator._map[DvtAnimator.TYPE_NUMBER]=DvtInterpolator.InterpolateNumber;
DvtInterpolator._map[DvtAnimator.TYPE_MATRIX]=DvtInterpolator.InterpolateMatrix;DvtInterpolator._map[DvtAnimator.TYPE_NUMBER_ARRAY]=DvtInterpolator.InterpolateNumberArray;DvtInterpolator._map[DvtAnimator.TYPE_COLOR]=DvtInterpolator.InterpolateColor;DvtInterpolator._map[DvtAnimator.TYPE_COLOR_ARRAY]=DvtInterpolator.InterpolateColorArray;DvtInterpolator._map[DvtAnimator.TYPE_GROW_POLYLINE]=DvtInterpolator.InterpolateGrowPolyline;DvtInterpolator._map[DvtAnimator.TYPE_RECTANGLE]=DvtInterpolator.InterpolateRectangle;
DvtInterpolator._map[DvtAnimator.TYPE_POINT]=DvtInterpolator.InterpolatePoint;DvtInterpolator._map[DvtAnimator.TYPE_PATH]=DvtInterpolator.InterpolatePath;DvtInterpolator._map[DvtAnimator.TYPE_GROW_PATH]=DvtInterpolator.InterpolateGrowPath;DvtInterpolator._map[DvtAnimator.TYPE_FILL]=DvtInterpolator.InterpolateFill;DvtInterpolator._map[DvtAnimator.TYPE_STROKE]=DvtInterpolator.InterpolateStroke;DvtInterpolator._map[DvtAnimator.TYPE_POLYLINE]=DvtInterpolator.InterpolatePolyline;
var DvtTimer=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtTimer,DvtObj,"DvtTimer");DvtTimer.prototype.Init=function(a,b,c,d,e){this._interval=b;this._callback=c;this._callbackObj=d;this._repeatCount=e;this._bRunning=!1;this._numIterations=0};DvtTimer.prototype.start=function(){this._bRunning||(this._bRunning=!0,this.StartTimer())};DvtTimer.prototype.stop=function(){this._bRunning&&(this._bRunning=!1,this.StopTimer())};
DvtTimer.prototype.reset=function(){this._bRunning&&this.stop();this._numIterations=0};DvtTimer.prototype.isRunning=function(){return this._bRunning};DvtTimer.prototype.HandleTimer=function(){this._callback&&(this._callback.call(this._callbackObj),this._repeatCount&&(this._numIterations++,this._numIterations>=this._repeatCount&&this.stop()))};DvtTimer.prototype.setInterval=function(a){0>a&&(a=0);var b=this._bRunning;b&&this.stop();this._interval=a;b&&this.start()};DvtTimer.prototype.getInterval=function(){return this._interval};
DvtTimer.prototype.StartTimer=function(){var a=this,b=this.HandleTimer;this._timerId=window.setInterval(function(){b.call(a)},this.getInterval())};DvtTimer.prototype.StopTimer=function(){this._timerId&&(window.clearInterval(this._timerId),this._timerId=null)};var DvtBaseAnimation=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtBaseAnimation,DvtPlayable,"DvtBaseAnimation");DvtBaseAnimation.EASING_LINEAR=1;DvtBaseAnimation.EASING_CUBIC_IN_OUT=2;DvtBaseAnimation.EASING_CUBIC_IN=3;
DvtBaseAnimation.EASING_CUBIC_OUT=4;DvtBaseAnimation.EASING_QUADRATIC_IN_OUT=5;DvtBaseAnimation.EASING_QUADRATIC_IN=6;DvtBaseAnimation.EASING_QUADRATIC_OUT=7;DvtBaseAnimation.EASING_BOUNCE_IN=8;DvtBaseAnimation.EASING_BOUNCE_OUT=9;DvtBaseAnimation.EASING_ELASTIC_IN=10;DvtBaseAnimation.EASING_ELASTIC_OUT=11;DvtBaseAnimation.DIR_C=1;DvtBaseAnimation.DIR_N=2;DvtBaseAnimation.DIR_NE=3;DvtBaseAnimation.DIR_E=4;DvtBaseAnimation.DIR_SE=5;DvtBaseAnimation.DIR_S=6;DvtBaseAnimation.DIR_SW=7;
DvtBaseAnimation.DIR_W=8;DvtBaseAnimation.DIR_NW=9;DvtBaseAnimation.AXIS_X=1;DvtBaseAnimation.AXIS_Y=2;DvtBaseAnimation.ROT_DIR_CLOCKWISE=1;DvtBaseAnimation.ROT_DIR_COUNTERCLOCKWISE=2;
DvtBaseAnimation.GetEasingFunction=function(a){switch(a){case DvtBaseAnimation.EASING_LINEAR:return DvtEasing.linear;case DvtBaseAnimation.EASING_CUBIC_IN:return DvtEasing.cubicIn;case DvtBaseAnimation.EASING_CUBIC_OUT:return DvtEasing.cubicOut;case DvtBaseAnimation.EASING_QUADRATIC_IN_OUT:return DvtEasing.quadraticInOut;case DvtBaseAnimation.EASING_QUADRATIC_IN:return DvtEasing.quadraticIn;case DvtBaseAnimation.EASING_QUADRATIC_OUT:return DvtEasing.quadraticOut;case DvtBaseAnimation.EASING_BOUNCE_IN:return DvtEasing.backIn;
case DvtBaseAnimation.EASING_BOUNCE_OUT:return DvtEasing.backOut;case DvtBaseAnimation.EASING_ELASTIC_IN:return DvtEasing.elasticIn;case DvtBaseAnimation.EASING_ELASTIC_OUT:return DvtEasing.elasticOut;default:return DvtEasing.cubicInOut}};
DvtBaseAnimation.GetCompassPoint=function(a,b){switch(b){case DvtBaseAnimation.DIR_N:return new DvtPoint(a.x+.5*a.w,a.y);case DvtBaseAnimation.DIR_NE:return new DvtPoint(a.x+a.w,a.y);case DvtBaseAnimation.DIR_E:return new DvtPoint(a.x+a.w,a.y+.5*a.h);case DvtBaseAnimation.DIR_SE:return new DvtPoint(a.x+a.w,a.y+a.h);case DvtBaseAnimation.DIR_S:return new DvtPoint(a.x+.5*a.w,a.y+a.h);case DvtBaseAnimation.DIR_SW:return new DvtPoint(a.x,a.y+a.h);case DvtBaseAnimation.DIR_W:return new DvtPoint(a.x,a.y+
.5*a.h);case DvtBaseAnimation.DIR_NW:return new DvtPoint(a.x,a.y);default:return new DvtPoint(a.x+.5*a.w,a.y+.5*a.h)}};
DvtBaseAnimation.GetAlignCompassPoint=function(a,b,c){b=DvtBaseAnimation.GetCompassPoint(b,c);switch(c){case DvtBaseAnimation.DIR_N:return new DvtPoint(b.x-.5*a.w,b.y);case DvtBaseAnimation.DIR_NE:return new DvtPoint(b.x-a.w,b.y);case DvtBaseAnimation.DIR_E:return new DvtPoint(b.x-a.w,b.y-.5*a.h);case DvtBaseAnimation.DIR_SE:return new DvtPoint(b.x-a.w,b.y-a.h);case DvtBaseAnimation.DIR_S:return new DvtPoint(b.x-.5*a.w,b.y-a.h);case DvtBaseAnimation.DIR_SW:return new DvtPoint(b.x,b.y-a.h);case DvtBaseAnimation.DIR_W:return new DvtPoint(b.x,
b.y-.5*a.h);case DvtBaseAnimation.DIR_NW:return new DvtPoint(b.x,b.y);default:return new DvtPoint(b.x-.5*a.w,b.y-.5*a.h)}};DvtBaseAnimation.prototype.Init=function(a,b,c,d){DvtBaseAnimation.superclass.Init.call(this,a);this._context=a;this._arObjects=b instanceof Array?b:[b];this._duration=c?c:.5;this._delay=d?d:0;this._easing=DvtBaseAnimation.EASING_CUBIC_IN_OUT;this._bSaveAndRestoreOriginalMatrices=this._bInitialized=!1;this._origMatrixArray=null;this._bHideObjectsOnEnd=!1;this.CreateAnimator(a)};
DvtBaseAnimation.prototype.GetContext=function(){return this._context};DvtBaseAnimation.prototype.isRunning=function(){return this._animator?this._animator.isRunning():!1};DvtBaseAnimation.prototype.initialize=function(){this._bInitialized||(this._initializeEndStates(this._arObjects),this._initializeStartStates(this._arObjects),this.InitializePlay(),this._bInitialized=!0)};DvtBaseAnimation.prototype.play=function(a){this.initialize();this._animator&&this._animator.play(a)};
DvtBaseAnimation.prototype.stop=function(a){this._animator&&this._animator.stop(a)};DvtBaseAnimation.prototype.pause=function(){this._animator&&this._animator.pause()};DvtBaseAnimation.prototype.getDuration=function(){return this._duration};DvtBaseAnimation.prototype.setDuration=function(a){this._duration=a?a:0;this._animator&&this._animator.setDuration(this._duration)};DvtBaseAnimation.prototype.getDelay=function(){return this._delay};
DvtBaseAnimation.prototype.setDelay=function(a){this._delay=a?a:0;this._animator&&this._animator.setDelay(this._delay)};DvtBaseAnimation.prototype.getEasing=function(){return this._easing};DvtBaseAnimation.prototype.setEasing=function(a){this._easing=a;this._animator&&this._animator.setEasing(DvtBaseAnimation.GetEasingFunction(this._easing))};
DvtBaseAnimation.prototype.CreateAnimator=function(a){this._animator=new DvtAnimator(a,this._duration,this._delay,DvtBaseAnimation.GetEasingFunction(this._easing));this._animator.setOnEnd(this.OnAnimEnd,this)};DvtBaseAnimation.prototype.OnAnimEnd=function(){this._bHideObjectsOnEnd&&this.HideObjects();this._bSaveAndRestoreOriginalMatrices&&this.RestoreOriginalMatrices();this._onEnd&&this._onEnd.call(this._onEndObj)};DvtBaseAnimation.prototype.InitializePlay=function(){};
DvtBaseAnimation.prototype._initializeStartStates=function(a){if(a)for(var b,c=0;c<a.length;c++)if(b=a[c])this._bSaveAndRestoreOriginalMatrices&&(this._origMatrixArray||(this._origMatrixArray=[]),this._origMatrixArray.push(b.getMatrix())),this.InitStartState(b)};DvtBaseAnimation.prototype._initializeEndStates=function(a){if(a)for(var b,c=0;c<a.length;c++)(b=a[c])&&this.InitEndState(b)};DvtBaseAnimation.prototype.InitStartState=function(a){};DvtBaseAnimation.prototype.InitEndState=function(a){};
DvtBaseAnimation.prototype.ShowObjects=function(){this.SetObjectsVisible(!0)};DvtBaseAnimation.prototype.HideObjects=function(){this.SetObjectsVisible(!1)};DvtBaseAnimation.prototype.SetObjectsVisible=function(a){if(this._arObjects)for(var b,c=this._arObjects.length-1;0<=c;c--)(b=this._arObjects[c])&&b.setVisible(a)};DvtBaseAnimation.prototype.RestoreOriginalMatrices=function(){if(this._arObjects)for(var a,b=this._arObjects.length-1;0<=b;b--)(a=this._arObjects[b])&&this._origMatrixArray&&a.setMatrix(this._origMatrixArray.pop())};
var DvtCustomAnimation=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtCustomAnimation,DvtBaseAnimation,"DvtCustomAnimation");DvtCustomAnimation.prototype.getAnimator=function(){return this._animator};var DvtAnimConveyorIn=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtAnimConveyorIn,DvtBaseAnimation,"DvtAnimConveyorIn");
DvtAnimConveyorIn.prototype.Init=function(a,b,c,d,e){DvtAnimConveyorIn.superclass.Init.call(this,a,b,d,e);this._direction=c;this._SCALE=.2;this._SKEW_ANGLE=Math.PI/12;this._bSaveAndRestoreOriginalMatrices=!0};
DvtAnimConveyorIn.prototype.CreateAnimator=function(a){DvtAnimConveyorIn.superclass.CreateAnimator.call(this,a);this.setEasing(DvtBaseAnimation.EASING_CUBIC_IN);this._animator.setDuration(this.getDuration()/2);this._animator.setOnEnd(this.PlayEndAnim,this);this._endAnim=new DvtAnimator(a,this.getDuration()/2,0,DvtBaseAnimation.GetEasingFunction(DvtBaseAnimation.EASING_CUBIC_OUT));this._endAnim.setOnEnd(this.OnAnimEnd,this)};
DvtAnimConveyorIn.prototype.InitializePlay=function(){DvtAnimConveyorIn.superclass.InitializePlay.call(this);this.ShowObjects()};
DvtAnimConveyorIn.prototype.InitStartState=function(a){DvtAnimConveyorIn.superclass.InitStartState.call(this,a);a.setVisible(!1);var b=a.getDimensions(),c=this.GetConcatenatedRotationMatrix(a,b),d=new DvtMatrix;this._direction===DvtBaseAnimation.DIR_W||this._direction===DvtBaseAnimation.DIR_E?this._direction===DvtBaseAnimation.DIR_W?d.translate(b.w,0):d.translate(-b.w,0):this._direction===DvtBaseAnimation.DIR_N?d.translate(0,b.h):d.translate(0,-b.h);d.concat(c);a.setMatrix(d);a.setAlpha(0)};
DvtAnimConveyorIn.prototype.InitEndState=function(a){DvtAnimConveyorIn.superclass.InitEndState.call(this,a);var b=a.getDimensions(),b=this.GetConcatenatedRotationMatrix(a,b);this._animator.addProp(DvtAnimator.TYPE_MATRIX,a,a.getMatrix,a.setMatrix,b);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,1);b=a.getMatrix();this._endAnim.addProp(DvtAnimator.TYPE_MATRIX,a,a.getMatrix,a.setMatrix,b)};DvtAnimConveyorIn.prototype.PlayEndAnim=function(){this._endAnim.play(!0)};
DvtAnimConveyorIn.prototype.GetConcatenatedRotationMatrix=function(a,b){var c=this._SCALE,d=1-c,e=b.w*d,d=b.h*d,g=this._SKEW_ANGLE;if(this._direction===DvtBaseAnimation.DIR_W||this._direction===DvtBaseAnimation.DIR_S)g=-g;var h=Math.tan(g),k=a.getMatrix(),m=new DvtMatrix;this._direction===DvtBaseAnimation.DIR_W||this._direction===DvtBaseAnimation.DIR_E?(m.skew(0,g),m.scale(c,1),this._direction===DvtBaseAnimation.DIR_W?m.translate(0,0):m.translate(e,-b.w*h)):(m.skew(g,0),m.scale(1,c),this._direction===
DvtBaseAnimation.DIR_N?m.translate(0,0):m.translate(-b.h*h,d));m.concat(k);return m};var DvtAnimConveyorOut=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtAnimConveyorOut,DvtBaseAnimation,"DvtAnimConveyorOut");DvtAnimConveyorOut.prototype.Init=function(a,b,c,d,e){DvtAnimConveyorOut.superclass.Init.call(this,a,b,d,e);this._direction=c;this._bHideObjectsOnEnd=this._bSaveAndRestoreOriginalMatrices=!0};
DvtAnimConveyorOut.prototype.CreateAnimator=function(a){DvtAnimConveyorOut.superclass.CreateAnimator.call(this,a);this.setEasing(DvtBaseAnimation.EASING_CUBIC_IN);this._animator.setDuration(this.getDuration()/2);this._animator.setOnEnd(this.PlayEndAnim,this);this._endAnim=new DvtAnimator(a,this.getDuration()/2,0,DvtBaseAnimation.GetEasingFunction(DvtBaseAnimation.EASING_CUBIC_OUT));this._endAnim.setOnEnd(this.OnAnimEnd,this)};
DvtAnimConveyorOut.prototype.InitEndState=function(a){DvtAnimConveyorOut.superclass.InitEndState.call(this,a);var b=a.getDimensions(),c=.8*b.w,d=.8*b.h,e=Math.PI/12;if(this._direction===DvtBaseAnimation.DIR_W||this._direction===DvtBaseAnimation.DIR_S)e=-e;var g=Math.tan(e),h=a.getMatrix(),k=new DvtMatrix;this._direction===DvtBaseAnimation.DIR_W||this._direction===DvtBaseAnimation.DIR_E?(k.skew(0,e),k.scale(.2,1),this._direction===DvtBaseAnimation.DIR_W?k.translate(0,0):k.translate(c,-b.w*g)):(k.skew(e,
0),k.scale(1,.2),this._direction===DvtBaseAnimation.DIR_N?k.translate(0,0):k.translate(-b.h*g,d));k.concat(h);this._animator.addProp(DvtAnimator.TYPE_MATRIX,a,a.getMatrix,a.setMatrix,k);c=new DvtMatrix;this._direction===DvtBaseAnimation.DIR_W||this._direction===DvtBaseAnimation.DIR_E?this._direction===DvtBaseAnimation.DIR_W?c.translate(b.w,0):c.translate(-b.w,0):this._direction===DvtBaseAnimation.DIR_N?c.translate(0,b.h):c.translate(0,-b.h);c.concat(k);this._endAnim.addProp(DvtAnimator.TYPE_MATRIX,
a,a.getMatrix,a.setMatrix,c);this._endAnim.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,0)};DvtAnimConveyorOut.prototype.PlayEndAnim=function(){this._endAnim.play(!0)};var DvtAnimFlipIn=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtAnimFlipIn,DvtBaseAnimation,"DvtAnimFlipIn");
DvtAnimFlipIn.prototype.Init=function(a,b,c,d,e,g){DvtAnimFlipIn.superclass.Init.call(this,a,b,e,g);this._axis=c;this._rotationDir=d;this._bSaveAndRestoreOriginalMatrices=!0;this._cubeEffect=!1};
DvtAnimFlipIn.prototype.InitStartState=function(a){DvtAnimFlipIn.superclass.InitStartState.call(this,a);a.setVisible(!1);var b=a.getDimensions(),c=b.w/2,d=b.h/2,e=Math.PI/6;this._rotationDir===DvtBaseAnimation.ROT_DIR_COUNTERCLOCKWISE&&(e=-e);var g=Math.tan(e),h=a.getMatrix(),k=new DvtMatrix;this._axis===DvtBaseAnimation.AXIS_Y?(k.skew(0,e),k.scale(0,1),this._cubeEffect?this._rotationDir===DvtBaseAnimation.ROT_DIR_COUNTERCLOCKWISE?k.translate(b.w,0):k.translate(0,-b.w*g):k.translate(c,-c*g)):(k.skew(e,
0),k.scale(1,0),this._cubeEffect?this._rotationDir===DvtBaseAnimation.ROT_DIR_COUNTERCLOCKWISE?k.translate(-b.h*g,0):k.translate(0,b.h):k.translate(-d*g,d));k.concat(h);a.setMatrix(k);this._cubeEffect&&a.setAlpha(0)};
DvtAnimFlipIn.prototype.InitEndState=function(a){DvtAnimFlipIn.superclass.InitEndState.call(this,a);var b=a.getMatrix();this._animator.addProp(DvtAnimator.TYPE_MATRIX,a,a.getMatrix,a.setMatrix,b);this._cubeEffect&&this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,1)};DvtAnimFlipIn.prototype.InitializePlay=function(){DvtAnimFlipIn.superclass.InitializePlay.call(this);this.ShowObjects()};var DvtAnimFlipOut=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};
DvtObj.createSubclass(DvtAnimFlipOut,DvtBaseAnimation,"DvtAnimFlipOut");DvtAnimFlipOut.prototype.Init=function(a,b,c,d,e,g){DvtAnimFlipOut.superclass.Init.call(this,a,b,e,g);this._axis=c;this._rotationDir=d;this._bHideObjectsOnEnd=this._bSaveAndRestoreOriginalMatrices=!0;this._cubeEffect=!1};
DvtAnimFlipOut.prototype.InitEndState=function(a){DvtAnimFlipOut.superclass.InitEndState.call(this,a);var b=a.getDimensions(),c=b.w/2,d=b.h/2,e=Math.PI/6;this._rotationDir===DvtBaseAnimation.ROT_DIR_CLOCKWISE&&(e=-e);var g=Math.tan(e),h=a.getMatrix(),k=new DvtMatrix;this._axis===DvtBaseAnimation.AXIS_Y?(k.skew(0,e),k.scale(0,1),this._cubeEffect?this._rotationDir===DvtBaseAnimation.ROT_DIR_CLOCKWISE?k.translate(b.w,0):k.translate(0,-b.w*g):k.translate(c,-c*g)):(k.skew(e,0),k.scale(1,0),this._cubeEffect?
this._rotationDir===DvtBaseAnimation.ROT_DIR_CLOCKWISE?k.translate(-b.h*g,0):k.translate(0,b.h):k.translate(-d*g,d));k.concat(h);this._animator.addProp(DvtAnimator.TYPE_MATRIX,a,a.getMatrix,a.setMatrix,k);this._cubeEffect&&this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,0)};var DvtAnimCubeIn=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtAnimCubeIn,DvtAnimFlipIn,"DvtAnimCubeIn");
DvtAnimCubeIn.prototype.Init=function(a,b,c,d,e,g){DvtAnimCubeIn.superclass.Init.call(this,a,b,c,d,e,g);this._cubeEffect=!0};var DvtAnimCubeOut=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtAnimCubeOut,DvtAnimFlipOut,"DvtAnimCubeOut");DvtAnimCubeOut.prototype.Init=function(a,b,c,d,e,g){DvtAnimCubeOut.superclass.Init.call(this,a,b,c,d,e,g);this._cubeEffect=!0};var DvtAnimFadeIn=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtAnimFadeIn,DvtBaseAnimation,"DvtAnimFadeIn");
DvtAnimFadeIn.prototype.Init=function(a,b,c,d){DvtAnimFadeIn.superclass.Init.call(this,a,b,c,d)};DvtAnimFadeIn.prototype.InitStartState=function(a){a.setAlpha(0)};DvtAnimFadeIn.prototype.InitEndState=function(a){this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,1)};var DvtAnimFadeOut=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtAnimFadeOut,DvtBaseAnimation,"DvtAnimFadeOut");
DvtAnimFadeOut.prototype.Init=function(a,b,c,d){DvtAnimFadeOut.superclass.Init.call(this,a,b,c,d)};DvtAnimFadeOut.prototype.InitEndState=function(a){this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,0)};var DvtAnimMatrixTransformBy=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtAnimMatrixTransformBy,DvtBaseAnimation,"DvtAnimMatrixTransformBy");
DvtAnimMatrixTransformBy.prototype.Init=function(a,b,c,d,e){this._transformMatrix=c;DvtAnimMatrixTransformBy.superclass.Init.call(this,a,b,d,e)};DvtAnimMatrixTransformBy.prototype.InitEndState=function(a){var b=a.getMatrix();b&&(b=b.clone(),b.concat(this._transformMatrix),this._animator.addProp(DvtAnimator.TYPE_MATRIX,a,a.getMatrix,a.setMatrix,b))};var DvtAnimMoveBy=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtAnimMoveBy,DvtBaseAnimation,"DvtAnimMoveBy");
DvtAnimMoveBy.prototype.Init=function(a,b,c,d,e){this._arOffsets=c instanceof Array?c:c instanceof DvtPoint?[c]:[new DvtPoint(0,0)];this._currIndex=0;DvtAnimMoveBy.superclass.Init.call(this,a,b,d,e)};
DvtAnimMoveBy.prototype.InitEndState=function(a){var b;b=this._currIndex<this._arOffsets.length?this._arOffsets[this._currIndex]:this._arOffsets[this._arOffsets.length-1];this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getTranslateX,a.setTranslateX,a.getTranslateX()+b.x);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getTranslateY,a.setTranslateY,a.getTranslateY()+b.y);this._currIndex++};var DvtAnimMoveTo=function(a,b,c,d,e){this.Init(a,b,c,d,e)};
DvtObj.createSubclass(DvtAnimMoveTo,DvtBaseAnimation,"DvtAnimMoveTo");DvtAnimMoveTo.prototype.Init=function(a,b,c,d,e){this._arPoints=c instanceof Array?c:c instanceof DvtPoint?[c]:[new DvtPoint(0,0)];this._currIndex=0;DvtAnimMoveTo.superclass.Init.call(this,a,b,d,e)};
DvtAnimMoveTo.prototype.InitEndState=function(a){var b;b=this._currIndex<this._arPoints.length?this._arPoints[this._currIndex]:this._arPoints[this._arPoints.length-1];this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getTranslateX,a.setTranslateX,b.x);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getTranslateY,a.setTranslateY,b.y);this._currIndex++};var DvtAnimRotateBy=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtAnimRotateBy,DvtBaseAnimation,"DvtAnimRotateBy");
DvtAnimRotateBy.prototype.Init=function(a,b,c,d,e){this._arAngles=c instanceof Array?c:"number"==typeof c?[c]:[0];this._currIndex=0;DvtAnimRotateBy.superclass.Init.call(this,a,b,d,e)};DvtAnimRotateBy.prototype.InitEndState=function(a){var b;b=this._currIndex<this._arAngles.length?this._arAngles[this._currIndex]:this._arAngles[this._arAngles.length-1];this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getRotation,a.setRotation,a.getRotation()+b);this._currIndex++};
var DvtAnimRotateTo=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtAnimRotateTo,DvtBaseAnimation,"DvtAnimRotateTo");DvtAnimRotateTo.prototype.Init=function(a,b,c,d,e){this._arAngles=c instanceof Array?c:"number"==typeof c?[c]:[0];this._currIndex=0;DvtAnimRotateTo.superclass.Init.call(this,a,b,d,e)};
DvtAnimRotateTo.prototype.InitEndState=function(a){this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getRotation,a.setRotation,this._currIndex<this._arAngles.length?this._arAngles[this._currIndex]:this._arAngles[this._arAngles.length-1]);this._currIndex++};var DvtAnimScaleBy=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtAnimScaleBy,DvtBaseAnimation,"DvtAnimScaleBy");
DvtAnimScaleBy.prototype.Init=function(a,b,c,d,e){this._arScales=c instanceof Array?c:c instanceof DvtPoint?[c]:[new DvtPoint(1,1)];this._currIndex=0;DvtAnimScaleBy.superclass.Init.call(this,a,b,d,e)};
DvtAnimScaleBy.prototype.InitEndState=function(a){var b;b=this._currIndex<this._arScales.length?this._arScales[this._currIndex]:this._arScales[this._arScales.length-1];this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleX,a.setScaleX,a.getScaleX()*b.x);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleY,a.setScaleY,a.getScaleY()*b.y);this._currIndex++};var DvtAnimScaleFadeIn=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtAnimScaleFadeIn,DvtAnimFadeIn,"DvtAnimScaleFadeIn");
DvtAnimScaleFadeIn.prototype.Init=function(a,b,c,d,e,g,h){this._boundsRect=c;this._direction=d?d:DvtBaseAnimation.DIR_NW;this._minScale=e?e:.5;DvtAnimScaleFadeIn.superclass.Init.call(this,a,b,g,h);this._bSaveAndRestoreOriginalMatrices=!0};
DvtAnimScaleFadeIn.prototype.InitStartState=function(a){DvtAnimScaleFadeIn.superclass.InitStartState.call(this,a);var b=this._minScale*a.getScaleX(),c=this._minScale*a.getScaleY(),d=a.getDimensions(),d=new DvtRectangle(0,0,b*d.w,c*d.h),d=DvtBaseAnimation.GetAlignCompassPoint(d,this._boundsRect,this._direction);a.setTranslate(d.x,d.y);a.setScale(b,c)};
DvtAnimScaleFadeIn.prototype.InitEndState=function(a){DvtAnimScaleFadeIn.superclass.InitEndState.call(this,a);var b=a.getMatrix();this._animator.addProp(DvtAnimator.TYPE_MATRIX,a,a.getMatrix,a.setMatrix,b)};var DvtAnimScaleFadeOut=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtAnimScaleFadeOut,DvtAnimFadeOut,"DvtAnimScaleFadeOut");
DvtAnimScaleFadeOut.prototype.Init=function(a,b,c,d,e,g,h){this._boundsRect=c;this._direction=d?d:DvtBaseAnimation.DIR_NE;this._minScale=e?e:.5;DvtAnimScaleFadeOut.superclass.Init.call(this,a,b,g,h);this._bSaveAndRestoreOriginalMatrices=!0};
DvtAnimScaleFadeOut.prototype.InitEndState=function(a){DvtAnimScaleFadeOut.superclass.InitEndState.call(this,a);var b=this._minScale*a.getScaleX(),c=this._minScale*a.getScaleY(),d=a.getDimensions(),d=new DvtRectangle(0,0,b*d.w,c*d.h),d=DvtBaseAnimation.GetAlignCompassPoint(d,this._boundsRect,this._direction);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleX,a.setScaleX,b);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleY,a.setScaleY,c);this._animator.addProp(DvtAnimator.TYPE_NUMBER,
a,a.getTranslateX,a.setTranslateX,d.x);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getTranslateY,a.setTranslateY,d.y)};var DvtAnimScaleTo=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtAnimScaleTo,DvtBaseAnimation,"DvtAnimScaleTo");DvtAnimScaleTo.prototype.Init=function(a,b,c,d,e){this._arScales=c instanceof Array?c:c instanceof DvtPoint?[c]:[new DvtPoint(1,1)];this._currIndex=0;DvtAnimScaleTo.superclass.Init.call(this,a,b,d,e)};
DvtAnimScaleTo.prototype.InitEndState=function(a){var b;b=this._currIndex<this._arScales.length?this._arScales[this._currIndex]:this._arScales[this._arScales.length-1];this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleX,a.setScaleX,b.x);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleY,a.setScaleY,b.y);this._currIndex++};var DvtAnimPopIn=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtAnimPopIn,DvtBaseAnimation,"DvtAnimPopIn");
DvtAnimPopIn.BackOut=function(a){return DvtEasing.backOut(a,2.5)};DvtAnimPopIn.prototype.Init=function(a,b,c,d,e){if(this._bCenter=c)this._tempContainers=[],this._currIndex=0;DvtAnimPopIn.superclass.Init.call(this,a,b,d,e)};DvtAnimPopIn.prototype.setEasing=function(a){};DvtAnimPopIn.prototype.CreateAnimator=function(a){DvtAnimPopIn.superclass.CreateAnimator.call(this,a);this._animator.setEasing(DvtAnimPopIn.BackOut);this._bCenter&&DvtPlayable.appendOnEnd(this._animator,this.RemoveTempContainers,this)};
DvtAnimPopIn.prototype.InitStartState=function(a){if(this._bCenter){var b=this._tempContainers[this._currIndex],c=a.getDimensions();b._dvtAnimPopInOrigTx=a.getTranslateX();b._dvtAnimPopInOrigTy=a.getTranslateY();var d=c.x+.5*c.w,c=c.y+.5*c.h;b.setTranslate(b._dvtAnimPopInOrigTx+d,b._dvtAnimPopInOrigTy+c);a.setTranslate(-d,-c);d=a.getParent().getChildIndex(a);b._dvtAnimPopInChildIndex=d;a.getParent().addChildAt(b,d);b.addChild(a);b.setScale(.01,.01);this._currIndex++}else a.setScale(.01,.01);a.setVisible(!0)};
DvtAnimPopIn.prototype.InitEndState=function(a){this._bCenter&&(a=new DvtContainer(this._context),this._tempContainers.push(a));this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleX,a.setScaleX,1);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleY,a.setScaleY,1)};
DvtAnimPopIn.prototype.RemoveTempContainers=function(){if(this._tempContainers){for(var a=0;a<this._tempContainers.length;a++){var b=this._tempContainers[a];this._tempContainers[a]=null;if(0<b.getNumChildren()){var c=b.getChildAt(0);c&&(c.setTranslate(b._dvtAnimPopInOrigTx,b._dvtAnimPopInOrigTy),b.getParent().addChildAt(c,b._dvtAnimPopInChildIndex))}b.getParent().removeChild(b)}this._tempContainers=null}};var DvtAnimPopOut=function(a,b,c,d,e){this.Init(a,b,c,d,e)};
DvtObj.createSubclass(DvtAnimPopOut,DvtBaseAnimation,"DvtAnimPopOut");DvtAnimPopOut.BackIn=function(a){return DvtEasing.backIn(a,2.5)};DvtAnimPopOut.prototype.Init=function(a,b,c,d,e){if(this._bCenter=c)this._tempContainers=[],this._currIndex=0;DvtAnimPopOut.superclass.Init.call(this,a,b,d,e);this._bSaveAndRestoreOriginalMatrices=!this._bCenter;this._bHideObjectsOnEnd=!0};DvtAnimPopOut.prototype.setEasing=function(a){};
DvtAnimPopOut.prototype.CreateAnimator=function(a){DvtAnimPopOut.superclass.CreateAnimator.call(this,a);this._animator.setEasing(DvtAnimPopOut.BackIn);this._bCenter&&DvtPlayable.appendOnEnd(this._animator,this.RemoveTempContainers,this)};
DvtAnimPopOut.prototype.InitStartState=function(a){if(this._bCenter){var b=this._tempContainers[this._currIndex],c=a.getDimensions();b._dvtAnimPopInOrigTx=a.getTranslateX();b._dvtAnimPopInOrigTy=a.getTranslateY();var d=c.x+.5*c.w,c=c.y+.5*c.h;b.setTranslate(b._dvtAnimPopInOrigTx+d,b._dvtAnimPopInOrigTy+c);a.setTranslate(-d,-c);d=a.getParent().getChildIndex(a);b._dvtAnimPopInChildIndex=d;a.getParent().addChildAt(b,d);b.addChild(a);this._currIndex++}};
DvtAnimPopOut.prototype.InitEndState=function(a){this._bCenter&&(a=new DvtContainer(this._context),this._tempContainers.push(a));this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleX,a.setScaleX,.01);this._animator.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleY,a.setScaleY,.01)};
DvtAnimPopOut.prototype.RemoveTempContainers=function(){if(this._tempContainers){for(var a=0;a<this._tempContainers.length;a++){var b=this._tempContainers[a];this._tempContainers[a]=null;if(0<b.getNumChildren()){var c=b.getChildAt(0);c&&(c.setTranslate(b._dvtAnimPopInOrigTx,b._dvtAnimPopInOrigTy),b.getParent().addChildAt(c,b._dvtAnimPopInChildIndex))}b.getParent().removeChild(b)}this._tempContainers=null}};var DvtCombinedAnimConveyor=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};
DvtObj.createSubclass(DvtCombinedAnimConveyor,DvtParallelPlayable,"DvtCombinedAnimConveyor");DvtCombinedAnimConveyor.prototype.Init=function(a,b,c,d,e,g,h){g||(g=.5);h||(h=0);b=new DvtAnimConveyorOut(a,b,d,g,h);c=new DvtAnimConveyorIn(a,c,e,g,g/3+h);DvtCombinedAnimConveyor.superclass.Init.call(this,a,[b,c])};var DvtCombinedAnimCube=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtCombinedAnimCube,DvtParallelPlayable,"DvtCombinedAnimCube");
DvtCombinedAnimCube.prototype.Init=function(a,b,c,d,e,g,h){g||(g=.5);h||(h=0);b=new DvtAnimCubeOut(a,b,d,e,g,h);c=new DvtAnimCubeIn(a,c,d,e,g,h);DvtCombinedAnimCube.superclass.Init.call(this,a,[b,c])};var DvtCombinedAnimFade=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtCombinedAnimFade,DvtParallelPlayable,"DvtCombinedAnimFade");
DvtCombinedAnimFade.prototype.Init=function(a,b,c,d,e){d||(d=.5);e||(e=0);b=new DvtAnimFadeOut(a,b,d,e);c=new DvtAnimFadeIn(a,c,d,.5*b.getDuration()+e);DvtCombinedAnimFade.superclass.Init.call(this,a,[b,c])};var DvtCombinedAnimFlip=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtCombinedAnimFlip,DvtSequentialPlayable,"DvtCombinedAnimFlip");
DvtCombinedAnimFlip.prototype.Init=function(a,b,c,d,e,g,h){g||(g=.5);h||(h=0);b=new DvtAnimFlipOut(a,b,d,e,g,h);b.setEasing(DvtBaseAnimation.EASING_CUBIC_IN);c=new DvtAnimFlipIn(a,c,d,e,g,h);c.setEasing(DvtBaseAnimation.EASING_CUBIC_OUT);c.HideObjects();DvtCombinedAnimFlip.superclass.Init.call(this,a,[b,c])};var DvtCombinedAnimMoveBy=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtCombinedAnimMoveBy,DvtParallelPlayable,"DvtCombinedAnimMoveBy");
DvtCombinedAnimMoveBy.prototype.Init=function(a,b,c,d,e,g,h){g||(g=.5);h||(h=0);b=new DvtAnimMoveBy(a,b,d,g,h);c=new DvtAnimMoveBy(a,c,e,g,h);DvtCombinedAnimMoveBy.superclass.Init.call(this,a,[b,c])};var DvtCombinedAnimScaleFade=function(a,b,c,d,e,g,h,k,m){this.Init(a,b,c,d,e,g,h,k,m)};DvtObj.createSubclass(DvtCombinedAnimScaleFade,DvtParallelPlayable,"DvtCombinedAnimScaleFade");
DvtCombinedAnimScaleFade.prototype.Init=function(a,b,c,d,e,g,h,k,m){e||(e=DvtBaseAnimation.DIR_NE);g||(g=DvtBaseAnimation.DIR_NW);h||(h=.5);k||(k=.5);m||(m=0);b=new DvtAnimScaleFadeOut(a,b,d,e,h,k,m);c=new DvtAnimScaleFadeIn(a,c,d,g,h,k,.3*b.getDuration()+m);DvtCombinedAnimScaleFade.superclass.Init.call(this,a,[b,c])};var DvtCombinedAnimPopIn=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtCombinedAnimPopIn,DvtParallelPlayable,"DvtCombinedAnimPopIn");
DvtCombinedAnimPopIn.prototype.Init=function(a,b,c,d,e,g){var h=[];b=b instanceof Array?b:[b];g=null===g||isNaN(g)?0:g;for(var k=0;k<b.length;k++){var m=b[k],n=g+Math.random()*(e-d),m=new DvtAnimPopIn(a,m,c,d,n);h.push(m)}DvtCombinedAnimPopIn.superclass.Init.call(this,a,h)};var DvtCombinedAnimPopOut=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtCombinedAnimPopOut,DvtParallelPlayable,"DvtCombinedAnimPopOut");
DvtCombinedAnimPopOut.prototype.Init=function(a,b,c,d,e,g){var h=[];b=b instanceof Array?b:[b];g=null===g||isNaN(g)?0:g;for(var k=0;k<b.length;k++){var m=b[k],n=g+Math.random()*(e-d),m=new DvtAnimPopOut(a,m,c,d,n);h.push(m)}DvtCombinedAnimPopOut.superclass.Init.call(this,a,h)};var DvtBaseDrawEffect=function(){this._Init()};DvtObj.createSubclass(DvtBaseDrawEffect,DvtLockable,"DvtBaseDrawEffect");DvtBaseDrawEffect.prototype._Init=function(){DvtBaseDrawEffect.superclass._Init.call(this)};
DvtBaseDrawEffect.prototype.getId=function(){return this._id};DvtBaseDrawEffect.prototype.setId=function(a){this._id=a};DvtBaseDrawEffect.prototype.mergeProps=function(a){a.setId(this._id)};var DvtColorUtils={};DvtObj.createSubclass(DvtColorUtils,DvtObj,"DvtColorUtils");DvtColorUtils._RED=0;DvtColorUtils._GREEN=1;DvtColorUtils._BLUE=2;DvtColorUtils._ALPHA=3;DvtColorUtils._RGBA="rgba(";DvtColorUtils._RGB="rgb(";DvtColorUtils._POUND="#";DvtColorUtils._FACTOR=.15;
DvtColorUtils.getColorFromName=function(a){if(!DvtColorUtils._names){var b=[];b.aqua="#00FFFF";b.black="#000000";b.blue="#0000FF";b.white="#FFFFFF";b.fuchsia="#FF00FF";b.gray="#848284";b.lime="#00FF00";b.maroon="#840000";b.green="#008200";b.navy="#000084";b.olive="#848200";b.red="#FF0000";b.silver="#C6C3C6";b.teal="#008284";b.yellow="#FFFF00";b.purple="#800080";b.cyan="#D2B48C";b.goldenrod="#DAA520";b.lightblue="#ADD8E6";b.lightyellow="#FFFFE0";b.orange="#FFA500";b.paleGoldenRod="#EEE8AA";b.paleturquoise=
"#AFEEEE";b.peachpuff="#FFDAB9";b.pink="#FFC0CB";b.tan="#D2B48C";b.thistle="#D8BFD8";b.transparent="rgba(255,255,255,0)";DvtColorUtils._names=b}return DvtColorUtils._names[a]};
DvtColorUtils.isColor=function(a,b){if(!b)return a.charAt(0)===DvtColorUtils._POUND||0===a.indexOf(DvtColorUtils._RGBA)||0===a.indexOf(DvtColorUtils._RGB);var c=!1;a=DvtStringUtils.trim(a);a=a.toLowerCase();if(a.charAt(0)===DvtColorUtils._POUND)7===a.length&&(c=(new RegExp(/^#[0-9a-f]{6}$/i)).test(a));else{var d=0===a.indexOf(DvtColorUtils._RGBA),e;d||(e=0===a.indexOf(DvtColorUtils._RGB));if(d||e)if(e=a.indexOf(")"),0<=e){e=a.substring(d?5:4,e).split(",");for(var g=e.length,h=!0,k=0;k<g;k++){var m=
e[k];if(0>m||255<m||3<k&&(0>m||1<m)){h=!1;break}}h&&(c=d?4===g:3===g)}}return c};DvtColorUtils.getAlpha=function(a){return DvtColorUtils._getChannel(a,DvtColorUtils._ALPHA)};DvtColorUtils.setAlpha=function(a,b){return DvtColorUtils._setChannel(a,DvtColorUtils._ALPHA,b)};DvtColorUtils.getRed=function(a){return DvtColorUtils._getChannel(a,DvtColorUtils._RED)};DvtColorUtils.setRed=function(a,b){return DvtColorUtils._setChannel(a,DvtColorUtils._RED,b)};
DvtColorUtils.getBlue=function(a){return DvtColorUtils._getChannel(a,DvtColorUtils._BLUE)};DvtColorUtils.setBlue=function(a,b){return DvtColorUtils._setChannel(a,DvtColorUtils._BLUE,b)};DvtColorUtils.getGreen=function(a){return DvtColorUtils._getChannel(a,DvtColorUtils._GREEN)};DvtColorUtils.setGreen=function(a,b){return DvtColorUtils._setChannel(a,DvtColorUtils._GREEN,b)};
DvtColorUtils._getChannel=function(a,b){var c=a,d=null;(d=DvtColorUtils.getColorFromName(c))&&(c=d);if(b===DvtColorUtils._ALPHA){if("#"===c.charAt(0))return 7<c.length?parseInt(c.substring(1,3),16)/255:1;if("none"===c)return 0}d=c.indexOf("(");if(0>d)d=[],7<c.length?(d[0]=parseInt(c.substr(3,2),16),d[1]=parseInt(c.substr(5,2),16),d[2]=parseInt(c.substr(7,2),16),d[3]=parseInt(c.substr(1,2),16)/255):(d[0]=parseInt(c.substr(1,2),16),d[1]=parseInt(c.substr(3,2),16),d[2]=parseInt(c.substr(5,2),16),d[3]=
1),d=d[b];else{var e=c.indexOf(")"),d=c.substring(d+1,e).split(",");3===d.length&&b===DvtColorUtils._ALPHA?d=1:(d=d[b],d=parseFloat(d))}return d};
DvtColorUtils.getDarker=function(a,b){var c=DvtColorUtils._getChannel(a,DvtColorUtils._RED),d=DvtColorUtils._getChannel(a,DvtColorUtils._GREEN),e=DvtColorUtils._getChannel(a,DvtColorUtils._BLUE),g=DvtColorUtils._getChannel(a,DvtColorUtils._ALPHA);b||(b=DvtColorUtils._FACTOR);c=Math.max(parseInt(c*b),0);d=Math.max(parseInt(d*b),0);e=Math.max(parseInt(e*b),0);return DvtColorUtils.makeRGBA(c,d,e,g)};
DvtColorUtils.getGrey=function(a){var b=DvtColorUtils._getChannel(a,DvtColorUtils._RED),c=DvtColorUtils._getChannel(a,DvtColorUtils._BLUE),d=DvtColorUtils._getChannel(a,DvtColorUtils._GREEN),b=Math.round(.3*b+.59*c+.11*d);return this.setRGB(a,b,b,b)};
DvtColorUtils.invert=function(a){var b=255-DvtColorUtils._getChannel(a,DvtColorUtils._RED),c=255-DvtColorUtils._getChannel(a,DvtColorUtils._BLUE),d=255-DvtColorUtils._getChannel(a,DvtColorUtils._GREEN);return"#"===a.charAt(0)?DvtColorUtils.makePound(b,c,d):a.substr(0,4)===DvtColorUtils._RGB?DvtColorUtils.makeRGB(b,c,d):DvtColorUtils.makeRGBA(b,c,d,DvtColorUtils._getChannel(a,DvtColorUtils._ALPHA))};DvtColorUtils.isRGBA=function(a){return a.substr(0,5)===DvtColorUtils._RGBA};
DvtColorUtils.makeRGB=function(a,b,c){c=null===c||isNaN(c)?0:c;b=null===b||isNaN(b)?0:b;a=null===a||isNaN(a)?0:a;return DvtColorUtils._RGB+a+","+b+","+c+")"};DvtColorUtils.makeRGBA=function(a,b,c,d){c=null===c||isNaN(c)?0:Math.round(c);b=null===b||isNaN(b)?0:Math.round(b);a=null===a||isNaN(a)?0:Math.round(a);d=null===d||isNaN(d)?1:d;return DvtColorUtils._RGBA+a+","+b+","+c+","+d+")"};
DvtColorUtils.makePound=function(a,b,c){a=Math.round(a);b=Math.round(b);c=Math.round(c);a=a.toString(16);b=b.toString(16);c=c.toString(16);return"#"+(1===a.length?"0":"")+a+(1===b.length?"0":"")+b+(1===c.length?"0":"")+c};
DvtColorUtils.getPound=function(a){var b;if("#"===a.charAt(0)){if(7>=a.length)return a;b=DvtColorUtils._POUND;b+=a.substring(3,5)+a.substring(5,7)+a.substring(7,9)}else{b=DvtColorUtils.getRed(a);var c=DvtColorUtils.getGreen(a);a=DvtColorUtils.getBlue(a);b=DvtColorUtils.makePound(b,c,a)}return b};
DvtColorUtils.getRGB=function(a){var b;(b=DvtColorUtils.getColorFromName(a))&&(a=b);if("#"===a.charAt(0)){b=DvtColorUtils._RGB;var c=a.length;if(7<c)b+=parseInt(a.substring(3,5),16)+","+parseInt(a.substring(5,7),16)+","+parseInt(a.substring(7,9),16);else if(7===c)b+=parseInt(a.substring(1,3),16)+","+parseInt(a.substring(3,5),16)+","+parseInt(a.substr(5),16);else if(4===c){var c=a.substring(1,2),c=c+c,d=a.substring(2,3),d=d+d;a=a.substring(3);a+=a;b+=parseInt(c,16)+","+parseInt(d,16)+","+parseInt(a,
16)}else 5===c?b+=parseInt(a.substring(1,3),16)+","+parseInt(a.substring(3,5),16)+",0,1":3===c&&(b+=parseInt(a.substring(1,3),16)+",0,0,1");b+=")"}else a.substr(0,5)===DvtColorUtils._RGBA?(c=a.lastIndexOf(","),b=DvtColorUtils._RGB,b+=a.substring(5,c),b+=")"):b=a;return b};
DvtColorUtils.getRGBA=function(a){var b;(b=DvtColorUtils.getColorFromName(a))&&(a=b);if("#"===a.charAt(0)){b=DvtColorUtils._RGBA;var c=a.length;if(7<c)b+=parseInt(a.substring(3,5),16)+","+parseInt(a.substring(5,7),16)+","+parseInt(a.substring(7,9),16)+","+parseInt(a.substring(1,3),16)/255;else if(7===c)b+=parseInt(a.substring(1,3),16)+","+parseInt(a.substring(3,5),16)+","+parseInt(a.substr(5),16)+",1";else if(5===c)b+=parseInt(a.substring(1,3),16)+","+parseInt(a.substring(3,5),16)+",0,1";else if(4===
c){var c=a.substring(1,2),c=c+c,d=a.substring(2,3),d=d+d;a=a.substring(3);a+=a;b+=parseInt(c,16)+","+parseInt(d,16)+","+parseInt(a,16)+",1"}else 3===c&&(b+=parseInt(a.substring(1,3),16)+",0,0,1");b+=")"}else a.substr(0,4)===DvtColorUtils._RGB?(b=DvtColorUtils._RGBA,b+=a.substring(4,a.length-1)+",1)"):b=a;return b};
DvtColorUtils._setChannel=function(a,b,c){if(void 0===b||void 0===c||b<DvtColorUtils._RED||b>DvtColorUtils._ALPHA)return a;var d=DvtColorUtils.getColorFromName(a);d&&(a=d);var e,d="#"===a.charAt(0),g;if(d)e=[],e.push(parseInt(a.substr(1,2),16)),e.push(parseInt(a.substr(3,2),16)),e.push(parseInt(a.substr(5,2),16)),b===DvtColorUtils._ALPHA&&(e.push(c),d=!1,g=!0);else{g=a.substr(0,5)===DvtColorUtils._RGBA;e=a.indexOf("(");var h=a.indexOf(")");e=a.substring(e+1,h).split(",");g||b!==DvtColorUtils._ALPHA||
(e.push(c),g=!0)}e[b]=c;return d?DvtColorUtils.makePound(e[0],e[1],e[2]):g?DvtColorUtils.makeRGBA(e[0],e[1],e[2],e[3]):DvtColorUtils.makeRGB(e[0],e[1],e[2])};
DvtColorUtils.setRGB=function(a,b,c,d){d=null===d||isNaN(d)?0:d;c=null===c||isNaN(c)?0:c;b=null===b||isNaN(b)?0:b;if("#"===a.charAt(0))return DvtColorUtils.makePound(b,c,d);var e=a.substr(0,5)===DvtColorUtils._RGBA;b=(e?DvtColorUtils._RGBA:DvtColorUtils._RGB)+b+","+c+","+d;e&&(e=a.lastIndexOf(5,","),c=a.indexOf(")"),b+=","+a.substring(e+1,c));return b+")"};
DvtColorUtils.getBrighter=function(a,b){var c=DvtColorUtils._getChannel(a,DvtColorUtils._RED),d=DvtColorUtils._getChannel(a,DvtColorUtils._GREEN),e=DvtColorUtils._getChannel(a,DvtColorUtils._BLUE),g=DvtColorUtils._getChannel(a,DvtColorUtils._ALPHA);b||(b=DvtColorUtils._FACTOR);var h=parseInt(1/(1-b));if(0===c&&0===d&&0===e)return c=parseInt(255*b),DvtColorUtils.makeRGBA(c,c,c,g);0<c&&c<h&&(c=h);0<d&&d<h&&(d=h);0<e&&e<h&&(e=h);c=Math.min(parseInt(c/b),255);d=Math.min(parseInt(d/b),255);e=Math.min(parseInt(e/
b),255);return DvtColorUtils.makeRGBA(c,d,e,g)};DvtColorUtils.rgb2hsl=function(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),g=d+e,h,k=g/2;d==e?g=h=0:(e=d-e,g=.5<k?e/(2-g):e/g,d==a?h=(b-c)/e+(b<c?6:0):d==b?h=(c-a)/e+2:d==c&&(h=(a-b)/e+4),h/=6);return{h:360*h,s:g,l:k}};
DvtColorUtils.hsl2rgb=function(a,b,c){a/=360;if(0==b)c=b=a=c;else{var d=.5>c?c*(1+b):c+b-c*b,e=2*c-d;c=DvtColorUtils._hue2rgb(e,d,a+1/3);b=DvtColorUtils._hue2rgb(e,d,a);a=DvtColorUtils._hue2rgb(e,d,a-1/3)}return{r:255*c,g:255*b,b:255*a}};DvtColorUtils._hue2rgb=function(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};
DvtColorUtils.hsv2rgb=function(a,b,c){var d,e,g,h,k,m;if(0==c)return{r:0,g:0,v:0};b/=100;c/=100;a=a%360/60;h=Math.floor(a);k=a-h;a=c*(1-b);m=c*(1-b*k);b=c*(1-b*(1-k));0==h?(d=c,e=b,g=a):1==h?(d=m,e=c,g=a):2==h?(d=a,e=c,g=b):3==h?(d=a,e=m,g=c):4==h?(d=b,e=a,g=c):5==h&&(d=c,e=a,g=m);d=Math.floor(255*d);e=Math.floor(255*e);g=Math.floor(255*g);return{r:d,g:e,b:g}};
DvtColorUtils.rgb2hsv=function(a,b,c){var d,e;a/=255;b/=255;c/=255;d=Math.min(a,b,c);e=Math.max(a,b,c);if(d==e)return{h:void 0,s:0,v:100*e};a=Math.floor(60*((a==d?3:b==d?5:1)-(a==d?b-c:b==d?c-a:a-b)/(e-d)))%360;d=Math.floor((e-d)/e*100);e=Math.floor(100*e);return{h:a,s:d,v:e}};
DvtColorUtils.getPastel=function(a,b){var c=DvtColorUtils._getChannel(a,DvtColorUtils._ALPHA),d=DvtColorUtils._getChannel(a,DvtColorUtils._RED),e=DvtColorUtils._getChannel(a,DvtColorUtils._GREEN),g=DvtColorUtils._getChannel(a,DvtColorUtils._BLUE),d=Math.min(d+parseInt((255-d)*b),255),e=Math.min(e+parseInt((255-e)*b),255),g=Math.min(g+parseInt((255-g)*b),255);return DvtColorUtils.makeRGBA(d,e,g,c)};
DvtColorUtils.adjustHSL=function(a,b,c,d){DvtColorUtils._hslCache||(DvtColorUtils._hslCache=new DvtCache(100));var e=a+":"+b+":"+c+":"+d,g=DvtColorUtils._hslCache.get(e);if(null!=g)return g;var g=DvtColorUtils._getChannel(a,DvtColorUtils._RED),h=DvtColorUtils._getChannel(a,DvtColorUtils._GREEN),k=DvtColorUtils._getChannel(a,DvtColorUtils._BLUE);a=DvtColorUtils._getChannel(a,DvtColorUtils._ALPHA);g=DvtColorUtils.rgb2hsl(g,h,k);b=Math.min(Math.max(0,g.h+b),360);c=Math.min(Math.max(0,g.s+c),1);d=Math.min(Math.max(0,
g.l+d),1);d=DvtColorUtils.hsl2rgb(b,c,d);g=1==a?DvtColorUtils.makePound(d.r,d.g,d.b):DvtColorUtils.makeRGBA(d.r,d.g,d.b,a);DvtColorUtils._hslCache.put(e,g);return g};
DvtColorUtils.interpolateColor=function(a,b,c){var d=DvtColorUtils.getRed(a),e=DvtColorUtils.getGreen(a),g=DvtColorUtils.getBlue(a);a=DvtColorUtils.getAlpha(a);var h=DvtColorUtils.getRed(b),k=DvtColorUtils.getGreen(b),m=DvtColorUtils.getBlue(b);b=DvtColorUtils.getAlpha(b);d=Math.round(DvtMath.interpolateNumber(d,h,c));e=Math.round(DvtMath.interpolateNumber(e,k,c));g=Math.round(DvtMath.interpolateNumber(g,m,c));c=DvtMath.interpolateNumber(a,b,c);return DvtColorUtils.makeRGBA(d,e,g,c)};
DvtColorUtils.inferColor=function(a,b,c){if(a==b)return c;if(c==a)return b;var d,e=DvtColorUtils.getRed(a),g=DvtColorUtils.getRed(b);e==g?d=DvtColorUtils.getRed(c):(0==e&&(e=1),d=g/e*DvtColorUtils.getRed(c));var h,e=DvtColorUtils.getGreen(a),g=DvtColorUtils.getGreen(b);e==g?h=DvtColorUtils.getGreen(c):(0==e&&(e=1),h=g/e*DvtColorUtils.getGreen(c));e=DvtColorUtils.getBlue(a);g=DvtColorUtils.getBlue(b);e==g?a=DvtColorUtils.getBlue(c):(0==e&&(e=1),a=g/e*DvtColorUtils.getBlue(c));return DvtColorUtils.makePound(d,
h,a)};DvtColorUtils.getContrastingTextColor=function(a){var b=DvtColorUtils.getRed(a),c=DvtColorUtils.getGreen(a);a=DvtColorUtils.getBlue(a);return 128<=(299*b+587*c+114*a)/1E3?"#000000":"#FFFFFF"};
DvtColorUtils.fixColorForPlatform=function(a,b){if(!a)return null;"#"==a.charAt(0)&&8<a.length&&(a=DvtColorUtils.getRGBA(a));var c={};DvtAgent.isEnvironmentBatik()&&-1!==a.indexOf("rgba")?(c.color=DvtColorUtils.getRGB(a),c.alpha=null!=b?DvtColorUtils.getAlpha(a)*b:DvtColorUtils.getAlpha(a)):(c.color=a,null!=b&&(c.alpha=b));return c};var DvtClipPath=function(a){this._id=(a?a+"$":"")+"cp"+DvtClipPath._uniqueSeed++;this._regions=[]};DvtObj.createSubclass(DvtClipPath,DvtObj,"DvtClipPath");
DvtClipPath._uniqueSeed=0;DvtClipPath.NONE=0;DvtClipPath.RECT=1;DvtClipPath.PATH=2;DvtClipPath.POLYGON=3;DvtClipPath.ELLIPSE=4;DvtClipPath.CIRCLE=5;DvtClipPath.prototype._addRegion=function(a){a&&this._regions.push(a)};DvtClipPath.prototype.getId=function(){return this._id};DvtClipPath.prototype.getRegions=function(a){return this._regions};DvtClipPath.prototype.addRect=function(a,b,c,d,e,g){var h={};h.type=DvtClipPath.RECT;h.x=a;h.y=b;h.w=c;h.h=d;h.rx=e;h.ry=g;this._addRegion(h)};
DvtClipPath.prototype.addCircle=function(a,b,c){var d={};d.type=DvtClipPath.CIRCLE;d.cx=a;d.cy=b;d.r=c;this._addRegion(d)};DvtClipPath.prototype.addEllipse=function(a,b,c,d){var e={};e.type=DvtClipPath.ELLIPSE;e.cx=a;e.cy=b;e.rx=c;e.ry=d;this._addRegion(e)};DvtClipPath.prototype.addPolygon=function(a){var b={};b.type=DvtClipPath.POLYGON;b.points=a;this._addRegion(b)};DvtClipPath.prototype.addPath=function(a){var b={};b.type=DvtClipPath.PATH;b.d=a;this._addRegion(b)};
var DvtMask=function(a,b){this._id="mask"+DvtMask._uniqueSeed++;this._gradient=a;this._bounds=b};DvtObj.createSubclass(DvtMask,DvtObj,"DvtMask");DvtMask._uniqueSeed=0;DvtMask.prototype.getId=function(){return this._id};DvtMask.prototype.getGradient=function(){return this._gradient};DvtMask.prototype.getBounds=function(){return this._bounds};var DvtFill=function(){this._Init()};DvtObj.createSubclass(DvtFill,DvtLockable,"DvtFill");DvtFill.NONE=0;DvtFill.COLOR=1;DvtFill.GRADIENT=2;DvtFill.PATTERN=3;
DvtFill.IMAGE=4;DvtFill.prototype._Init=function(){DvtFill.superclass._Init.call(this)};DvtFill.prototype.getId=function(){return this._id};DvtFill.prototype.setId=function(a){this._id=a};DvtFill.prototype.equals=function(a){return!0};var DvtSolidFill=function(a,b){this._Init(a,b)};DvtObj.createSubclass(DvtSolidFill,DvtFill,"DvtSolidFill");DvtSolidFill.prototype.clone=function(){var a=new DvtSolidFill;this.mergeProps(a);return a};
DvtSolidFill.prototype._Init=function(a,b){DvtSolidFill.superclass._Init.call(this);this._fc=a;this._fa=null!=b?b:1};DvtSolidFill.prototype.getColor=function(){return this._fc};DvtSolidFill.prototype.setColor=function(a){this.isLocked()||(this._fc=a)};DvtSolidFill.prototype.getAlpha=function(){return this._fa};DvtSolidFill.prototype.setAlpha=function(a){this.isLocked()||(this._fa=a)};
DvtSolidFill.prototype.mergeProps=function(a){DvtSolidFill.superclass.mergeProps.call(this,a);a._fc=this._fc;a._fa=this._fa};DvtSolidFill.invisibleFill=function(){DvtSolidFill._INVISIBLE_FILL||(DvtSolidFill._INVISIBLE_FILL=new DvtSolidFill("rgba(0,0,0,0)"));return DvtSolidFill._INVISIBLE_FILL};DvtSolidFill.prototype.equals=function(a){return a instanceof DvtSolidFill&&a._fc==this._fc&&a._fa==this._fa?DvtSolidFill.superclass.equals.call(this,a):!1};var DvtStroke=function(a,b){this._Init(a,b)};
DvtObj.createSubclass(DvtStroke,DvtLockable,"DvtStroke");DvtStroke.SOLID=0;DvtStroke.DASHED=1;DvtStroke.DOTTED=2;DvtStroke.DASHED_DOTTED=3;DvtStroke.SQUARE="square";DvtStroke.ROUND="round";DvtStroke.BEVEL="bevel";DvtStroke.MITER="miter";DvtStroke.BUTT="butt";DvtStroke.convertTypeString=function(a){return"solid"==a?DvtStroke.SOLID:"dashed"==a?DvtStroke.DASHED:"dotted"==a?DvtStroke.DOTTED:DvtStroke.SOLID};
DvtStroke.prototype._Init=function(a){this._sw=null===a||isNaN(a)?1:a;DvtStroke.superclass._Init.call(this);this._bFixedWidth=!1};DvtStroke.prototype.getId=function(){return this._id};DvtStroke.prototype.setId=function(a){this._id=a};DvtStroke.prototype.mergeProps=function(a){a._sw=this._sw;a._st=this._st;a._sd=this._sd;a._sdo=this._sdo;a._sj=this._sj;a._se=this._se;a._sm=this._sm;a._bFixedWidth=this._bFixedWidth;DvtStroke.superclass.mergeProps.call(this,a)};
DvtStroke.prototype.setStyle=function(a,b,c,d,e){this.isLocked()||(a&&!b&&(b=DvtStroke.getDefaultDash(a,this._sw)),this._st=a,this._sd=b,c&&(this._sj=c),d&&(this._se=d),e&&(this._sm=e))};DvtStroke.prototype.getDash=function(){return this._sd};DvtStroke.prototype.getDashOffset=function(){return this._sdo};DvtStroke.prototype.getLineJoin=function(){return this._sj};DvtStroke.prototype.setLineJoin=function(a){this.isLocked()||(this._sj=a)};DvtStroke.prototype.getLineEnd=function(){return this._se};
DvtStroke.prototype.setLineEnd=function(a){this.isLocked()||(this._se=a)};DvtStroke.prototype.getMiterLimit=function(){return this._sm};DvtStroke.prototype.setMiterLimit=function(a){this.isLocked()||(this._sm=a)};DvtStroke.prototype.getType=function(){return this._st};DvtStroke.prototype.setType=function(a,b,c){this.isLocked()||(a===DvtStroke.SOLID?c=b=null:b||(b=DvtStroke.getDefaultDash(a,this._sw)),this._st=a,this._sd=b,this._sdo=c)};DvtStroke.prototype.getWidth=function(){return this._sw};
DvtStroke.prototype.setWidth=function(a){this.isLocked()||(this._sw=a)};DvtStroke.prototype.setFixedWidth=function(a){this._bFixedWidth=a};DvtStroke.prototype.isFixedWidth=function(){return this._bFixedWidth};DvtStroke.getDefaultDash=function(a,b){b=Math.ceil(b);var c=Math.max(6,2*b),d=Math.max(2,b),e=Math.floor((c+d)/2);return a==DvtStroke.DASHED?""+c:a==DvtStroke.DOTTED?""+d:a==DvtStroke.DASHED_DOTTED?""+c+","+e+","+d+","+e:null};
var DvtGradientStroke=function(a,b,c,d,e,g){this._Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtGradientStroke,DvtStroke,"DvtGradientStroke");DvtGradientStroke.prototype.getAlpha=function(){return 1};DvtGradientStroke.prototype.getAlphas=function(){return this._arAlphas};DvtGradientStroke.prototype.getBounds=function(){return this._arBounds};DvtGradientStroke.prototype.getColors=function(){return this._arColors};DvtGradientStroke.prototype.getStops=function(){return this._arStops};
DvtGradientStroke.prototype._Init=function(a,b,c,d,e,g){DvtGradientStroke.superclass._Init.call(this,e,g);this._arColors=a;this._arBounds=d;d=0;a&&(d=a.length-1);b||(b=DvtGradientStroke.createDefaultAlphas(d));this._arAlphas=b;c||(c=DvtGradientStroke.createDefaultStops(d));this._arStops=c};DvtGradientStroke.createDefaultAlphas=function(a){if(0>a)return null;for(var b=[],c=0;c<a;c++)b.push(1);return b};
DvtGradientStroke.createDefaultStops=function(a){var b=[],c=1/a,d=0;do b.push(d),d+=c;while(0<--a);b.push(1);return b};DvtGradientStroke.prototype.mergeProps=function(a){a._arColors=this._arColors;a._arStops=this._arStops;a._arAlphas=this._arAlphas;a._arBounds=this._arBounds;DvtGradientStroke.superclass.mergeProps.call(this,a)};var DvtLinearGradientStroke=function(a,b,c,d,e,g,h){this._Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtLinearGradientStroke,DvtGradientStroke,"DvtLinearGradientStroke");
DvtLinearGradientStroke.prototype.clone=function(){var a=new DvtLinearGradientStroke;this.mergeProps(a);return a};DvtLinearGradientStroke.prototype._Init=function(a,b,c,d,e,g,h){DvtLinearGradientStroke.superclass._Init.call(this,b,c,d,e,g,h);this._angle=null===a||isNaN(a)?0:a};DvtLinearGradientStroke.prototype.getAngle=function(){return this._angle};DvtLinearGradientStroke.prototype.mergeProps=function(a){DvtLinearGradientStroke.superclass.mergeProps.call(this,a);a._angle=this._angle};
DvtLinearGradientStroke.prototype.setAngle=function(a){this.isLocked()||0===a||(360<Math.abs(a)&&(a%=360),this._angle=a)};var DvtSolidStroke=function(a,b,c){this._Init(a,b,c)};DvtObj.createSubclass(DvtSolidStroke,DvtStroke,"DvtSolidStroke");DvtSolidStroke.prototype.clone=function(){var a=new DvtSolidStroke;this.mergeProps(a);return a};DvtSolidStroke.prototype._Init=function(a,b,c){this._sc=a;this._sa=null!=b?b:1;this._st=DvtStroke.SOLID;DvtSolidStroke.superclass._Init.call(this,c)};
DvtSolidStroke.prototype.getAlpha=function(){return this._sa};DvtSolidStroke.prototype.setAlpha=function(a){this.bLocked||(this._sa=a)};DvtSolidStroke.prototype.getColor=function(){return this._sc};DvtSolidStroke.prototype.setColor=function(a){this.bLocked||(this._sc=a)};DvtSolidStroke.prototype.mergeProps=function(a){DvtSolidStroke.superclass.mergeProps.call(this,a);a._sc=this._sc;a._sa=this._sa};var DvtShadow=function(a,b,c,d,e,g,h,k,m,n){this._Init(a,b,c,d,e,g,h,k,m,n)};
DvtObj.createSubclass(DvtShadow,DvtBaseDrawEffect,"DvtShadow");DvtShadow._uniqueId=1;
DvtShadow.prototype._Init=function(a,b,c,d,e,g,h,k,m,n){DvtShadow.superclass._Init.call(this);this.__type="shadow";this._rgba=a?a:"rgba(48,48,48,0.35)";this._distance=null===b||isNaN(b)?4:b;this._strength=null===g||isNaN(g)?1:g;this._blurX=null===c||isNaN(c)?4:c;this._blurY=null===d||isNaN(d)?4:d;this._angle=null===e||isNaN(e)?45:e;this._quality=null===h||isNaN(h)?1:h;this._bInner=k?!0:!1;this._bHide=this._bKnockout=!1;this._Id="ds"+DvtShadow._uniqueId++};
DvtShadow.prototype.clone=function(){var a=new DvtShadow;this.mergeProps(a);return a};DvtShadow.prototype.mergeProps=function(a){DvtShadow.superclass.mergeProps.call(this,a);a._rgba=this._rgba;a._distance=this._distance;a._strength=this._strength;a._blurX=this._blurX;a._blurY=this._blurY;a._angle=this._angle;a._quality=this._quality;a._bInner=this._bInner;a._bKnockout=this._bKnockout;a._bHide=this._bHide;a._Id=this._Id};var DvtGradientFill=function(a,b,c,d){this._Init(a,b,c,d)};
DvtObj.createSubclass(DvtGradientFill,DvtFill,"DvtGradientFill");DvtGradientFill.prototype.getAlphas=function(){return this._arAlphas};DvtGradientFill.prototype.getBounds=function(){return this._arBounds};DvtGradientFill.prototype.getColors=function(){return this._arColors};DvtGradientFill.prototype.getStops=function(){return this._arStops};
DvtGradientFill.prototype._Init=function(a,b,c,d){DvtGradientFill.superclass._Init.call(this);this._arColors=a;this._arBounds=d;if(!b&&(b=[],a))for(d=0;d<a.length;d++)b.push(1);this._arAlphas=b;a=a?a.length-1:0;if(!c){c=[];b=0<a?1/a:0;d=0;do c.push(d),d+=b;while(0<--a);c.push(1)}this._arStops=c};DvtGradientFill.prototype.mergeProps=function(a){a._arColors=this._arColors;a._arStops=this._arStops;a._arAlphas=this._arAlphas;a._arBounds=this._arBounds;DvtGradientFill.superclass.mergeProps.call(this,a)};
DvtGradientFill.prototype.equals=function(a){return a instanceof DvtGradientFill&&DvtArrayUtils.equals(this._arColors,a._arColors)&&DvtArrayUtils.equals(this._arStops,a._arStops)&&DvtArrayUtils.equals(this._arAlphas,a._arAlphas)&&DvtArrayUtils.equals(this._arBounds,a._arBounds)?DvtGradientFill.superclass.equals.call(this,a):!1};var DvtLinearGradientFill=function(a,b,c,d,e){this._Init(a,b,c,d,e)};DvtObj.createSubclass(DvtLinearGradientFill,DvtGradientFill,"DvtLinearGradientFill");
DvtLinearGradientFill.prototype.clone=function(){var a=new DvtLinearGradientFill;this.mergeProps(a);return a};DvtLinearGradientFill.prototype._Init=function(a,b,c,d,e){DvtLinearGradientFill.superclass._Init.call(this,b,c,d,e);this._angle=null===a||isNaN(a)?0:a};DvtLinearGradientFill.prototype.getAngle=function(){return this._angle};DvtLinearGradientFill.prototype.clone=function(){var a=new DvtLinearGradientFill;this.mergeProps(a);return a};
DvtLinearGradientFill.prototype.mergeProps=function(a){DvtLinearGradientFill.superclass.mergeProps.call(this,a);a._angle=this._angle};DvtLinearGradientFill.prototype.setAngle=function(a){this.isLocked()||0===a||(360<Math.abs(a)&&(a%=360),this._angle=a)};DvtLinearGradientFill.prototype.equals=function(a){return a instanceof DvtLinearGradientFill&&a._angle==this._angle?DvtLinearGradientFill.superclass.equals.call(this,a):!1};var DvtImageFill=function(a,b,c){this._Init(a,b,c)};
DvtObj.createSubclass(DvtImageFill,DvtFill,"DvtImageFill");DvtImageFill.prototype.getBound=function(){return this._bound};DvtImageFill.prototype.getSrc=function(){return this._src};DvtImageFill.prototype.getRepeat=function(){return this._repeat};DvtImageFill.prototype._Init=function(a,b,c){DvtImageFill.superclass._Init.call(this);this._src=a;this._bound=b;this._repeat=c};DvtImageFill.prototype.clone=function(){var a=new DvtImageFill;this.mergeProps(a);return a};
DvtImageFill.prototype.mergeProps=function(a){a._src=this._src;a._bound=this._bound;a._repeat=this._repeat;DvtImageFill.superclass.mergeProps.call(this)};DvtImageFill.prototype.equals=function(a){return a instanceof DvtImageFill&&a._src==this._src&&a._repeat==this._repeat&&(this._bound&&a._bound&&this._bound.x==a.bound.x&&this._bound.y==a.bound.y&&this._bound.w==a.bound.w&&this._bound.h==a.bound.h||!this._bound&&!a._bound)?DvtImageFill.superclass.equals.call(this,a):!1};
var DvtPatternFill=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtPatternFill,DvtFill,"DvtPatternFill");DvtPatternFill.SM_DIAG_UP_LT="sDUL";DvtPatternFill.LG_DIAG_UP_LT="lDUL";DvtPatternFill.SM_DIAG_UP_RT="sDUR";DvtPatternFill.LG_DIAG_UP_RT="lDUR";DvtPatternFill.SM_CROSSHATCH="sC";DvtPatternFill.LG_CROSSHATCH="lC";DvtPatternFill.SM_CHECK="sCh";DvtPatternFill.LG_CHECK="lCh";DvtPatternFill.SM_TRIANGLE_CHECK="sTCh";DvtPatternFill.LG_TRIANGLE_CHECK="lTCh";DvtPatternFill.SM_DIAMOND_CHECK="sDCh";
DvtPatternFill.LG_DIAMOND_CHECK="lDCh";DvtPatternFill.prototype.Init=function(a,b,c){DvtPatternFill.superclass._Init.call(this);this._pattern=a?DvtPatternFill._convertPatternValue(a):DvtPatternFill.SM_DIAG_UP_LT;this._fillColor=b?b:"#000000";this._backgroundColor=c?c:"#ffffff"};DvtPatternFill.prototype.getPattern=function(){return this._pattern};DvtPatternFill.prototype.getColor=function(){return this._fillColor};DvtPatternFill.prototype.getBackgroundColor=function(){return this._backgroundColor};
DvtPatternFill.prototype.clone=function(){var a=new DvtPatternFill;this.mergeProps(a);return a};DvtPatternFill.prototype.mergeProps=function(a){a._pattern=this._pattern;a._fillColor=this._fillColor;a._backgroundColor=this._backgroundColor;DvtPatternFill.superclass.mergeProps.call(this)};
DvtPatternFill.prototype.equals=function(a){return a instanceof DvtPatternFill&&a._pattern==this._pattern&&a._fillColor==this._fillColor&&a._backgroundColor==this._backgroundColor?DvtPatternFill.superclass.equals.call(this,a):!1};DvtPatternFill.prototype.getMatrix=function(){return this._matrix?this._matrix:new DvtMatrix};DvtPatternFill.prototype.setMatrix=function(a){(this._matrix=a)&&!this._matrix.isLocked()&&this._matrix.__lock()};
DvtPatternFill._convertPatternValue=function(a){return"smallDiagonalLeft"==a?DvtPatternFill.SM_DIAG_UP_LT:"largeDiagonalLeft"==a?DvtPatternFill.LG_DIAG_UP_LT:"smallDiagonalRight"==a?DvtPatternFill.SM_DIAG_UP_RT:"largeDiagonalRight"==a?DvtPatternFill.LG_DIAG_UP_RT:"smallCrosshatch"==a?DvtPatternFill.SM_CROSSHATCH:"largeCrosshatch"==a?DvtPatternFill.LG_CROSSHATCH:"smallChecker"==a?DvtPatternFill.SM_CHECK:"largeChecker"==a?DvtPatternFill.LG_CHECK:"smallTriangle"==a?DvtPatternFill.SM_TRIANGLE_CHECK:"largeTriangle"==
a?DvtPatternFill.LG_TRIANGLE_CHECK:"smallDiamond"==a?DvtPatternFill.SM_DIAMOND_CHECK:"largeDiamond"==a?DvtPatternFill.LG_DIAMOND_CHECK:a};var DvtRadialGradientFill=function(a,b,c,d,e,g,h){this._Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtRadialGradientFill,DvtGradientFill,"DvtRadialGradientFill");DvtRadialGradientFill.prototype.clone=function(){var a=new DvtRadialGradientFill;this.mergeProps(a);return a};DvtRadialGradientFill.prototype.getRadius=function(){return this._r};
DvtRadialGradientFill.prototype.getCx=function(){return this._cx};DvtRadialGradientFill.prototype.getCy=function(){return this._cy};DvtRadialGradientFill.prototype._Init=function(a,b,c,d,e,g,h){DvtRadialGradientFill.superclass._Init.call(this,a,b,c,h);this._cx=d;this._cy=e;this._r=g};DvtRadialGradientFill.prototype.clone=function(){var a=new DvtRadialGradientFill;this.mergeProps(a);return a};
DvtRadialGradientFill.prototype.mergeProps=function(a){DvtRadialGradientFill.superclass.mergeProps.call(this,a);a._cx=this._cx;a._cy=this._cy;a._r=this._r};DvtRadialGradientFill.prototype.equals=function(a){return a instanceof DvtRadialGradientFill&&a._cx==this._cx&&a._cy==this._cy&&a._r==this._r?DvtRadialGradientFill.superclass.equals.call(this,a):!1};var DvtSelectionEffectUtils={};DvtObj.createSubclass(DvtSelectionEffectUtils,DvtObj,"DvtSelectionEffectUtils");
DvtSelectionEffectUtils.getHoverBorderColor=function(a){return DvtColorUtils.adjustHSL(a,0,0,.15)};DvtSelectionEffectUtils.applyDrawEffect=function(a,b){if(0==a.getNumDrawEffects())a.addDrawEffect(b);else{var c=a.getDrawEffectIndex(b);-1<c?(a.removeDrawEffectAt(c),a.addDrawEffectAt(b,c)):a.addDrawEffect(b)}};DvtSelectionEffectUtils.createSelectingStroke=function(a){a=new DvtSolidStroke(DvtSelectionEffectUtils.getHoverBorderColor(a),1,2);a.setMiterLimit(1);return a};
DvtSelectionEffectUtils.getSelectingCursor=function(){return"pointer"};var DvtKeyboardFocusEffect=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtKeyboardFocusEffect,DvtObj,"DvtKeyboardFocusEffect");DvtKeyboardFocusEffect.FOCUS_BORDER_RADIUS=1;DvtKeyboardFocusEffect.FOCUS_STROKE_WIDTH=1;DvtKeyboardFocusEffect.FOCUS_STROKE_ALPHA=1;DvtKeyboardFocusEffect.FOCUS_STROKE_TYPE=DvtStroke.DOTTED;
DvtKeyboardFocusEffect.prototype.Init=function(a,b,c,d,e,g){this._container=b;this._focusEffect=new DvtRect(a,c.x,c.y,c.w,c.h,e);a=this.CreateStroke();this._focusEffect.setStroke(a);this._focusEffect.setRx(DvtKeyboardFocusEffect.FOCUS_BORDER_RADIUS);this._focusEffect.setRy(DvtKeyboardFocusEffect.FOCUS_BORDER_RADIUS);d&&this._focusEffect.setMatrix(d);this._focusEffect.setFill(null);this._appendLast=g};
DvtKeyboardFocusEffect.prototype.CreateStroke=function(){var a=DvtAgent.getFocusColor(),b=DvtKeyboardFocusEffect.FOCUS_STROKE_WIDTH,c=DvtKeyboardFocusEffect.FOCUS_STROKE_ALPHA,d=DvtKeyboardFocusEffect.FOCUS_STROKE_TYPE;DvtAgent.isPlatformWebkit()&&(b=2,d=DvtStroke.SOLID);a=new DvtSolidStroke(a,c,b);a.setType(d,b,b);return a};DvtKeyboardFocusEffect.prototype.getEffect=function(){return this._focusEffect};DvtKeyboardFocusEffect.prototype.setEffect=function(a){this._focusEffect=a};
DvtKeyboardFocusEffect.prototype.show=function(){this._focusEffect instanceof DvtShape&&(this._appendLast?this._container.addChild(this._focusEffect):this._container.addChildAt(this._focusEffect,0))};DvtKeyboardFocusEffect.prototype.hide=function(){this._focusEffect instanceof DvtShape&&this._container.removeChild(this._focusEffect)};var DvtDimension=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtDimension,DvtObj,"DvtDimension");
DvtDimension.prototype.Init=function(a,b){this.w=null===a||isNaN(a)?0:a;this.h=null===b||isNaN(b)?0:b};DvtDimension.prototype.getWidth=function(){return this.w};DvtDimension.prototype.getHeight=function(){return this.h};var DvtMatrix=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtMatrix,DvtLockable,"DvtMatrix");DvtMatrix._DECOMP_TX=0;DvtMatrix._DECOMP_TY=1;DvtMatrix._DECOMP_R=2;DvtMatrix._DECOMP_SKEWX=3;DvtMatrix._DECOMP_SX=4;DvtMatrix._DECOMP_SY=5;
DvtMatrix.prototype.Init=function(a,b,c,d,e,g){this._a=null==a?1:a;this._b=null==b?0:b;this._c=null==c?0:c;this._d=null==d?1:d;this._tx=null==e?0:e;this._ty=null==g?0:g;this._v=this._u=0;this._w=1;DvtMatrix.superclass._Init.call(this)};DvtMatrix.prototype.Identity=function(){this._a=1;this._c=this._b=0;this._d=1;this._ty=this._tx=0};DvtMatrix.prototype.getA=function(){return this._a};DvtMatrix.prototype.getB=function(){return this._b};DvtMatrix.prototype.getC=function(){return this._c};
DvtMatrix.prototype.getD=function(){return this._d};DvtMatrix.prototype.getTx=function(){return this._tx};DvtMatrix.prototype.getTy=function(){return this._ty};DvtMatrix.prototype.clone=function(){return new DvtMatrix(this._a,this._b,this._c,this._d,this._tx,this._ty)};
DvtMatrix.prototype.concat=function(a){if(!this.isLocked()){var b=this._b*a._a+this._d*a._b+this._v*a._tx,c=this._tx*a._a+this._ty*a._b+this._w*a._tx,d=this._a*a._c+this._c*a._d+this._u*a._ty,e=this._b*a._c+this._d*a._d+this._v*a._ty,g=this._tx*a._c+this._ty*a._d+this._w*a._ty;this._a=this._a*a._a+this._c*a._b+this._u*a._tx;this._b=b;this._c=d;this._d=e;this._tx=c;this._ty=g}};DvtMatrix.prototype.translate=function(a,b){if(!this.isLocked()){var c=new DvtMatrix;c._tx=a;c._ty=b;this.concat(c)}};
DvtMatrix.prototype.scale=function(a,b,c,d){if(!this.isLocked()){(c||d)&&this.translate(-c,-d);var e=new DvtMatrix;e._a=a;e._d=b;this.concat(e);(c||d)&&this.translate(c,d)}};DvtMatrix.prototype.rotate=function(a){if(!this.isLocked()){var b=new DvtMatrix;b._a=Math.cos(a);b._d=b._a;b._c=Math.sin(a);b._b=-b._c;this.concat(b)}};DvtMatrix.prototype.skew=function(a,b){if(!this.isLocked()){var c=new DvtMatrix;c._b=Math.tan(a);c._c=Math.tan(b);this.concat(c)}};
DvtMatrix.prototype.Determinant=function(){return this._a*(this._d*this._w-this._ty*this._v)-this._b*(this._c*this._w-this._ty*this._u)+this._tx*(this._c*this._v-this._d*this._u)};
DvtMatrix.prototype.invert=function(){if(!this.isLocked()){var a=this.Determinant(),b=this._tx*this._v-this._b*this._w,c=this._b*this._ty-this._tx*this._d,d=this._ty*this._u-this._c*this._w,e=this._a*this._w-this._tx*this._u,g=this._tx*this._c-this._a*this._ty;this._a=(this._d*this._w-this._ty*this._v)/a;this._b=b/a;this._tx=c/a;this._c=d/a;this._d=e/a;this._ty=g/a}};
DvtMatrix.prototype._decompose=function(){var a=this._a,b=this._b,c=this._c,d=this._d,e=this._tx,g=this._ty;if(0===a*d-b*c)return null;var h=Math.sqrt(a*a+c*c),a=a/h,c=c/h,k=a*b+c*d,b=b-a*k,d=d-c*k,m=Math.sqrt(b*b+d*d),k=k/m;-1===d/m*a-b/m*c&&(k=-k,m=-m);a=Math.atan2(c,a);k=Math.atan(k);return[e,g,a,k,h,m]};DvtMatrix.prototype._recompose=function(a){if(!this.isLocked()){this.Identity();var b=a[0],c=a[1],d=a[2],e=a[3];this.scale(a[4],a[5]);this.skew(e,0);this.rotate(d);this.translate(b,c)}};
DvtMatrix.prototype.equals=function(a){return!this&&a?!1:this&&!a?!1:this||a?this._a==a._a&&this._b==a._b&&this._c==a._c&&this._d==a._d&&this._tx==a._tx&&this._ty==a._ty:!0};DvtMatrix.prototype.transformPoint=function(a){return new DvtPoint(this._a*a.x+this._b*a.y+1*this._tx,this._c*a.x+this._d*a.y+1*this._ty)};DvtMatrix.prototype.isIdentity=function(){return 1==this._a&&0==this._b&&0==this._c&&1==this._d&&0==this._tx&&0==this._ty};var DvtPoint=function(a,b){this.Init(a,b)};
DvtObj.createSubclass(DvtPoint,DvtObj,"DvtPoint");DvtPoint.prototype.Init=function(a,b){this.x=null===a||isNaN(a)?0:a;this.y=null===b||isNaN(b)?0:b};DvtPoint.prototype.equals=function(a){return a instanceof DvtPoint&&this.x===a.x&&this.y===a.y?!0:!1};var DvtRectangle=function(a,b,c,d){this.x=null===a||isNaN(a)?0:a;this.y=null===b||isNaN(b)?0:b;this.w=null===c||isNaN(c)?0:c;this.h=null===d||isNaN(d)?0:d};DvtObj.createSubclass(DvtRectangle,DvtObj,"DvtRectangle");
DvtRectangle.create=function(a){return new DvtRectangle(a[0],a[1],a[2],a[3])};DvtRectangle.prototype.containsPoint=function(a,b){return a>=this.x&&a<=this.x+this.w&&b>=this.y&&b<=this.y+this.h};DvtRectangle.prototype.getCenter=function(){return new DvtPoint(this.x+this.w/2,this.y+this.h/2)};
DvtRectangle.prototype.getUnion=function(a){var b=new DvtRectangle;if(a&&0!==a.w&&0!==a.h)if(0!==this.w&&0!==this.h){var c=this.x+this.w,d=this.y+this.h,e=a.x+a.w,g=a.y+a.h,h=Math.min(this.x,a.x);a=Math.min(this.y,a.y);b.w=c<e?e-h:c-h;b.h=d>g?d-a:g-a;b.x=h;b.y=a}else b.x=a.x,b.y=a.y,b.w=a.w,b.h=a.h;else b.x=this.x,b.y=this.y,b.w=this.w,b.h=this.h;return b};
DvtRectangle.prototype.grow=function(a,b){var c=this.x,d=this.y,e=this.x+this.w,g=this.y+this.h;a<c&&(c=a);a>e&&(e=a);b<d&&(d=b);b>g&&(g=b);this.x=c;this.y=d;this.w=e-c;this.h=g-d};DvtRectangle.prototype.intersects=function(a){if(a&&0!==a.w&&0!==a.h&&0!==this.w&&0!==this.h){var b=this.y+this.h,c=a.x+a.w,d=a.y+a.h;return!(a.x>this.x+this.w||c<this.x||a.y>b||d<this.y)}return!1};DvtRectangle.prototype.clone=function(){return new DvtRectangle(this.x,this.y,this.w,this.h)};
DvtRectangle.prototype.equals=function(a){return a instanceof DvtRectangle&&this.x==a.x&&this.y==a.y&&this.w==a.w&&this.h==a.h};DvtRectangle.prototype.toString=function(){return this.x+", "+this.y+", "+this.w+", "+this.h};var DvtGeomUtils={};DvtObj.createSubclass(DvtGeomUtils,DvtObj,"DvtGeomUtils");DvtGeomUtils.getCenterPoint=function(a){return new DvtPoint(a.x+a.w/2,a.y+a.h/2)};DvtGeomUtils.intersects=function(a,b){return a.x>b.x+b.w||a.x+a.w<b.x||a.y>b.y+b.h||a.y+a.h<b.y?!1:!0};
DvtGeomUtils.getPaddedRectangle=function(a,b){return DvtGeomUtils.getSpecificPaddedRectangle(a,b,b,b,b)};DvtGeomUtils.getSpecificPaddedRectangle=function(a,b,c,d,e){return new DvtRectangle(a.x-d,a.y-b,a.w+d+e,a.h+b+c)};DvtGeomUtils.GetOffsetValues=function(a,b,c){var d=0,e=a.y,g=a.y+a.h;e<c?d+=c-e:g>b.h-c&&(d+=b.h-c-g);e=a.x;a=a.x+a.w;g=0;e<c?g+=c-e:a>b.w-c&&(g+=b.w-c-a);return{offsetX:g,offsetY:d}};var DvtLineUtils={};DvtObj.createSubclass(DvtLineUtils,DvtObj,"DvtLineUtils");
DvtLineUtils.intersect2Lines=function(a,b,c,d,e){var g=a.x;a=a.y;var h=d.x;d=d.y;var k=b.x-g,m=c.x-h;if(0===k&&0===m)return null;b=(b.y-a)/k;c=(c.y-d)/m;if(b===c)return null;e||(e=new DvtPoint);if(0===k)return e.x=g,e.y=c*(g-h)+d,e;if(0===m)return e.x=h,e.y=b*(h-g)+a,e;c=(-c*h+d+b*g-a)/(b-c);e.x=c;e.y=b*(c-g)+a;return e};DvtLineUtils.lineLen=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};DvtLineUtils.midPt=function(a,b,c,d,e){e||(e=new DvtPoint);e.x=(a+c)/2;e.y=(b+d)/2;return e};
var DvtVectorUtils={};DvtObj.createSubclass(DvtVectorUtils,DvtObj,"DvtVectorUtils");DvtVectorUtils.createVector=function(a,b){var c={};c.x=a;c.y=b;return c};DvtVectorUtils.addVectors=function(a,b){return DvtVectorUtils.createVector(a.x+b.x,a.y+b.y)};DvtVectorUtils.subtractVectors=function(a,b){return DvtVectorUtils.createVector(a.x-b.x,a.y-b.y)};DvtVectorUtils.scaleVector=function(a,b){return DvtVectorUtils.createVector(a.x*b,a.y*b)};
DvtVectorUtils.getMagnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};var DvtLayoutUtils=function(){};DvtObj.createSubclass(DvtLayoutUtils,DvtObj,"DvtLayoutUtils");
DvtLayoutUtils.position=function(a,b,c,d,e,g){c&&(g=0<d*e?g:0,"start"==b?b=DvtAgent.isRightToLeft(c.getCtx())?"right":"left":"end"==b&&(b=DvtAgent.isRightToLeft(c.getCtx())?"left":"right"),"top"==b?(c.setTranslate(a.x+a.w/2-d/2,a.y),a.y+=e+g,a.h-=e+g):"bottom"==b?(c.setTranslate(a.x+a.w/2-d/2,a.y+a.h-e),a.h-=e+g):"left"==b?(c.setTranslate(a.x,a.y+a.h/2-e/2),a.x+=d+g,a.w-=d+g):"right"==b&&(c.setTranslate(a.x+a.w-d,a.y+a.h/2-e/2),a.w-=d+g))};
DvtLayoutUtils.align=function(a,b,c,d){c&&("start"==b?b=DvtAgent.isRightToLeft(c.getCtx())?"right":"left":"end"==b&&(b=DvtAgent.isRightToLeft(c.getCtx())?"left":"right"),"left"==b?c.setX(a.x):"center"==b?c.setX(a.x+a.w/2-d/2):"right"==b&&c.setX(a.x+a.w-d))};var DvtMath={};DvtObj.createSubclass(DvtMath,DvtObj,"DvtMath");DvtMath.RADS_PER_DEGREE=Math.PI/180;DvtMath.DEGREES_PER_RAD=180/Math.PI;DvtMath.TWO_PI=2*Math.PI;DvtMath.HALF_PI=Math.PI/2;DvtMath.QUARTER_PI=Math.PI/4;DvtMath.TOLERANCE=.1;
DvtMath.cantorPairing=function(a,b){return 0>a||0>b?-1:(a+b)*(a+b+1)/2+a};DvtMath.degreesToRads=function(a){return a*DvtMath.RADS_PER_DEGREE};DvtMath.radsToDegrees=function(a){return a*DvtMath.DEGREES_PER_RAD};DvtMath.interpolateNumber=function(a,b,c){return a+c*(b-a)};DvtMath.log10=function(a){return Math.log(a)/Math.LN10};var DvtMap2D=function(){this.Init()};DvtObj.createSubclass(DvtMap2D,DvtObj,"DvtMap2D");DvtMap2D.prototype.Init=function(){this._map={}};DvtMap2D.prototype.get=function(a,b){return this._getInnerMap(a)[b]};
DvtMap2D.prototype.put=function(a,b,c){a=this._getInnerMap(a);var d=a[b];a[b]=c;return d};DvtMap2D.prototype._getInnerMap=function(a){var b=this._map[a];b||(b={},this._map[a]=b);return b};var DvtPixelMap=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtPixelMap,DvtMap2D,"DvtPixelMap");
DvtPixelMap.prototype.Init=function(a,b){DvtPixelMap.superclass.Init.call(this);if(this._innerMap=b)this._innerMap._outerMap=this,this._innerMap._bOuterMap=!0;this._scale=a||1;this._capacity=this._scale*this._scale;this._bInnerMap=null!=this._innerMap;this._bOuterMap=!1};
DvtPixelMap.prototype.isObscured=function(a,b,c,d){for(var e=this._adjustForScale(a),g=this._adjustForScale(b),h=this._adjustForScale(c),k=this._adjustForScale(d);e<=h;e++)for(var m=g;m<=k;m++)if(!0!==this.get(e,m))if(this._bInnerMap){var n=Math.max(a,e*this._scale),t=Math.max(b,m*this._scale),u=Math.min(c,(e+1)*this._scale-1),v=Math.min(d,(m+1)*this._scale-1);if(!this._innerMap.isObscured(n,t,u,v))return!1}else return!1;return!0};
DvtPixelMap.prototype.obscure=function(a,b,c,d,e){for(var g=this._adjustForScale(a),h=this._adjustForScale(b),k=this._adjustForScale(c),m=this._adjustForScale(d);g<=k;g++)for(var n=h;n<=m;n++)if(!0!==this.get(g,n))if(this._bInnerMap){var t=Math.max(a,g*this._scale),u=Math.max(b,n*this._scale),v=Math.min(c,(g+1)*this._scale-1),w=Math.min(d,(n+1)*this._scale-1);this._innerMap.obscure(t,u,v,w,e)}else this._increment(g,n,e)};
DvtPixelMap.prototype._increment=function(a,b,c){var d=this._adjustForScale(a),e=this._adjustForScale(b),g=this.get(d,e),g=null!=g?g+c:c;g>=this._capacity&&(g=!0);this.put(d,e,g);!0===g&&this._bOuterMap&&this._outerMap._increment(a,b,this._capacity)};DvtPixelMap.prototype._adjustForScale=function(a){return Math.floor(a/this._scale)};var DvtPropMap=function(){this.Init()};DvtPropMap.REGEXP=RegExp("#\\{([^\\}]*)\\}","g");DvtObj.createSubclass(DvtPropMap,DvtObj,"DvtPropMap");
DvtPropMap.prototype.Init=function(){this._props={}};DvtPropMap.prototype.getProperty=function(a){return this._props[a]};DvtPropMap.prototype.setProperty=function(a,b){this._props[a]=b};DvtPropMap.prototype.getStringProp=function(a,b){var c=this._props[a];return c?c:b};DvtPropMap.prototype.getBooleanProp=function(a,b){var c=this._props[a],d=b;"boolean"===typeof c?d=c:0===c?d=!1:1===c?d=!0:"string"===typeof c&&(d="true"===c.toLowerCase()||"yes"===c.toLowerCase()||"on"===c.toLowerCase());return d};
DvtPropMap.prototype.getIntegerProp=function(a,b){var c=this._props[a],d;c&&(d=parseInt(c));return d?d:b};DvtPropMap.prototype.getFloatProp=function(a,b){var c=this._props[a],d;c&&(d=parseFloat(c));return d?d:b};DvtPropMap.prototype.getId=function(){return this.getProperty("id")};DvtPropMap.prototype.setId=function(a){this.setProperty("id",a)};DvtPropMap.prototype.setProperties=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.name&&void 0!==c.value&&this.setProperty(c.name,c.value)}};
DvtPropMap.prototype.stamp=function(a){var b=new this.constructor,c={},d;for(d in this._props)c[d]=this._props[d]&&this._props[d].replace?this._props[d].replace(DvtPropMap.REGEXP,function(b,c){return a&&void 0!==a[c]?a[c]:b}):this._props[d];b._props=c;return b};DvtPropMap.toELContext=function(a){a=a.getAttributes();for(var b,c={},d=0;d<a.length;d++)b=a[d],c[b.name]=b.value;return c};var DvtImageLoader={};DvtObj.createSubclass(DvtImageLoader,DvtObj,"DvtImageLoader");
DvtImageLoader.loadImage=function(a,b,c){return a.getImplFactory().getImageLoader().loadImage(b,c)};var DvtJSONUtils={};DvtObj.createSubclass(DvtJSONUtils,DvtObj,"DvtJSONUtils");
DvtJSONUtils.clone=function(a,b){if(null==a)return null;var c=null;if(a instanceof Array)for(var c=[],d=0;d<a.length;d++)DvtJSONUtils._isDeepClonable(a[d])?c[d]=DvtJSONUtils.clone(a[d],b):c[d]=a[d];else if(a instanceof DvtCSSStyle)c=a.clone();else if(a instanceof Date)c=a.getTime();else if(a instanceof Object)for(d in c={},a)if(!b||b(d)){var e=a[d];DvtJSONUtils._isDeepClonable(e)?c[d]=DvtJSONUtils.clone(e,b):c[d]=e}return c};
DvtJSONUtils.merge=function(a,b){var c=DvtJSONUtils.clone(a),d=DvtJSONUtils.clone(b);if(null==c)return d;if(null==d)return c;DvtJSONUtils._copy(c,d);return d};DvtJSONUtils._copy=function(a,b){for(var c in a){var d=a[c];d&&d instanceof Array?b[c]=d:b[c]&&b[c]instanceof DvtCSSStyle?d instanceof DvtCSSStyle?b[c].merge(d):b[c].merge(new DvtCSSStyle(d)):DvtJSONUtils._isDeepClonable(d)?b[c]?DvtJSONUtils._copy(d,b[c]):b[c]=d:b[c]=d}};
DvtJSONUtils._isDeepClonable=function(a){return"undefined"==typeof a?!1:a instanceof Object&&!(a instanceof Boolean)&&!(a instanceof String)&&!(a instanceof Number)&&!(a instanceof Function)&&!a.then};var DvtBaseEvent=function(){};DvtObj.createSubclass(DvtBaseEvent,DvtObj,"DvtBaseEvent");DvtBaseEvent.prototype.Init=function(a,b){this.type=a;this.target=b};DvtBaseEvent.prototype.getNativeEvent=function(){return null};DvtBaseEvent.prototype.preventDefault=function(){};
DvtBaseEvent.prototype.stopPropagation=function(){};DvtBaseEvent.prototype.isPropagationStopped=function(){return!1};DvtBaseEvent.prototype.getType=function(){return this.type};DvtBaseEvent.prototype.getTarget=function(){return this.target};var DvtBaseComponentEvent=function(){};DvtObj.createSubclass(DvtBaseComponentEvent,DvtObj,"DvtBaseComponentEvent");DvtBaseComponentEvent.CLIENT_ROW_KEY="clientRowKey";DvtBaseComponentEvent.prototype.Init=function(a){this._type=a};
DvtBaseComponentEvent.prototype.getType=function(){return this._type};DvtBaseComponentEvent.prototype.getParamKeys=function(){return this._paramKeys};DvtBaseComponentEvent.prototype._getParamValues=function(){return this._paramValues};DvtBaseComponentEvent.prototype.addParam=function(a,b){this._paramKeys||(this._paramKeys=[],this._paramValues=[]);this._paramKeys.push(a);this._paramValues.push(b)};
DvtBaseComponentEvent.prototype.getParamValue=function(a){if(!a||!this._paramKeys||!this._paramValues)return null;for(var b=-1,c=0;c<this._paramKeys.length;c++)if(this._paramKeys[c]==a){b=c;break}return-1!=b?this._paramValues[b]:null};var DvtFocusEvent=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtFocusEvent,DvtBaseEvent,"DvtFocusEvent");DvtFocusEvent.FOCUS=DvtObj.defineConstant("focus");DvtFocusEvent.FOCUSIN=DvtObj.defineConstant("focusin");DvtFocusEvent.FOCUSOUT=DvtObj.defineConstant("focusout");
DvtFocusEvent.BLUR=DvtObj.defineConstant("blur");DvtFocusEvent.prototype.Init=function(a,b,c,d,e,g){DvtFocusEvent.superclass.Init.call(this,a,e);this.bubbles=b;this.cancelable=c;this.view=d;this.relatedTarget=g};var DvtKeyboardEvent=function(a,b,c,d,e,g,h,k,m,n,t,u){this.Init(a,b,c,d,e,g,h,k,m,n,t,u)};DvtObj.createSubclass(DvtKeyboardEvent,DvtBaseEvent,"DvtKeyboardEvent");DvtKeyboardEvent.KEYDOWN=DvtObj.defineConstant("keydown");DvtKeyboardEvent.KEYUP=DvtObj.defineConstant("keyup");
DvtKeyboardEvent.KEYPRESS=DvtObj.defineConstant("keypress");DvtKeyboardEvent.TAB=9;DvtKeyboardEvent.ENTER=13;DvtKeyboardEvent.SHIFT=16;DvtKeyboardEvent.CONTROL=17;DvtKeyboardEvent.HOME=36;DvtKeyboardEvent.END=35;DvtKeyboardEvent.ESCAPE=27;DvtKeyboardEvent.SPACE=32;DvtKeyboardEvent.PAGE_UP=33;DvtKeyboardEvent.PAGE_DOWN=34;DvtKeyboardEvent.UP_ARROW=38;DvtKeyboardEvent.DOWN_ARROW=40;DvtKeyboardEvent.DELETE=46;DvtKeyboardEvent.LEFT_ARROW=37;DvtKeyboardEvent.RIGHT_ARROW=39;
DvtKeyboardEvent.OPEN_BRACKET=219;DvtKeyboardEvent.CLOSE_BRACKET=221;DvtKeyboardEvent.BACK_SLASH=220;DvtKeyboardEvent.FORWARD_SLASH=191;DvtKeyboardEvent.ZERO=48;DvtKeyboardEvent.NUMPAD_ZERO=96;DvtKeyboardEvent.ONE=49;DvtKeyboardEvent.NUMPAD_ONE=97;DvtKeyboardEvent.TWO=50;DvtKeyboardEvent.NUMPAD_TWO=98;DvtKeyboardEvent.THREE=51;DvtKeyboardEvent.NUMPAD_THREE=99;DvtKeyboardEvent.FOUR=52;DvtKeyboardEvent.NUMPAD_FOUR=100;DvtKeyboardEvent.FIVE=53;DvtKeyboardEvent.NUMPAD_FIVE=101;DvtKeyboardEvent.SIX=54;
DvtKeyboardEvent.NUMPAD_PLUS=107;DvtKeyboardEvent.NUMPAD_MINUS=109;DvtKeyboardEvent.WEBKIT_PLUS=187;DvtKeyboardEvent.WEBKIT_MINUS=189;DvtKeyboardEvent.GECKO_PLUS=61;DvtKeyboardEvent.GECKO_MINUS=173;DvtKeyboardEvent.WEBKIT_SEMICOLON=186;DvtKeyboardEvent.GECKO_SEMICOLON=59;DvtKeyboardEvent.A=65;DvtKeyboardEvent.F=70;DvtKeyboardEvent.L=76;DvtKeyboardEvent.M=77;DvtKeyboardEvent.N=78;DvtKeyboardEvent.PERIOD=190;DvtKeyboardEvent.NUMPAD_PERIOD=110;DvtKeyboardEvent.SINGLE_QUOTE=222;
DvtKeyboardEvent.STAR=56;DvtKeyboardEvent.NUMPAD_STAR=144;DvtKeyboardEvent.OPEN_ANGLED_BRACKET=188;DvtKeyboardEvent.CLOSE_ANGLED_BRACKET=190;DvtKeyboardEvent.GRAVE_ACCENT=192;DvtKeyboardEvent.prototype.Init=function(a,b,c,d,e,g,h,k,m,n,t,u){DvtKeyboardEvent.superclass.Init.call(this,a,null);this.bubbles=b;this.cancelable=c;this.view=d;this.charCode=e;this.keyCode=g;this.location=h;this.ctrlKey=k;this.altKey=m;this.shiftKey=n;this.repeat=t;this.locale=u};
DvtKeyboardEvent.isPlus=function(a){var b=a.keyCode;return b==DvtKeyboardEvent.NUMPAD_PLUS?!0:DvtAgent.isPlatformGecko()?b==DvtKeyboardEvent.GECKO_PLUS&&a.shiftKey?!0:!1:b==DvtKeyboardEvent.WEBKIT_PLUS&&a.shiftKey?!0:!1};DvtKeyboardEvent.isEquals=function(a){var b=a.keyCode;if(DvtAgent.isPlatformGecko()){if(b!=DvtKeyboardEvent.GECKO_PLUS||a.shiftKey)return!1}else if(b!=DvtKeyboardEvent.WEBKIT_PLUS||a.shiftKey)return!1;return!0};
DvtKeyboardEvent.isMinus=function(a){var b=a.keyCode;if(b==DvtKeyboardEvent.NUMPAD_MINUS)return!0;if(DvtAgent.isPlatformGecko()){if(b!=DvtKeyboardEvent.GECKO_MINUS||a.shiftKey)return!1}else if(b!=DvtKeyboardEvent.WEBKIT_MINUS||a.shiftKey)return!1;return!0};DvtKeyboardEvent.isUnderscore=function(a){var b=a.keyCode;return DvtAgent.isPlatformGecko()?b==DvtKeyboardEvent.GECKO_MINUS&&a.shiftKey?!0:!1:b==DvtKeyboardEvent.WEBKIT_MINUS&&a.shiftKey?!0:!1};
DvtKeyboardEvent.isSemicolon=function(a){a=a.keyCode;return DvtAgent.isPlatformGecko()?a==DvtKeyboardEvent.GECKO_SEMICOLON:a==DvtKeyboardEvent.WEBKIT_SEMICOLON};var DvtMouseEvent=function(a,b,c,d,e,g,h,k,m){this.Init(a,b,c,d,e,g,h,k,m)};DvtObj.createSubclass(DvtMouseEvent,DvtBaseEvent,"DvtMouseEvent");DvtMouseEvent.CLICK=DvtObj.defineConstant("click");DvtMouseEvent.DBLCLICK=DvtObj.defineConstant("dblclick");DvtMouseEvent.MOUSEOVER=DvtObj.defineConstant("mouseover");DvtMouseEvent.MOUSEOUT=DvtObj.defineConstant("mouseout");
DvtMouseEvent.MOUSEDOWN=DvtObj.defineConstant("mousedown");DvtMouseEvent.MOUSEUP=DvtObj.defineConstant("mouseup");DvtMouseEvent.MOUSEMOVE=DvtObj.defineConstant("mousemove");DvtMouseEvent.MOUSEWHEEL=DvtObj.defineConstant("mousewheel");DvtMouseEvent.RIGHT_CLICK_BUTTON=2;
DvtMouseEvent.prototype.Init=function(a,b,c,d,e,g,h,k,m,n,t,u,v,w,x){DvtMouseEvent.superclass.Init.call(this,a,null);this.bubbles=b;this.cancelable=c;this.view=d;this.detail=e;this.pageX=g;this.pageY=h;this.clientX=k;this.clientY=m;this.ctrlKey=n||v;this.altKey=t;this.shiftKey=u;this.metaKey=v;this.button=w;this.relatedTarget=x};var DvtTouchEvent=function(){};DvtObj.createSubclass(DvtTouchEvent,DvtBaseEvent,"DvtTouchEvent");DvtTouchEvent.TOUCHSTART=DvtObj.defineConstant("touchstart");
DvtTouchEvent.TOUCHMOVE=DvtObj.defineConstant("touchmove");DvtTouchEvent.TOUCHEND=DvtObj.defineConstant("touchend");DvtTouchEvent.TOUCHCANCEL=DvtObj.defineConstant("touchcancel");DvtTouchEvent.prototype.Init=function(){};var DvtTouch=function(a){this.Init(a)};DvtObj.createSubclass(DvtTouch,DvtObj,"DvtTouch");
DvtTouch.prototype.Init=function(a){this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.pageX=a.pageX;this.pageY=a.pageY;this.target=a.target;this.identifier=null==a.identifier||isNaN(a.identifier)?1:a.identifier};var DvtTouchManager=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtTouchManager,DvtObj,"DvtTouchManager");DvtTouchManager.TOUCH_MODE="mode";DvtTouchManager.TOUCH_MODE_DEFAULT="defaultMode";DvtTouchManager.TOUCH_MODE_LONG_PRESS="longPressMode";
DvtTouchManager.PREV_HOVER_OBJ="prevHoverObj";DvtTouchManager.HOVER_TOUCH_KEY="hoverTouch";
DvtTouchManager.prototype.Init=function(a,b){this._context=b;this._id=a;this._touchCount=0;this._touchHoldTimer=new DvtTimer(this._context,200,this._handleTouchHoldStartTimer,this);this._blockTouchHold=!1;this._touchMap={};this._savedTouchInfo=[];this._addTouchHoldMoveEventListener(this._onTouchHoldHover,this);this._doubleTapTimer=new DvtTimer(this._context,600,this._handleDoubleTapTimer,this,1);this._dvtTouchEvent=null};
DvtTouchManager.prototype.blockTouchHold=function(){this._stopTouchHoldTimer();this._blockTouchHold=!0};DvtTouchManager.prototype.unblockTouchHold=function(){this._blockTouchHold=!1};DvtTouchManager.prototype._addTouchHoldMoveEventListener=function(a,b){this.addTouchEventListener(DvtComponentTouchEvent.TOUCH_HOLD_START_TYPE,a,b);this.addTouchEventListener(DvtComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE,a,b);this.addTouchEventListener(DvtComponentTouchEvent.TOUCH_HOLD_END_TYPE,a,b)};
DvtTouchManager.prototype._onTouchHoldHover=function(a){var b=a.getType(),c=a.touch,d=a.getNativeEvent(),e=this._touchMap[c.identifier];a=a.target;b==DvtComponentTouchEvent.TOUCH_HOLD_END_TYPE?(b=new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOVER_END_TYPE,c,a,null,d),b._isCancelEvent=this._isCancelEvent,null!=a&&this.FireListener(new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,c,a,null,d)),e[DvtTouchManager.PREV_HOVER_OBJ]=null,this.FireListener(b)):b==DvtComponentTouchEvent.TOUCH_HOLD_START_TYPE?
(e[DvtTouchManager.PREV_HOVER_OBJ]=null,null!=a&&this.FireListener(new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,c,a,null,d)),e[DvtTouchManager.PREV_HOVER_OBJ]=a,this.FireListener(new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOVER_START_TYPE,c,a,null,d))):b==DvtComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE&&(this._fireHoverOverOutEvents(a,e[DvtTouchManager.PREV_HOVER_OBJ],c,d),e[DvtTouchManager.PREV_HOVER_OBJ]=a,this.FireListener(new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,
c,a,null,d)))};DvtTouchManager.prototype._getObjFromTouch=function(a){var b=null;if(a){var c=this._context.getDocumentUtils();c&&(b=c.elementFromTouch(a))}return b};DvtTouchManager.prototype._fireHoverOverOutEvents=function(a,b,c,d){b!=a&&(null!=b&&this.FireListener(new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,c,b,a,d)),null!=a&&this.FireListener(new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,c,a,b,d)))};
DvtTouchManager.prototype.addTouchEventListener=function(a,b,c){a=this._getListeners(a,!0);a.push(b);a.push(c)};DvtTouchManager.prototype.removeTouchEventListener=function(a,b,c){if(a=this._getListeners(a,!1))for(var d=0;d<a.length;d+=2)if(a[d]===b&&a[d+1]===c){a.splice(d,2);break}};DvtTouchManager.prototype._getListeners=function(a,b){if(!this._listenerObj)if(b)this._listenerObj={};else return null;var c=this._listenerObj[a];!c&&b&&(c=[],this._listenerObj[a]=c);return c};
DvtTouchManager.prototype.FireListener=function(a){var b=this._getListeners(a.getType(),!1);if(b)for(var c=0;c<b.length;c+=2)b[c].call(b[c+1],a)};
DvtTouchManager.prototype.startTouchHold=function(a){var b=this._startSingleFingerTouchId;if(null!=b&&!isNaN(b)){var c=this._touchMap[b];if(c){var d=c.startTarget,e=c.startTouch;a=a.getNativeEvent();for(var g=this._findMatches("touchId",b),h=0;h<g.length;h++){var k=g[h],m=k.touchObj,k=k.touchId;m!=DvtTouchManager.HOVER_TOUCH_KEY&&(k=this.getTouchInfo(k).startTouch,this.performAssociatedTouchEnd(k,m,null))}c[DvtTouchManager.TOUCH_MODE]=DvtTouchManager.TOUCH_MODE_LONG_PRESS;this.saveProcessedTouch(b,
DvtTouchManager.HOVER_TOUCH_KEY,null,DvtTouchManager.HOVER_TOUCH_KEY,DvtTouchManager.HOVER_TOUCH_KEY,this.HoverMoveInternal,this.HoverEndInternal,this);b=new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOLD_START_TYPE,e,d,null,a);this.FireListener(b)}}};
DvtTouchManager.prototype.fireLogicalEvents=function(a){var b=a.type,c=a.getNativeEvent();b==DvtTouchEvent.TOUCHSTART?(a.isTouchHoldBlocked()||this.processAssociatedTouchAttempt(a,DvtTouchManager.HOVER_TOUCH_KEY,this.HoverStartInternal,this),this._doubleTapAttemptStarted&&a.preventDefault()):b==DvtTouchEvent.TOUCHMOVE?this.processAssociatedTouchMove(a,DvtTouchManager.HOVER_TOUCH_KEY):b==DvtTouchEvent.TOUCHEND&&this.processAssociatedTouchEnd(a,DvtTouchManager.HOVER_TOUCH_KEY);if(b==DvtTouchEvent.TOUCHEND)for(var b=
this._getStoredTouches(a.changedTouches),d=0;d<b.length;d++){var e=b[d],g=this.getTouchInfo(e.identifier),h=g.currentObj;g[DvtTouchManager.TOUCH_MODE]!=DvtTouchManager.TOUCH_MODE_LONG_PRESS&&g.fireClick&&(g=new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_CLICK_TYPE,e,h,null,c),g.touchEvent=a,this.FireListener(g),this._doubleTapAttemptStarted?(g=this._doubleTapAttemptObj,this.resetDoubleTap(),h==g&&(e=new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,e,h,null,c),e.touchEvent=
a,this.FireListener(e))):(this.resetDoubleTap(),this._doubleTapTimer.start(),this._doubleTapAttemptStarted=!0,this._doubleTapAttemptObj=h))}};DvtTouchManager.prototype.getTouchInfo=function(a){return this._touchMap[a]};DvtTouchManager.prototype.HoverStartInternal=function(a,b){this._blockTouchHold||(this._startSingleFingerTouchId=b.identifier,this._stopTouchHoldTimer(),this._startTouchHoldTimer(a))};
DvtTouchManager.prototype.HoverMoveInternal=function(a,b){var c=this.getTouchInfo(b.identifier).currentObj,c=new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE,b,c,null,a.getNativeEvent());this.FireListener(c);a.preventDefault()};DvtTouchManager.prototype.HoverEndInternal=function(a,b){var c=this.getTouchInfo(b.identifier).currentObj,c=new DvtComponentTouchEvent(DvtComponentTouchEvent.TOUCH_HOLD_END_TYPE,b,c,null,a.getNativeEvent());this.FireListener(c);a&&a.preventDefault()};
DvtTouchManager.prototype.resetTouchHold=function(){this._startSingleFingerTouchId=null;this._stopTouchHoldTimer()};DvtTouchManager.prototype.preEventBubble=function(a){a.setTouchManager&&a.setTouchManager(this);var b=a.type;b==DvtTouchEvent.TOUCHSTART?this.processTouchStart(a):b==DvtTouchEvent.TOUCHMOVE?this.processTouchMove(a):b==DvtTouchEvent.TOUCHEND&&this.processTouchEnd(a)};
DvtTouchManager.prototype.postEventBubble=function(a){var b=a.type;if(b!=DvtTouchEvent.TOUCHSTART&&b!=DvtTouchEvent.TOUCHMOVE&&b==DvtTouchEvent.TOUCHEND)for(a=this._getStoredTouches(a.changedTouches),b=0;b<a.length;b++){var c=a[b].identifier;delete this._touchMap[c];this._startSingleFingerTouchId==c&&(this._startSingleFingerTouchId=null);for(var c=this._findMatches("touchId",c),d=0;d<c.length;d++){var e=c[d];this.removeTooltipInfo(e.touchId,e.touchObj)}}};
DvtTouchManager.prototype.saveProcessedTouch=function(a,b,c,d,e,g,h,k){return null==a||isNaN(a)?!1:(a=DvtTouchManager.createSavedTouchInfo(a,b,c,d,e,g,h,k),this._savedTouchInfo.push(a),!0)};DvtTouchManager.prototype.saveProcessedTouchDefault=function(a,b,c,d,e,g){var h=null;g.immediateTouchMoved&&(h=g.immediateTouchMoved);var k=null;g.immediateTouchEnded&&(k=g.immediateTouchEnded);this.saveProcessedTouch(a,b,c,d,e,h,k,g)};
DvtTouchManager.prototype.processAssociatedTouch=function(a,b,c,d){var e=a.type;e==DvtTouchEvent.TOUCHSTART?this.processAssociatedTouchAttempt(a,b,c,d):e==DvtTouchEvent.TOUCHMOVE?this.processAssociatedTouchMove(a,b):e==DvtTouchEvent.TOUCHEND&&this.processAssociatedTouchEnd(a,b)};DvtTouchManager.prototype.processAssociatedTouchDefault=function(a,b){this.processAssociatedTouch(a,b,b.immediateTouchAttempted,b)};
DvtTouchManager.prototype.cancelTouchHold=function(){for(var a=DvtTouchManager.HOVER_TOUCH_KEY,b=this.getTouchIdsForObj(a),c=0;c<b.length;c++){var d=b[c],e=this.getTouchInfo(d).startTouch;e&&(this._isCancelEvent=!0,this.performAssociatedTouchEnd(e,a,null),this._isCancelEvent=!1,delete this._touchMap[d])}};
DvtTouchManager.prototype.performAssociatedTouchEnd=function(a,b,c){var d=a.identifier,e=this.getSavedTouchInfo(d,b);if(e){var g=e.listenerObj,h=e.endListener;this.removeTooltipInfo(d,b);h&&h.call(g,c,a,e)}};DvtTouchManager.prototype.processAssociatedTouchAttempt=function(a,b,c,d){b=a.changedTouches;for(var e=0;e<b.length;e++){var g=b[e];g&&c&&c.call(d,a,g)}};
DvtTouchManager.prototype.processAssociatedTouchMove=function(a,b){for(var c=this.getTouchIdsForObj(b),d=0;d<c.length;d++){var e=c[d];if(null!=e&&!isNaN(e)&&(e=DvtTouchManager.getTouchById(e,this._getStoredTouches(a.changedTouches)))){var g=this.getSavedTouchInfo(e.identifier,b);if(g){var h=g.listenerObj;(g=g.moveListener)&&g.call(h,a,e)}}}};
DvtTouchManager.prototype.processAssociatedTouchEnd=function(a,b){for(var c=this.getTouchIdsForObj(b),d=0;d<c.length;d++){var e=DvtTouchManager.getTouchById(c[d],this._getStoredTouches(a.changedTouches));e&&this.performAssociatedTouchEnd(e,b,a)}};DvtTouchManager.prototype._findMatch=function(a,b){for(var c=-1,d=0;d<this._savedTouchInfo.length;d++)this._savedTouchInfo[d][a]==b&&(c=d);return c};
DvtTouchManager.prototype._findMatches=function(a,b){for(var c=[],d=0;d<this._savedTouchInfo.length;d++){var e=this._savedTouchInfo[d];e[a]==b&&c.push(e)}return c};DvtTouchManager.prototype.getSavedTouchInfo=function(a,b){for(var c=this._findMatches("touchId",a),d=0;d<c.length;d++){var e=c[d];if(e.touchObj==b)return e}return null};DvtTouchManager.prototype.containsTouchId=function(a){return 0<this._findMatches("touchId",a).length};
DvtTouchManager.prototype.getTouchIdsForObj=function(a){var b=[];a=this._findMatches("touchObj",a);for(var c=0;c<a.length;c++)b.push(a[c].touchId);return b};
DvtTouchManager.prototype.removeTooltipInfo=function(a,b){for(var c=this._findMatches("touchId",a),d=[],e=0;e<c.length;e++){var g=c[e];g.touchObj==b&&d.push(g)}for(e=0;e<d.length;e++){for(var c=d[e],h=-1,k=0;k<this._savedTouchInfo.length;k++)g=this._savedTouchInfo[k],g==c&&(h=k);-1!=h&&(this._savedTouchInfo.splice(h,1),0==this._savedTouchInfo.length&&this._context.getTooltipManager().hideTooltip())}};
DvtTouchManager.prototype.setTooltipEnabled=function(a,b){for(var c=this._savedTouchInfo,d=0;d<c.length;d++){var e=c[d];e.touchId==a&&(e.allowTooltips=b)}};
DvtTouchManager.prototype.getTooltipInfo=function(){for(var a={},b=[],c=null,d=null,e=!1,g=this._findMatches("allowTooltips",!0),h=0;h<g.length;h++){var c=g[h],k=c.touchId;d?c.grouping!=d&&(e=!0):d=c.grouping;var m,n=this._touchMap[k];n&&(m=n.currentObj);c.tooltipObjOverride&&(m=c.tooltipObjOverride);b.push(k);c=m}e&&(b=[]);a.touchIds=b;a.tooltipTarget=c;return a};DvtTouchManager.prototype.containsGrouping=function(a){return 0<this._findMatches("grouping",a).length};
DvtTouchManager.prototype.processTouchStart=function(a){var b=a.changedTouches;this._touchCount=a.touches.length;for(var c=0;c<b.length;c++){var d=b[c],e=d.screenX,g=d.screenY,h=d.identifier,k=this._getObjFromTouch(d),d={x:e,y:g,prevX:e,prevY:g,pageX:d.pageX,pageY:d.pageY,prevPageX:d.pageX,prevPageY:d.pageY,dx:0,dy:0,fireClick:!0,startTarget:k,currentObj:k,touchMoved:!1,touchtype:null,startTouch:d};d[DvtTouchManager.TOUCH_MODE]=DvtTouchManager.TOUCH_MODE_DEFAULT;d.origx=e;d.origy=g;this._touchMap[h]=
d}!this._isHovering()&&this._isTouchHoldAllowed()||a.blockTouchHold();return!0};DvtTouchManager.prototype._isTouchHoldAllowed=function(){var a=!1,b=0,c;for(c in this._touchMap)this.getTouchInfo(c).touchMoved&&(a=!0),b++;return 1<b&&!a?(this.resetTouchHold(),!1):!0};DvtTouchManager.prototype._isHovering=function(){for(var a in this._touchMap)if(this.getTouchInfo(a)[DvtTouchManager.TOUCH_MODE]==DvtTouchManager.TOUCH_MODE_LONG_PRESS)return!0;return!1};
DvtTouchManager.prototype._getStoredTouches=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];this.getTouchInfo(d.identifier)&&b.push(d)}return b};
DvtTouchManager.prototype.processTouchMove=function(a){var b=this._getStoredTouches(a.changedTouches);a=this._getStoredTouches(a.touches);for(var c=0;c<b.length;c++){var d=b[c],e=this._getObjFromTouch(d),g=d.identifier,h=this.getTouchInfo(g);h.currentObj=e;h.touchMoved=!0;h[DvtTouchManager.TOUCH_MODE]!=DvtTouchManager.TOUCH_MODE_LONG_PRESS&&(e=Math.abs(h.pageX-d.pageX),d=Math.abs(h.pageY-d.pageY),this._startSingleFingerTouchId==g&&(0<e||0<d)&&this.resetTouchHold(),h.touchMoved=3<e||3<d);h.fireClick&&
h[DvtTouchManager.TOUCH_MODE]!=DvtTouchManager.TOUCH_MODE_LONG_PRESS&&h.currentObj!=h.startTarget&&(h.fireClick=!1)}for(c=0;c<a.length;c++){var d=a[c],h=this.getTouchInfo(d.identifier),b=d.screenX,g=d.screenY,e=b-h.x,k=g-h.y;h.prevX=h.x;h.prevY=h.y;h.dx=e;h.dy=k;h.x=b;h.y=g;h.prevPageX=h.pageX;h.prevPageY=h.pageY;h.pageX=d.pageX;h.pageY=d.pageY}return!0};
DvtTouchManager.prototype.processTouchEnd=function(a){var b=a.changedTouches;this._touchCount=a.touches.length;for(a=0;a<b.length;a++){var c=b[a],d=this._getObjFromTouch(c);if((c=this.getTouchInfo(c.identifier))&&c.fireClick)if(c[DvtTouchManager.TOUCH_MODE]==DvtTouchManager.TOUCH_MODE_LONG_PRESS)this._startSingleFingerTouchId=null;else{var e=c.touchMoved;c.fireClick=d==c.startTarget&&!e}}this._context.clearStageAbsolutePosition();return!0};
DvtTouchManager.getTouchById=function(a,b){if(null!=a&&!isNaN(a))for(var c=0;c<b.length;c++){var d=b[c];if(d.identifier==a)return d}return null};DvtTouchManager.createSavedTouchInfo=function(a,b,c,d,e,g,h,k){a={touchId:a,tooltipObjOverride:c,grouping:d,type:e,touchObj:b,allowTooltips:!0};a.moveListener=g;a.endListener=h;a.listenerObj=k;return a};DvtTouchManager.prototype._handleTouchHoldStartTimer=function(){var a=this._dvtTouchEvent;this._stopTouchHoldTimer();this.startTouchHold(a)};
DvtTouchManager.prototype._startTouchHoldTimer=function(a){this._dvtTouchEvent=a;this._touchHoldTimer&&this._touchHoldTimer.start()};DvtTouchManager.prototype._stopTouchHoldTimer=function(){this._dvtTouchEvent=null;this._touchHoldTimer&&this._touchHoldTimer.stop()};DvtTouchManager.prototype._handleDoubleTapTimer=function(){this.resetDoubleTap()};DvtTouchManager.prototype.resetDoubleTap=function(){this._doubleTapAttemptStarted=!1;this._doubleTapAttemptObj=null;this._doubleTapTimer.stop()};
DvtTouchManager.prototype.getMultiTouchData=function(a){if(2==a.length){var b=this._touchMap[a[0]];a=this._touchMap[a[1]];if(null==b||null==a||0==b.dx&&0==a.dy)return null;var c=b.pageX-a.pageX,d=b.pageY-a.pageY,c=Math.sqrt(c*c+d*d),d=b.prevPageX-a.prevPageX,e=b.prevPageY-a.prevPageY,d=Math.sqrt(d*d+e*e),e=(b.pageX+a.pageX)/2,g=(b.pageY+a.pageY)/2;return{dz:c-d,cx:e,cy:g,dcx:e-(b.prevPageX+a.prevPageX)/2,dcy:g-(b.prevPageY+a.prevPageY)/2,dist:c}}return null};
DvtTouchManager.prototype.getMultiTouchDelta=function(a){if(a){var b,c;if(2==a.length){b=this._touchMap[a[0]];var d=this._touchMap[a[1]];if(null==b||null==d)return;null==b.touchtype&&(c=this._determineTouchDirection(b),null!=c&&(d=this._determineTouchDirection(d),null!=d&&(c=this._isSameDirection(c,d)?"scroll":"pinch",b.touchtype=c)));c=b.touchtype;if(null==c)return;if("pinch"==c)return null}for(var e=d=c=0;e<a.length;e++)b=this._touchMap[a[e]],c+=b.dx,d+=b.dy;c/=a.length;d/=a.length;return{deltaX:1*
c,deltaY:1*d}}return null};DvtTouchManager.prototype._isSameDirection=function(a,b){return a==b?!0:2==a.length&&1==b.length?a.charAt(0)==b||a.charAt(1)==b:1==a.length&&2==b.length?a==b.charAt(0)||b==a.charAt(1):!1};
DvtTouchManager.prototype._determineTouchDirection=function(a){var b=a.origx,c=a.origy;if(null==b||null==c)return null;b=a.x-b;a=a.y-c;if(Math.sqrt(Math.pow(b,2)+Math.pow(a,2))<.01*window.innerWidth)return null;c=null;.25<=Math.abs(b/a)&&(c=0>b?"l":"r");var d=null;.25<=Math.abs(a/b)&&(d=0>a?"u":"d");return null!=c&&null!=d?d+c:null==c?d:null==d?c:null};
DvtTouchManager.prototype.calcAveragePosition=function(a){for(var b=0,c=0,d=a.length,e=0;e<d;e++)var g=this.getTouchInfo(a[e]),b=b+g.pageX,c=c+g.pageY;return new DvtPoint(b/d,c/d)};DvtTouchManager.prototype.getStartTargetsByIds=function(a){for(var b=[],c=0;c<a.length;c++){var d=this.getTouchInfo(a[c]);b.push(d.startTarget)}return b};DvtTouchManager.prototype.reset=function(){this._touchMap={};this._savedTouchInfo=[];this.resetTouchHold();this.resetDoubleTap()};
var DvtListItemEvent=function(a,b,c,d){this.Init(DvtListItemEvent.TYPE);this._listItemId=a;this._attrGroupId=b;this._showHide=c;this._evt=d};DvtListItemEvent.TYPE="listItemShowHide";DvtListItemEvent.SHOW="show";DvtListItemEvent.HIDE="hide";DvtObj.createSubclass(DvtListItemEvent,DvtBaseComponentEvent,"DvtListItemEvent");DvtListItemEvent.prototype.getNativeEvent=function(){return this._evt};DvtListItemEvent.prototype.getListItemId=function(){return this._listItemId};
DvtListItemEvent.prototype.getShowHide=function(){return this._showHide};DvtListItemEvent.prototype.getAttributeGroupId=function(){return this._attrGroupId};var ViewportChangeEvent=function(a,b,c){this.Init(ViewportChangeEvent.TYPE);this._oldDim=a;this._newDim=b;this._evt=c};ViewportChangeEvent.TYPE="viewportChange";DvtObj.createSubclass(ViewportChangeEvent,DvtBaseComponentEvent,"ViewportChangeEvent");ViewportChangeEvent.prototype.getNativeEvent=function(){return this._evt};
ViewportChangeEvent.prototype.getOldDimensions=function(){return this._oldDim};ViewportChangeEvent.prototype.getNewDimensions=function(){return this._newDim};var DvtActionTooltipEvent=function(a,b){this.Init(a);this.target=b};DvtActionTooltipEvent.TOOLTIP_CLOSED_TYPE="actiontooltipclosed";DvtActionTooltipEvent.TOOLTIP_STARTED_TYPE="actiontooltipstarted";DvtObj.createSubclass(DvtActionTooltipEvent,DvtBaseComponentEvent,"DvtActionTooltipEvent");
DvtActionTooltipEvent.prototype.Init=function(a){DvtActionTooltipEvent.superclass.Init.call(this,a)};var DvtComponentTouchEvent=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtComponentTouchEvent.TOUCH_HOLD_START_TYPE="touchholdstart";DvtComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE="touchholdmove";DvtComponentTouchEvent.TOUCH_HOLD_END_TYPE="touchholdend";DvtComponentTouchEvent.TOUCH_HOVER_START_TYPE="touchhoverstart";DvtComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE="touchhovermove";
DvtComponentTouchEvent.TOUCH_HOVER_END_TYPE="touchhoverend";DvtComponentTouchEvent.TOUCH_HOVER_OVER_TYPE="touchhoverover";DvtComponentTouchEvent.TOUCH_HOVER_OUT_TYPE="touchhoverout";DvtComponentTouchEvent.TOUCH_CLICK_TYPE="touchclick";DvtComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE="touchdblclick";DvtObj.createSubclass(DvtComponentTouchEvent,DvtBaseComponentEvent,"DvtComponentTouchEvent");
DvtComponentTouchEvent.prototype.Init=function(a,b,c,d,e){DvtComponentTouchEvent.superclass.Init.call(this,a);this.target=c;this.touch=b;this.relatedTarget=d;this._isPropagationStopped=!1;this._nativeEvent=e};DvtComponentTouchEvent.prototype.preventDefault=function(){};DvtComponentTouchEvent.prototype.stopPropagation=function(){this._isPropagationStopped=!0};DvtComponentTouchEvent.prototype.isPropagationStopped=function(){return this._isPropagationStopped};
DvtComponentTouchEvent.prototype.getNativeEvent=function(){return this._nativeEvent};var DvtResizeEvent=function(a,b,c,d){this.Init(DvtResizeEvent.RESIZE_EVENT,a,b,c,d)};DvtObj.createSubclass(DvtResizeEvent,DvtBaseEvent,"DvtResizeEvent");DvtResizeEvent.RESIZE_EVENT="dvtResizeEvent";DvtResizeEvent.prototype.Init=function(a,b,c,d,e){DvtResizeEvent.superclass.Init.call(this,a);this._ww=b;this._hh=c;this._xx=d;this._yy=e};DvtResizeEvent.prototype.getWidth=function(){return this._ww};
DvtResizeEvent.prototype.getHeight=function(){return this._hh};DvtResizeEvent.prototype.getX=function(){return this._xx};DvtResizeEvent.prototype.getY=function(){return this._yy};var DvtScrollEvent=function(a,b){this.Init(DvtScrollEvent.SCROLL_EVENT,a,b)};DvtObj.createSubclass(DvtScrollEvent,DvtBaseEvent,"DvtScrollEvent");DvtScrollEvent.SCROLL_EVENT="dvtScrollEvent";DvtScrollEvent.prototype.Init=function(a,b,c){DvtScrollEvent.superclass.Init.call(this,a);this._x=b;this._y=c};
DvtScrollEvent.prototype.getX=function(){return this._x};DvtScrollEvent.prototype.getY=function(){return this._y};var DvtMarqueeEvent=function(a,b,c,d,e,g){this.Init(DvtMarqueeEvent.TYPE);this.subtype=a;this.x=b;this.y=c;this.w=d;this.h=e;this.ctrlKey=g};DvtObj.createSubclass(DvtMarqueeEvent,DvtBaseComponentEvent,"DvtMarqueeEvent");DvtMarqueeEvent.TYPE="dvtMarquee";DvtMarqueeEvent.SUBTYPE_START="dvtMarqueeStartEvent";DvtMarqueeEvent.SUBTYPE_MOVE="dvtMarqueeMoveEvent";DvtMarqueeEvent.SUBTYPE_END="dvtMarqueeEndEvent";
DvtMarqueeEvent.prototype.getSubtype=function(){return this.subtype};var DvtPanZoomEvent=function(a,b,c,d,e,g,h,k,m){this.Init(DvtPanZoomEvent.TYPE);this.subtype=a;this.dxMin=b;this.dxMax=c;this.dyMin=d;this.dyMax=e;this.dxMinTotal=g;this.dxMaxTotal=h;this.dyMinTotal=k;this.dyMaxTotal=m};DvtObj.createSubclass(DvtPanZoomEvent,DvtBaseComponentEvent,"DvtPanZoomEvent");DvtPanZoomEvent.TYPE="dvtPanZoom";DvtPanZoomEvent.SUBTYPE_PAN_START="dvtPanStartEvent";DvtPanZoomEvent.SUBTYPE_PAN_MOVE="dvtPanMoveEvent";
DvtPanZoomEvent.SUBTYPE_PAN_END="dvtPanEndEvent";DvtPanZoomEvent.SUBTYPE_ZOOM="dvtZoomEvent";DvtPanZoomEvent.SUBTYPE_PINCH_START="dvtPinchStartEvent";DvtPanZoomEvent.SUBTYPE_PINCH_MOVE="dvtPinchMoveEvent";DvtPanZoomEvent.SUBTYPE_PINCH_END="dvtPinchEndEvent";DvtPanZoomEvent.prototype.getSubtype=function(){return this.subtype};var DvtSimpleScrollbarEvent=function(a,b,c){this.Init(DvtSimpleScrollbarEvent.TYPE);this._subtype=a;this._newMin=b;this._newMax=c};
DvtObj.createSubclass(DvtSimpleScrollbarEvent,DvtBaseComponentEvent,"DvtSimpleScrollbarEvent");DvtSimpleScrollbarEvent.TYPE="dvtSimpleScrollbar";DvtSimpleScrollbarEvent.SUBTYPE_MOVE="dvtMoveEvent";DvtSimpleScrollbarEvent.SUBTYPE_END="dvtEndEvent";DvtSimpleScrollbarEvent.prototype.getSubtype=function(){return this._subtype};DvtSimpleScrollbarEvent.prototype.getNewMin=function(){return this._newMin};DvtSimpleScrollbarEvent.prototype.getNewMax=function(){return this._newMax};
var Dvt3rdPartyPathUtils={};DvtObj.createSubclass(Dvt3rdPartyPathUtils,DvtObj,"Dvt3rdPartyPathUtils");Dvt3rdPartyPathUtils.lineLinear=function(a){return a.join("L")};Dvt3rdPartyPathUtils.lineCardinalClosed=function(a,b){return 3>a.length?Dvt3rdPartyPathUtils.lineLinear(a):a[0]+Dvt3rdPartyPathUtils.lineHermite((a.push(a[0]),a),Dvt3rdPartyPathUtils.lineCardinalTangents([a[a.length-2]].concat(a,[a[1]]),b))};
Dvt3rdPartyPathUtils.lineCardinal=function(a,b){return 3>a.length?Dvt3rdPartyPathUtils.lineLinear(a):a[0]+Dvt3rdPartyPathUtils.lineHermite(a,Dvt3rdPartyPathUtils.lineCardinalTangents(a,b))};
Dvt3rdPartyPathUtils.lineHermite=function(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Dvt3rdPartyPathUtils.lineLinear(a);var c=a.length!=b.length,d="",e=a[0],g=a[1],h=b[0],k=h,m=1;c&&(d+="Q"+Math.round(g[0]-2*h[0]/3)+","+Math.round(g[1]-2*h[1]/3)+","+Math.round(g[0])+","+Math.round(g[1]),e=a[1],m=2);if(1<b.length)for(k=b[1],g=a[m],m++,d+="C"+Math.round(e[0]+h[0])+","+Math.round(e[1]+h[1])+","+Math.round(g[0]-k[0])+","+Math.round(g[1]-k[1])+","+Math.round(g[0])+","+Math.round(g[1]),
e=2;e<b.length;e++,m++)g=a[m],k=b[e],d+="S"+Math.round(g[0]-k[0])+","+Math.round(g[1]-k[1])+","+Math.round(g[0])+","+Math.round(g[1]);c&&(c=a[m],d+="Q"+Math.round(g[0]+2*k[0]/3)+","+Math.round(g[1]+2*k[1]/3)+","+Math.round(c[0])+","+Math.round(c[1]));return d};Dvt3rdPartyPathUtils.lineCardinalTangents=function(a,b){for(var c=[],d=(1-b)/2,e,g=a[0],h=a[1],k=1,m=a.length;++k<m;)e=g,g=h,h=a[k],c.push([d*(h[0]-e[0]),d*(h[1]-e[1])]);return c};
Dvt3rdPartyPathUtils.lineSlope=function(a,b){return(b[1]-a[1])/(b[0]-a[0])};Dvt3rdPartyPathUtils.lineFiniteDifferences=function(a){for(var b=0,c=a.length-1,d=[],e=a[1],g=d[0]=Dvt3rdPartyPathUtils.lineSlope(a[0],e);++b<c;)d[b]=(g+(g=Dvt3rdPartyPathUtils.lineSlope(e,e=a[b+1])))/2;d[b]=g;return d};
Dvt3rdPartyPathUtils.lineMonotoneTangents=function(a,b){b&&(a=Dvt3rdPartyPathUtils._rotatePoints(a));for(var c=[],d,e,g,h,k=Dvt3rdPartyPathUtils.lineFiniteDifferences(a),m=-1,n=a.length-1;++m<n;)d=Dvt3rdPartyPathUtils.lineSlope(a[m],a[m+1]),1E-6>Math.abs(d)?k[m]=k[m+1]=0:(e=k[m]/d,g=k[m+1]/d,h=e*e+g*g,9<h&&(h=3*d/Math.sqrt(h),k[m]=h*e,k[m+1]=h*g));for(m=-1;++m<=n;)h=(a[Math.min(n,m+1)][0]-a[Math.max(0,m-1)][0])/(6*(1+k[m]*k[m])),c.push([h||0,k[m]*h||0]);b&&(c=Dvt3rdPartyPathUtils._rotatePoints(c));
return c};Dvt3rdPartyPathUtils.lineMonotone=function(a,b){return 3>a.length?Dvt3rdPartyPathUtils.lineLinear(a):a[0]+Dvt3rdPartyPathUtils.lineHermite(a,Dvt3rdPartyPathUtils.lineMonotoneTangents(a,b))};Dvt3rdPartyPathUtils._rotatePoints=function(a){for(var b=[],c=0;c<a.length;c++)b.push([a[c][1],a[c][0]]);return b};var DvtDisplayableUtils=function(){};DvtObj.createSubclass(DvtDisplayableUtils,DvtObj,"DvtDisplayableUtils");
DvtDisplayableUtils.getDimensionsForced=function(a,b){var c=b.getParent(),d;c&&(d=c.getChildIndex(b));var e=a.getStage();e.addChild(b);var g=b.getDimensions();e.removeChild(b);c&&c.addChildAt(b,d);return g};DvtDisplayableUtils.getDimForced=function(a,b){if(b._dim||!a)return b._dim;var c=DvtDisplayableUtils.getDimensionsForced(a,b);DvtDisplayableUtils._setDimForced(b,c);return c};DvtDisplayableUtils._setDimForced=function(a,b){a._dim=b};
DvtDisplayableUtils.isAncestor=function(a,b){for(var c=b;c;){if(c==a)return!0;c instanceof DvtContainer&&(c=c.getParent())}return!1};var DvtPathUtils={};DvtObj.createSubclass(DvtPathUtils,DvtObj,"DvtPathUtils");DvtPathUtils.SPLINE_TYPE_MONOTONE_VERTICAL="mv";DvtPathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL="mh";DvtPathUtils.SPLINE_TYPE_CARDINAL_CLOSED="cc";DvtPathUtils.SPLINE_TYPE_CARDINAL="c";DvtPathUtils.moveTo=function(a,b){return"M"+DvtToolkitUtils.roundDecimal(a)+","+DvtToolkitUtils.roundDecimal(b)};
DvtPathUtils.lineTo=function(a,b){return"L"+DvtToolkitUtils.roundDecimal(a)+","+DvtToolkitUtils.roundDecimal(b)};DvtPathUtils.quadTo=function(a,b,c,d){return"Q"+DvtToolkitUtils.roundDecimal(a)+","+DvtToolkitUtils.roundDecimal(b)+","+DvtToolkitUtils.roundDecimal(c)+","+DvtToolkitUtils.roundDecimal(d)};
DvtPathUtils.cubicTo=function(a,b,c,d,e,g){return"C"+DvtToolkitUtils.roundDecimal(a)+","+DvtToolkitUtils.roundDecimal(b)+","+DvtToolkitUtils.roundDecimal(c)+","+DvtToolkitUtils.roundDecimal(d)+","+DvtToolkitUtils.roundDecimal(e)+","+DvtToolkitUtils.roundDecimal(g)};DvtPathUtils.arcTo=function(a,b,c,d,e,g){a="A"+DvtToolkitUtils.roundDecimal(a)+","+DvtToolkitUtils.roundDecimal(b)+",0,";a=c>Math.PI?a+"1,":a+"0,";return a+=d+","+DvtToolkitUtils.roundDecimal(e)+","+DvtToolkitUtils.roundDecimal(g)};
DvtPathUtils.closePath=function(){return"Z"};DvtPathUtils.roundedRectangle=function(a,b,c,d,e,g,h,k){return DvtPathUtils.moveTo(a+e,b)+DvtPathUtils.lineTo(a+c-g,b)+DvtPathUtils.arcTo(g,g,Math.PI/2,1,a+c,b+g)+DvtPathUtils.lineTo(a+c,b+d-h)+DvtPathUtils.arcTo(h,h,Math.PI/2,1,a+c-h,b+d)+DvtPathUtils.lineTo(a+k,b+d)+DvtPathUtils.arcTo(k,k,Math.PI/2,1,a,b+d-k)+DvtPathUtils.lineTo(a,b+e)+DvtPathUtils.arcTo(e,e,Math.PI/2,1,a+e,b)+DvtPathUtils.closePath()};
DvtPathUtils.polyline=function(a,b){if(2>a.length)return"";for(var c=b?DvtPathUtils.lineTo(a[0],a[1]):DvtPathUtils.moveTo(a[0],a[1]),d=2;d<a.length;d+=2)c+=DvtPathUtils.lineTo(a[d],a[d+1]);return c};
DvtPathUtils.curveThroughPoints=function(a,b,c){if(0==a.length)return"";for(var d=[],e=0;e<a.length;e+=2)d.push([a[e],a[e+1]]);a=b?"L":"M";return c==DvtPathUtils.SPLINE_TYPE_MONOTONE_VERTICAL?a+Dvt3rdPartyPathUtils.lineMonotone(d,!1):c==DvtPathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL?a+Dvt3rdPartyPathUtils.lineMonotone(d,!0):c==DvtPathUtils.SPLINE_TYPE_CARDINAL_CLOSED?a+Dvt3rdPartyPathUtils.lineCardinalClosed(d,.7):a+Dvt3rdPartyPathUtils.lineCardinal(d,.7)};
DvtPathUtils.createPathArray=function(a){if(!a)return null;a=a.replace(/([mlqhvzca])/gi,",$1,").split(/[ ,]/g);var b=a.length,c;for(c=0;c<b;c++){var d=a[c];d?isNaN(d)||(a[c]=parseFloat(d)):(a.splice(c,1),c--,b--)}return a};
DvtPathUtils.getDimensions=function(a){if(!a||!a.length)return new DvtRectangle;var b=a.length,c,d,e,g=!0,h,k,m=Number.MAX_VALUE,n=Number.MIN_VALUE,t=Number.MAX_VALUE,u=Number.MIN_VALUE,v=[],w,x;for(w=0;w<b;w++){h=!1;var y=0;x=0;c=a[w];switch(c){case "m":h=!0;case "M":do c=a[w+1],k=a[w+2],g?g=!1:h&&(c+=d,k+=e),d=c,e=k,v[x++]=c,v[x++]=k,y++,w+=2;while(!isNaN(a[w+1]));break;case "c":h=!0;case "C":do c=a[w+5],k=a[w+6],h&&(c+=d,k+=e),d=c,e=k,v[x++]=c,v[x++]=k,y++,w+=6;while(!isNaN(a[w+1]));break;case "q":h=
!0;case "Q":do c=a[w+3],k=a[w+4],h&&(c+=d,k+=e),d=c,e=k,v[x++]=c,v[x++]=k,y++,w+=4;while(!isNaN(a[w+1]));break;case "l":h=!0;case "L":do c=a[w+1],k=a[w+2],h&&(c+=d,k+=e),d=c,e=k,v[x++]=c,v[x++]=k,y++,w+=2;while(!isNaN(a[w+1]));break;case "h":h=!0;case "H":do c=a[w+1],h&&(c+=d),d=c,v[x++]=c,v[x++]=e,y++,w+=1;while(!isNaN(a[w+1]));break;case "v":h=!0;case "V":do k=a[w+1],h&&(k+=e),e=k,v[x++]=d,v[x++]=k,y++,w+=1;while(!isNaN(a[w+1]))}for(h=x=0;h<y;h++)c=v[x++],k=v[x++],m=Math.min(m,c),n=Math.max(n,c),
t=Math.min(t,k),u=Math.max(u,k)}return new DvtRectangle(m,t,Math.abs(n-m),Math.abs(u-t))};DvtPathUtils.getPathString=function(a){for(var b="",c=a.length,d,e=0;e<c;e++)d=a[e],void 0!==d&&null!==d&&(b+=(0<e?" ":"")+a[e]);return b};
DvtPathUtils.transformPath=function(a,b,c,d,e){var g="";if(a){a=a.match(/[a-z][^a-z]*/ig);for(var h=0;h<a.length;h++){var k=a[h],m=k.charAt(0),n=m===m.toUpperCase(),g=g+(m+" "),k=k.substring(1),k=k.replace(/,/g," "),k=k.replace(/^\s+|\s+$/g,"");if(0<k.length)if(k=k.split(/\s+/g),"A"===m.toUpperCase())for(m=0;m<k.length;m+=7)g+=DvtToolkitUtils.roundDecimal(parseFloat(k[m])*d)+" ",g+=DvtToolkitUtils.roundDecimal(parseFloat(k[m+1])*e)+" ",g+=DvtToolkitUtils.roundDecimal(k[m+2])+" ",g+=DvtToolkitUtils.roundDecimal(k[m+
3])+" ",g+=DvtToolkitUtils.roundDecimal(k[m+4])+" ",g+=DvtToolkitUtils.roundDecimal(parseFloat(k[m+5])*d+(n?b:0))+" ",g+=DvtToolkitUtils.roundDecimal(parseFloat(k[m+6])*e+(n?c:0))+" ";else{var t=[],u=[];"H"===m.toUpperCase()?(t.push(d),u.push(n?b:0)):("V"===m.toUpperCase()?t.push(e):(t.push(d),t.push(e),u.push(n?b:0)),u.push(n?c:0));for(m=0;m<k.length;m++)var n=t[m%t.length],v=u[m%u.length],g=g+(DvtToolkitUtils.roundDecimal(parseFloat(k[m])*n+v)+" ")}}return g}};
DvtPathUtils._fitsInScale=function(a,b,c){return Math.abs(a)>c||Math.abs(b)>c};
DvtPathUtils.simplifyPath=function(a,b){for(var c,d="",e="",g=0,h=0,k,m=0,n=0,t=0,u=0;u<a.length;u++)if(isNaN(a[u])){if(c=a[u],"Z"==c||"z"==c)k=c,e+=c,0<t&&(d+=e,n=m=0),e="",h=g=t=0}else switch(c){case "M":n=m=0;case "m":m+=a[u];n+=a[u+1];e=e+c+m+" "+n;k=c;u++;break;case "l":g+=a[u];h+=a[u+1];DvtPathUtils._fitsInScale(g,h,b)&&(k!=c?(k=c,e+=c):e+=" ",e=e+g+" "+h,h=g=0,t++);u++;break;case "h":case "v":"h"==c?g+=a[u]:h+=a[u],DvtPathUtils._fitsInScale(g,h,b)&&(0!=g&&0!=h?("l"!=k?(k="l",e+="l"):e+=" ",
e=e+g+" "+h):(k=c,e=e+c+("h"==c?g:h)),h=g=0,t++)}return d};var DvtMarkerDefElem=function(){this.Init()};DvtObj.createSubclass(DvtMarkerDefElem,DvtPropMap,"DvtMarkerDefElem");DvtMarkerDefElem.ATTR_ELEMENTS="elements";DvtMarkerDefElem.ATTR_SHAPE="shape";DvtMarkerDefElem.ATTR_BORDER_COLOR="bc";DvtMarkerDefElem.ATTR_FILL_COLOR="fc";DvtMarkerDefElem.ATTR_FILL_PATTERN="fp";DvtMarkerDefElem.ATTR_FILL_GRADIENT="fg";DvtMarkerDefElem.ATTR_DATA="d";DvtMarkerDefElem.ATTR_POINTS="p";
DvtMarkerDefElem.ATTR_LINE_WIDTH="lw";DvtMarkerDefElem.ATTR_FILL_GRAD_COLORS="c";DvtMarkerDefElem.ATTR_FILL_GRAD_STOPS="p";DvtMarkerDefElem.ATTR_FILL_GRAD_BOUNDS="b";DvtMarkerDefElem.ATTR_FILL_GRAD_DIR="dir";DvtMarkerDefElem.ATTR_FILL_GRAD_DIR_RADIAL="gdR";DvtMarkerDefElem.ATTR_FILL_GRAD_DIR_RIGHT="gdRi";DvtMarkerDefElem.ATTR_FILL_GRAD_DIR_DOWN="gdD";DvtMarkerDefElem.ATTR_FILL_GRAD_DIR_45="gdD45";DvtMarkerDefElem.ATTR_FILL_GRAD_DIR_135="gdD135";DvtMarkerDefElem.ATTR_FILL_GRAD_CX="cx";
DvtMarkerDefElem.ATTR_FILL_GRAD_CY="cy";DvtMarkerDefElem.ATTR_FILL_GRAD_RADIUS="r";DvtMarkerDefElem.ATTR_FILL_GRAD_RADIUSX="rx";DvtMarkerDefElem.ATTR_FILL_GRAD_RADIUSY="ry";DvtMarkerDefElem.ATTR_ANGLES="ang";DvtMarkerDefElem.ATTR_CLOSURE_TYPE="ct";DvtMarkerDefElem.ATTR_TRANSFORM="transform";DvtMarkerDefElem.prototype.Init=function(){DvtMarkerDefElem.superclass.Init.call(this)};DvtMarkerDefElem.prototype.getShape=function(){return this.getProperty(DvtMarkerDefElem.ATTR_SHAPE)};
DvtMarkerDefElem.prototype.setShape=function(a){this.setProperty(DvtMarkerDefElem.ATTR_SHAPE,a)};DvtMarkerDefElem.prototype.getData=function(){return this.getProperty(DvtMarkerDefElem.ATTR_DATA)};DvtMarkerDefElem.prototype.setData=function(a){return this.setProperty(DvtMarkerDefElem.ATTR_DATA,a)};DvtMarkerDefElem.prototype.getPoints=function(){return this.getProperty(DvtMarkerDefElem.ATTR_POINTS)};DvtMarkerDefElem.prototype.setPoints=function(a){this.setProperty(DvtMarkerDefElem.ATTR_POINTS,a)};
DvtMarkerDefElem.prototype.getClosureType=function(){return this.getProperty(DvtMarkerDefElem.ATTR_CLOSURE_TYPE)};DvtMarkerDefElem.prototype.setClosureType=function(a){this.setProperty(DvtMarkerDefElem.ATTR_CLOSURE_TYPE,a)};DvtMarkerDefElem.prototype.getAngles=function(){return this.getProperty(DvtMarkerDefElem.ATTR_ANGLES)};DvtMarkerDefElem.prototype.setAngles=function(a){return this.setProperty(DvtMarkerDefElem.ATTR_ANGLES,a)};DvtMarkerDefElem.prototype.getBorderColor=function(){return this.getProperty(DvtMarkerDefElem.ATTR_BORDER_COLOR)};
DvtMarkerDefElem.prototype.setBorderColor=function(a){this.setProperty(DvtMarkerDefElem.ATTR_BORDER_COLOR,a)};DvtMarkerDefElem.prototype.getLineWidth=function(){return this.getProperty(DvtMarkerDefElem.ATTR_LINE_WIDTH)};DvtMarkerDefElem.prototype.setLineWidth=function(a){this.setProperty(DvtMarkerDefElem.ATTR_LINE_WIDTH,a)};DvtMarkerDefElem.prototype.getFillColor=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_COLOR)};
DvtMarkerDefElem.prototype.setFillColor=function(a){this.setProperty(DvtMarkerDefElem.ATTR_FILL_COLOR,a)};DvtMarkerDefElem.prototype.getFillPattern=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_PATTERN)};DvtMarkerDefElem.prototype.setFillPattern=function(a){this.setProperty(DvtMarkerDefElem.ATTR_FILL_PATTERN,a)};DvtMarkerDefElem.prototype.getFillGradient=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRADIENT)};
DvtMarkerDefElem.prototype.setFillGradient=function(a){this.setProperty(DvtMarkerDefElem.ATTR_FILL_GRADIENT,a)};DvtMarkerDefElem.prototype.getGradColors=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRAD_COLORS).split(",")};DvtMarkerDefElem.prototype.getGradStops=function(){var a=this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRAD_STOPS).split(",");DvtArrayUtils.toFloat(a);return a};
DvtMarkerDefElem.prototype.getGradBounds=function(){var a=this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRAD_BOUNDS).split(",");DvtArrayUtils.toFloat(a);return a};DvtMarkerDefElem.prototype.getGradDir=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRAD_DIR)};DvtMarkerDefElem.prototype.getGradRadius=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRAD_RADIUS)};DvtMarkerDefElem.prototype.getGradRadiusX=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRAD_RADIUSX)};
DvtMarkerDefElem.prototype.getGradRadiusY=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRAD_RADIUSY)};DvtMarkerDefElem.prototype.getGradCx=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRAD_CX)};DvtMarkerDefElem.prototype.getGradCy=function(){return this.getProperty(DvtMarkerDefElem.ATTR_FILL_GRAD_CY)};DvtMarkerDefElem.prototype.getTransform=function(){return this.getProperty(DvtMarkerDefElem.ATTR_TRANSFORM)};
DvtMarkerDefElem.prototype.setTransform=function(a){return this.setProperty(DvtMarkerDefElem.ATTR_TRANSFORM,a)};var DvtMarkerDef=function(){this.Init()};DvtObj.createSubclass(DvtMarkerDef,DvtPropMap,"DvtMarkerDef");DvtMarkerDef.MARKER_DEF="markerDef";DvtMarkerDef.MARKER_DEF_CIRCLE="c";DvtMarkerDef.MARKER_DEF_ELLIPSE="o";DvtMarkerDef.MARKER_DEF_LINE="l";DvtMarkerDef.MARKER_DEF_PATH="p";DvtMarkerDef.MARKER_DEF_POLYGON="pg";DvtMarkerDef.MARKER_DEF_POLYLINE="pl";DvtMarkerDef.MARKER_DEF_RECT="r";
DvtMarkerDef.ATTR_ELEMENTS="elements";DvtMarkerDef.ATTR_BORDER_COLOR="bc";DvtMarkerDef.ATTR_LINE_WIDTH="lw";DvtMarkerDef.ATTR_FILL_COLOR="fc";DvtMarkerDef.ATTR_FILL_PATTERN="fp";DvtMarkerDef.ATTR_FILL_GRADIENT="fg";DvtMarkerDef.BI_DEFAULT_MARKER_SIZE=9;DvtMarkerDef.HUMAN_CMDS="M 38.07,36.467856 q 13.414,0 13.414,-13.406 l 0,-9.258 q 0,-13.4039999 -13.414,-13.4039999 -13.414,0 -13.414,13.4039999 l 0,9.258 q 0,13.406 13.414,13.406 l 0,0 z m 16.219,7.275 -32.435999,0 q -10.139552,0 -15.9400009,7.443875 Q 0.5,58.133383 0.5,69.156856 l 0,54.396004 12.746001,0 0,-51.609004 q 0,-2.824 0.793,-2.824 0.742,0 0.742,2.709 l 0,124.267994 q 0,2.82401 2.823999,2.82401 l 12.531,0 q 2.824,0 2.824,-2.824 l 0,-66.25 10.219,0 0,66.25 q 0,2.824 2.824,2.824 l 12.528,0 q 2.825,0 2.825,-2.824 l 0,-124.268004 q 0,-2.709 0.839,-2.709 0.792,0 0.792,2.824 l 0,51.609004 12.65,0 0,-54.396004 Q 75.6386,58.132927 70.227626,51.186731 64.428999,43.742856 54.289,43.742856 l 0,0 z";
DvtMarkerDef.HUMAN2_CMDS="M 306.40625 386.78125 C 304.19988 386.78125 302.40625 389.07579 302.40625 391.90625 C 302.40625 394.73671 304.19988 397.03125 306.40625 397.03125 C 308.61263 397.03125 310.40625 394.73671 310.40625 391.90625 C 310.40625 389.07579 308.61263 386.78125 306.40625 386.78125 z M 301.78125 396.0625 C 300.43025 397.2945 298.28125 400.28125 298.90625 403.15625 C 302.41725 405.79925 309.20225 406.154 314.03125 403 C 314.21825 399.828 312.68325 397.5635 310.90625 396.0625 C 308.65625 400.7185 304.28125 399.7815 301.78125 396.0625 z ";
DvtMarkerDef.SHAPE_STAR_CMDS=[-50,-11.22,-16.69,-17.94,0,-47.55,16.69,-17.94,50,-11.22,26.69,13.8,30.9,47.56,0,33.42,-30.9,47.56,-26.69,13.8];DvtMarkerDef.prototype.Init=function(){DvtMarkerDef.superclass.Init.call(this)};DvtMarkerDef.prototype.getBorderColor=function(){return this.getProperty(DvtMarkerDef.ATTR_BORDER_COLOR)};DvtMarkerDef.prototype.setBorderColor=function(a){this.setProperty(DvtMarkerDef.ATTR_BORDER_COLOR,a)};DvtMarkerDef.prototype.getLineWidth=function(){return this.getProperty(DvtMarkerDef.ATTR_LINE_WIDTH)};
DvtMarkerDef.prototype.setLineWidth=function(a){this.setProperty(DvtMarkerDef.ATTR_LINE_WIDTH,a)};DvtMarkerDef.prototype.getFillColor=function(){return this.getProperty(DvtMarkerDef.ATTR_FILL_COLOR)};DvtMarkerDef.prototype.setFillColor=function(a){this.setProperty(DvtMarkerDef.ATTR_FILL_COLOR,a)};DvtMarkerDef.prototype.getFillPattern=function(){return this.getProperty(DvtMarkerDef.ATTR_FILL_PATTERN)};
DvtMarkerDef.prototype.setFillPattern=function(a){this.setProperty(DvtMarkerDef.ATTR_FILL_PATTERN,a)};DvtMarkerDef.prototype.getFillGradient=function(){return this.getProperty(DvtMarkerDef.ATTR_FILL_GRADIENT)};DvtMarkerDef.prototype.setFillGradient=function(a){this.setProperty(DvtMarkerDef.ATTR_FILL_GRADIENT,a)};
DvtMarkerDef.prototype.getDimensions=function(){var a=this.getProperty("dx"),b=this.getProperty("dy"),c=this.getProperty("dw"),d=this.getProperty("dh");return c&&d?new DvtRectangle(a,b,c,d):null};DvtMarkerDef.prototype.getElements=function(){return this.getProperty(DvtMarkerDef.ATTR_ELEMENTS)};DvtMarkerDef.prototype.addElement=function(a){var b=this.getElements();b||(b=[],this.setProperty(DvtMarkerDef.ATTR_ELEMENTS,b));b.push(a)};var DvtMarkerGradient=function(){};
DvtObj.createSubclass(DvtMarkerGradient,DvtObj,"DvtMarkerGradient");
DvtMarkerGradient.createMarkerGradient=function(a,b,c){var d=[],e=[];c=[c,c,c,c];e=null;e=b.getType();b=DvtDisplayableUtils.getDimForced(b.getCtx(),b);d=b.getCenter();b=Math.min(b.w,b.h);if(e!=DvtMarker.HUMAN){var e=[0,.5,.75,1],g=DvtColorUtils.getPastel(a,.2),h=DvtColorUtils.getPastel(a,.1),k=DvtColorUtils.getDarker(a,.8);b/=2;var m=d.x,n=d.y,d=[DvtColorUtils.getPound(g),DvtColorUtils.getPound(h),a,DvtColorUtils.getPound(k)];a=new DvtRectangle(-b,-b,2*b,2*b);a=[a.x,a.y,a.w,a.h];e=new DvtRadialGradientFill(d,
c,e,m,n,b,a)}else e=[0,.3,.7,1],g=DvtColorUtils.getPastel(a,.2),h=DvtColorUtils.getDarker(a,.9),k=DvtColorUtils.getDarker(a,.8),d=[DvtColorUtils.getPound(g),DvtColorUtils.getPound(h),a,DvtColorUtils.getPound(k)],a=new DvtRectangle(-b/2,-b/2,b,b),a=[a.x,a.y,a.w,a.h],e=new DvtLinearGradientFill(135,d,c,e,a);return e};var DvtMarkerUtils={_cache:{}};DvtObj.createSubclass(DvtMarkerUtils,DvtObj,"DvtMarkerUtils");
DvtMarkerUtils.createMarkerDef=function(a,b){var c=new DvtMarkerDef;c.setProperties(b.getAttributes());for(var d=b.getChildNodes(),e,g=0;g<d.length;g++){var h=d[g];h&&(e=new DvtMarkerDefElem,"fillDef"==h.getName()&&h.getChildNodes()&&(h=h.getChildNodes()[0]),e.setProperties(h.getAttributes()),e.setShape(h.getName()),c.addElement(e))}c&&this._addMarkerDef(a,c);return c};
DvtMarkerUtils._addMarkerDef=function(a,b){var c=a.getStage().getId(),d=b.getId(),e=DvtMarkerUtils.getMarkerList(c);!e[d]&&(c=this.createMultiPaths(a,b,d))&&(c.setId("custom"+d),e[d]=c,(d=b.getDimensions())&&DvtDisplayableUtils._setDimForced(c,d))};DvtMarkerUtils.getMarkerList=function(a){this._cache[a]||(this._cache[a]={});return this._cache[a]};
DvtMarkerUtils.createMarkerShape=function(a,b,c,d){var e;b.getShape()==DvtMarkerDef.MARKER_DEF_PATH&&(e=this.createPathMarker(a,b,d));e&&DvtMarkerUtils.setCommonAttrs(b,c,e);return e};DvtMarkerUtils.createMultiPaths=function(a,b,c){var d=b.getElements();if(!d||0==d.length)return null;var e;if(1==d.length)e=DvtMarkerUtils.createMarkerShape(a,d[0],b,c);else{e=new DvtContainer(a,c);for(var g,h=0;h<d.length;h++)g=d[h],(g=DvtMarkerUtils.createMarkerShape(a,g,b,c+"_"+h))&&e.addChild(g)}return e};
DvtMarkerUtils.createCircleMarker=function(a,b,c,d){var e=b.getPoints(),g=e[0],h=e[1],k=e[2],m;d==DvtMarkerDef.MARKER_DEF_ELLIPSE&&(m=e[3]);if(d=b.getClosureType()){b=b.getAngles();var n,t;b&&(n=b[0],t=b[1]);a=new DvtArc(a,g,h,k,m,n,t,d,c)}else a=new DvtCircle(a,g,h,k,c);return a};DvtMarkerUtils.createRectMarker=function(a,b,c){b=b.getPoints();return new DvtRect(a,b[0],b[1],b[2],b[3],c)};DvtMarkerUtils.createLineMarker=function(a,b,c){b=b.getPoints();return new DvtLine(a,b[0],b[1],b[2],b[3],c)};
DvtMarkerUtils.createPathMarker=function(a,b,c){b=b.getData();return new DvtPath(a,b,c)};DvtMarkerUtils.createPolygoneMarker=function(a,b,c){b=b.getPoints();return new DvtPolygon(a,b,c)};DvtMarkerUtils.createPolylineMarker=function(a,b,c){b=b.getPoints();return new DvtPolyline(a,b,c)};
DvtMarkerUtils.setCommonAttrs=function(a,b,c){var d=a.getFillColor(),e=a.getFillGradient(),g=a.getFillPattern();if(g)c.setFill(new DvtPatternFill(g,d));else if(e){var d=b.getElements(),h;b=d.length;for(g=0;g<b;g++){var k=d[g];if("g"==k.getShape()&&k.getId()==e){h=k;break}}var m;h?(d=h.getGradColors(),e=h.getGradStops(),b=h.getGradBounds(),g=h.getGradDir(),g==DvtMarkerDefElem.ATTR_FILL_GRAD_DIR_RADIAL?(g=parseFloat(h.getGradCx()),k=parseFloat(h.getGradCy()),m=parseFloat(h.getGradRadius()),m||(m=parseFloat(h.getGradRadiusX()),
h=parseFloat(h.getGradRadiusY()),m=Math.max(m,h)),c.setFill(new DvtRadialGradientFill(d,null,e,g,k,m,b))):(h=0,g==DvtMarkerDefElem.ATTR_FILL_GRAD_DIR_45?h=-135:g==DvtMarkerDefElem.ATTR_FILL_GRAD_DIR_135?h=-45:g==DvtMarkerDefElem.ATTR_FILL_GRAD_DIR_DOWN&&(h=-90),c.setFill(new DvtLinearGradientFill(h,d,null,e,b)))):c.setFill(new DvtLinearGradientFill(0,["#000","#fff"]))}else d&&c.setSolidFill(d,null);h=parseFloat(a.getLineWidth());a=a.getBorderColor();if(h||a)h||(h=1),a||(a="black"),a=new DvtSolidStroke(a,
1,h),c.setStroke(a)};DvtMarkerUtils.getCustomMarkerInfo=function(a,b){var c=a.getStage().getId();if(c=DvtMarkerUtils.getMarkerList(c))return c[b]};DvtMarkerUtils.getBuiltinMarkerInfo=function(a,b,c){var d=a.getStage().getId(),d=DvtMarkerUtils.getMarkerList(d),e=c?b+"_"+c:b;!d[e]&&b&&(b=new DvtPath(a,DvtCSSStyle.afterSkinAlta(c)?DvtMarkerDef.HUMAN2_CMDS:DvtMarkerDef.HUMAN_CMDS,"dvtHuman"),DvtDisplayableUtils.getDimForced(a,b),d[e]=b);return d[e]};
DvtMarkerUtils.clearCached=function(a){a=a.getStage().getId();this._cache[a]=void 0};var DvtPolygonUtils={};DvtObj.createSubclass(DvtPolygonUtils,DvtObj,"DvtPolygonUtils");
DvtPolygonUtils.getDimensions=function(a){if(!a||0===a.length)return new DvtRectangle;for(var b=Number.MAX_VALUE,c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=Number.MIN_VALUE,g=a.length,h,k,m=0;m<g;m++)h=a[m++],k=a[m],b=Math.min(b,h),c=Math.max(c,h),d=Math.min(d,k),e=Math.max(e,k);return new DvtRectangle(b,d,Math.abs(c-b),Math.abs(e-d))};DvtPolygonUtils.getRegularPolygonPoints=function(a,b,c,d,e,g){for(var h=[],k,m=0;m<c;m++)k=e+m/c*2*Math.PI*(0==g?-1:1),h.push(a+d*Math.sin(k),b-d*Math.cos(k));return h};
DvtPolygonUtils.scale=function(a,b,c){for(var d=[],e=0;e<a.length-1;e+=2)d.push(a[e]*b),d.push(a[e+1]*c);return d};DvtPolygonUtils.translate=function(a,b,c){for(var d=[],e=0;e<a.length-1;e+=2)d.push(a[e]+b),d.push(a[e+1]+c);return d};var DvtTextUtils={};DvtObj.createSubclass(DvtTextUtils,DvtObj,"DvtTextUtils");DvtTextUtils._cachedTextDimensions={};DvtTextUtils.EMPTY_TEXT_BUFFER=2;
DvtTextUtils.getMaxTextDimensions=function(a){for(var b=0,c=0,d=0;d<a.length;d++)if(null!=a[d])var e=a[d].getDimensions(),b=Math.max(b,e.w),c=Math.max(c,e.h);return new DvtDimension(b,c)};DvtTextUtils.getTextStringDimensions=function(a,b,c){var d=DvtOutputText.getCachedDimensions(b,c);if(null!=d)return d;a=new DvtOutputText(a,b);a.setCSSStyle(c);return a.getDimensions()};DvtTextUtils.getTextWidth=function(a){return a.getDimensions().w};
DvtTextUtils.getTextStringWidth=function(a,b,c){return DvtTextUtils.getTextStringDimensions(a,b,c).w};DvtTextUtils.getTextHeight=function(a){return DvtTextUtils.guessTextDimensions(a).h};DvtTextUtils.getTextStringHeight=function(a,b){var c=null!=b?b.hashCodeForTextMeasurement():"",d=DvtTextUtils._cachedTextDimensions[c];null==d&&(d=new DvtOutputText(a),d.setCSSStyle(b),d=DvtTextUtils._cacheRepresentativeDimensions(d,c));return d.h};
DvtTextUtils.guessTextDimensions=function(a,b){var c=a.getTextString(),d=a.getCSSStyle(),e=null!=d?d.hashCodeForTextMeasurement():"",d=DvtTextUtils._cachedTextDimensions[e];null==d&&(d=DvtTextUtils._cacheRepresentativeDimensions(a,e));c=d.w*DvtTextUtils._getTextLength(c);b=isNaN(b)||null==b?1:b;e=Math.min(.3*c,d.w*(.3*b+2));return a instanceof DvtMultilineText||a instanceof DvtBackgroundMultilineText?{w:c,h:d.h*a.getLineCount(),wMin:e}:{w:c,h:d.h,wMin:e}};
DvtTextUtils.fitText=function(a,b,c,d,e){e=isNaN(e)||null==e?1:e;var g=a.getTextString(),h=DvtTextUtils._guessFit(a,b,c,d,e);if(1==h)return d.addChild(a),!0;if(0==h)return(b=a.getParent())&&b.removeChild(a),!1;d.addChild(a);if(a instanceof DvtMultilineText||a instanceof DvtBackgroundMultilineText)return a.__fitText(b,c,e);a instanceof DvtOutputText||a instanceof DvtBackgroundOutputText?DvtTextUtils._truncateOutputText(a,b,e):a.setMaxWidth(b,e);if(""==a.getTextString())return d.removeChild(a),!1;a.getTextString()!=
g&&a.setUntruncatedTextString(g);return!0};DvtTextUtils.renderEmptyText=function(a,b,c,d,e){b=new DvtOutputText(a.getCtx(),b,c.x+c.w/2,c.y+c.h/2);e&&b.setCSSStyle(e);b.alignCenter();b.alignMiddle();DvtTextUtils.fitText(b,c.w-2*DvtTextUtils.EMPTY_TEXT_BUFFER,Infinity,a,0)&&(b.isTruncated()&&d.associate(b,new DvtSimpleObjPeer(b.getUntruncatedTextString())),b.setAriaProperty("hidden",null));return b};
DvtTextUtils._cacheRepresentativeDimensions=function(a,b){var c=a.getTextString();a.setTextString(DvtOutputText.REPRESENTATIVE_TEXT);var d=a.measureDimensions();a.setTextString(c);c={w:.5*d.w,h:d.h};return DvtTextUtils._cachedTextDimensions[b]=c};DvtTextUtils.centerTextVertically=function(a,b){if(DvtAgent.isPlatformIE())a.setY(b),a.alignMiddle();else{var c=0;a instanceof DvtOutputText?c=DvtTextUtils.getTextHeight(a):a instanceof DvtMultilineText&&(c=a.getDimensions().h);a.setY(b-c/2)}};
DvtTextUtils._guessFit=function(a,b,c,d,e){if(a instanceof DvtMultilineText)return null;d=DvtTextUtils.guessTextDimensions(a,e);return d.h>c||d.wMin>b&&3<DvtTextUtils._getTextLength(a.getTextString())?!1:d.w<b?!0:null};
DvtTextUtils._truncateOutputText=function(a,b,c){var d=a.measureDimensions();if(!(d.w<=b)){var e=a.getTextString(),g=e.length,h=d.w/DvtTextUtils._getTextLength(e),k=Math.max(Math.floor(b/h)-2,c),m=e.substring(0,k)+DvtOutputText.ELLIPSIS;a.setTextString(m);for(var d=a.measureDimensions(),n=m,t=d;d.w<b&&!(k>=e.length);){var u=Math.min(g-k,Math.max(Math.floor((b-d.w)/h),1)),k=k+u,m=e.substring(0,k)+DvtOutputText.ELLIPSIS;a.setTextString(m);d=a.measureDimensions();if(1==u&&d.w>b){a.setTextString(n);d=
t;break}n=m;t=d}for(;d.w>b;){if(k<=c){a.setTextString("");break}--k;m=e.substring(0,k)+DvtOutputText.ELLIPSIS;a.setTextString(m);d=a.measureDimensions()}}};DvtTextUtils._getTextLength=function(a){a=a.replace(/[\u200A\u200B\u200C\u200D\u200E\u200F\uFEFF]/g,"");return a.length};var DvtSvgShapeUtils=function(){};DvtObj.createSubclass(DvtSvgShapeUtils,DvtObj,"DvtSvgShapeUtils");DvtSvgShapeUtils._uniqueSeed=0;
DvtSvgShapeUtils.addClipPath=function(a,b){var c=a.getId();if(!c)return!1;var d=b.getDefs();if(!d)return!1;for(var e=d.childNodes,g=e.length,d=0;d<g;d++)if(e[d].id===c)return!0;c=DvtSvgShapeUtils.createElement("clipPath",c);b.appendDefs(c);e=a.getRegions();for(d=0;d<e.length;d++)if(g=e[d]){var h=null;g.type===DvtClipPath.RECT?(h=DvtSvgShapeUtils.createElement("rect"),DvtToolkitUtils.setAttrNullNS(h,"x",g.x),DvtToolkitUtils.setAttrNullNS(h,"y",g.y),DvtToolkitUtils.setAttrNullNS(h,"width",g.w),DvtToolkitUtils.setAttrNullNS(h,
"height",g.h),g.rx&&DvtToolkitUtils.setAttrNullNS(h,"rx",g.rx),g.ry&&DvtToolkitUtils.setAttrNullNS(h,"ry",g.ry)):g.type===DvtClipPath.PATH?(h=DvtSvgShapeUtils.createElement("path"),DvtToolkitUtils.setAttrNullNS(h,"d",g.d)):g.type===DvtClipPath.POLYGON?(h=DvtSvgShapeUtils.createElement("polygon"),DvtToolkitUtils.setAttrNullNS(h,"points",g.points)):g.type===DvtClipPath.ELLIPSE?(h=DvtSvgShapeUtils.createElement("ellipse"),DvtToolkitUtils.setAttrNullNS(h,"cx",g.cx),DvtToolkitUtils.setAttrNullNS(h,"cy",
g.cy),DvtToolkitUtils.setAttrNullNS(h,"rx",g.rx),DvtToolkitUtils.setAttrNullNS(h,"ry",g.ry)):g.type===DvtClipPath.CIRCLE&&(h=DvtSvgShapeUtils.createElement("circle"),DvtToolkitUtils.setAttrNullNS(h,"cx",g.cx),DvtToolkitUtils.setAttrNullNS(h,"cy",g.cy),DvtToolkitUtils.setAttrNullNS(h,"r",g.r));h&&DvtToolkitUtils.appendChildElem(c,h)}return!0};
DvtSvgShapeUtils.addMask=function(a,b){var c=a.getId();if(!c)return!1;var d=b.getDefs();if(!d)return!1;for(var d=d.childNodes,e=d.length,g=0;g<e;g++)if(d[g].id===c)return!0;c=DvtSvgShapeUtils.createElement("mask",c);b.appendDefs(c);d=a.getGradient();DvtSvgShapeUtils.addSpecialFill(d,b);e=a.getBounds();g=DvtSvgShapeUtils.createElement("rect");DvtToolkitUtils.setAttrNullNS(g,"x",e.x);DvtToolkitUtils.setAttrNullNS(g,"y",e.y);DvtToolkitUtils.setAttrNullNS(g,"width",e.w);DvtToolkitUtils.setAttrNullNS(g,
"height",e.h);DvtToolkitUtils.setAttrNullNS(g,"fill",DvtToolkitUtils.getUrlById(d.getId()));DvtToolkitUtils.appendChildElem(c,g);return!0};
DvtSvgShapeUtils.addSpecialFill=function(a,b){var c;a.isLocked()?c=a.getId():(c=a.getId(),c||(c=a instanceof DvtPatternFill?DvtSvgShapeUtils.getUniqueId("pat"):DvtSvgShapeUtils.getUniqueId("Gr"),a.setId(c)));if(!a._defPresent){var d=a._defElem;d||(a instanceof DvtGradientFill?d=DvtSvgGradientUtils.createElem(a,c):a instanceof DvtImageFill?d=DvtSvgImageFillUtils.createElem(a,c):a instanceof DvtPatternFill&&(d=DvtSvgPatternFillUtils.createElem(a,c)));a._defElem=d;b.appendDefs(d);a._defPresent=!0}};
DvtSvgShapeUtils.addSpecialStroke=function(a,b){var c;a.isLocked()?c=a.getId():(c=a.getId(),c||(c=DvtSvgShapeUtils.getUniqueId("Gr"),a.setId(c)));if(!a._defPresent){var d=a._defElem;d||(d=DvtSvgGradientUtils.createElem(a,c));a._defElem=d;b.appendDefs(d);a._defPresent=!0}};DvtSvgShapeUtils.createElement=function(a,b){var c=document.createElementNS(DvtToolkitUtils.SVG_NS,a);b&&DvtToolkitUtils.setAttrNullNS(c,"id",b);return c};DvtSvgShapeUtils.getUniqueId=function(a){return(a?a:"$")+DvtSvgShapeUtils._uniqueSeed++};
DvtSvgShapeUtils.convertPointsArray=function(a){for(var b=a.length,c="",d=0;d<b;d++)0<d&&(c+=" "),c+=DvtToolkitUtils.roundDecimal(a[d]);return c};var DvtDisplayable=function(){};DvtObj.createSubclass(DvtDisplayable,DvtObj,"DvtDisplayable");DvtDisplayable._ATTRS_TRANSFERABLE_TO_OUTER=["clip-path"];
DvtDisplayable._CREATE_EVENT_TYPE_MAP={click:DvtMouseEvent.CLICK,mouseover:DvtMouseEvent.MOUSEOVER,mouseout:DvtMouseEvent.MOUSEOUT,mousemove:DvtMouseEvent.MOUSEMOVE,keydown:DvtKeyboardEvent.KEYDOWN,keyup:DvtKeyboardEvent.KEYUP,keypress:DvtKeyboardEvent.KEYPRESS};DvtDisplayable.SET_ID_ON_DOM=!1;
DvtDisplayable.prototype.Init=function(a,b,c){this._context=a;this._elem=DvtSvgShapeUtils.createElement(b);this._elem._obj=this;this.setId(c);this._bVisible=!0;this._pixelHinting=!1;this._cursor=null;this._bMouseEnabled=!0;this._alpha=1;this._matrix=null;this._ariaProperties={};this._properties={}};DvtDisplayable.prototype.getCtx=function(){return this._context};DvtDisplayable.prototype.getImpl=function(){return this};DvtDisplayable.prototype.getObj=function(){return this};
DvtDisplayable.prototype.getElem=function(){return this._elem};DvtDisplayable.prototype.getOuterElem=function(){return this._outerElem?this._outerElem:this.getElem()};DvtDisplayable.prototype.getId=function(){return this._id};DvtDisplayable.prototype.setId=function(a,b){this._id!==a&&(a&&0===a.length&&(a=null),this._id=a,DvtDisplayable.SET_ID_ON_DOM||b)&&(a?DvtToolkitUtils.setAttrNullNS(this.getOuterElem(),"id",a):DvtToolkitUtils.removeAttrNullNS(this.getOuterElem(),"id"))};
DvtDisplayable.prototype.getParent=function(){return this._parent};DvtDisplayable.prototype.setParent=function(a){this._parent=a};DvtDisplayable.prototype.isDescendantOf=function(a){return a&&this.getParent()?this.getParent()==a?!0:this.getParent().isDescendantOf(a):!1};DvtDisplayable.prototype.getPixelHinting=function(){return this._pixelHinting};
DvtDisplayable.prototype.setPixelHinting=function(a){(this._pixelHinting=a)?DvtToolkitUtils.setAttrNullNS(this._elem,"shape-rendering","crispEdges"):DvtToolkitUtils.removeAttrNullNS(this._elem,"shape-rendering")};DvtDisplayable.prototype.getVisible=function(){return this._bVisible};
DvtDisplayable.prototype.setVisible=function(a){if(this._bVisible!==a){this._bVisible=a;var b=this instanceof DvtMarker?this._elem:this.getElem();a?DvtToolkitUtils.removeAttrNullNS(b,"visibility"):DvtToolkitUtils.setAttrNullNS(b,"visibility","hidden")}};
DvtDisplayable.prototype.setClipPath=function(a){if(a){if(this.ClipPathId!=a.getId()){this.ClipPathId&&this._context.decreaseGlobalDefReference(this.ClipPathId);this.ClipPathId=a.getId();this._context.increaseGlobalDefReference(this.ClipPathId);!this._outerElem&&this._matrix&&this._createOuterGroupElem();var b=a.getId();if(b){var c=this.getCtx();DvtSvgShapeUtils.addClipPath(a,c)&&DvtToolkitUtils.setAttrNullNS(this.getOuterElem(),"clip-path",DvtToolkitUtils.getUrlById(b))}}}else!a&&this.ClipPathId&&
(this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=null,DvtToolkitUtils.removeAttrNullNS(this.getOuterElem(),"clip-path"))};
DvtDisplayable.prototype.setMask=function(a){if(a){if(this.MaskId!=a.getId()){this.MaskId&&this._context.decreaseGlobalDefReference(this.MaskId);this.MaskId=a.getId();this._context.increaseGlobalDefReference(this.MaskId);!this._outerElem&&this._matrix&&this._createOuterGroupElem();var b=a.getId();if(b){var c=this.getCtx();DvtSvgShapeUtils.addMask(a,c)&&DvtToolkitUtils.setAttrNullNS(this.getOuterElem(),"mask",DvtToolkitUtils.getUrlById(b))}}}else!a&&this.MaskId&&(this._context.decreaseGlobalDefReference(this.MaskId),
this.MaskId=null,DvtToolkitUtils.removeAttrNullNS(this.getOuterElem(),"mask"))};DvtDisplayable.prototype.ConvertCoordSpaceRect=function(a,b){if(!b||b===this)return a;var c=this.localToStage(new DvtPoint(a.x,a.y)),d=this.localToStage(new DvtPoint(a.x+a.w,a.y+a.h)),c=b.stageToLocal(c),d=b.stageToLocal(d);return new DvtRectangle(c.x,c.y,d.x-c.x,d.y-c.y)};
DvtDisplayable.prototype.GetSvgDimensions=function(){try{var a=this.getElem().getBBox()}catch(b){return DvtAgent.isEnvironmentTest()&&print("Error in DvtDisplayable.prototype.GetSvgDimensions: "+b),null}return new DvtRectangle(a.x,a.y,a.width,a.height)};DvtDisplayable.prototype.getDimensions=function(a){var b=this.GetSvgDimensions();return this.ConvertCoordSpaceRect(b,a)};
DvtDisplayable.prototype.getDimensionsWithStroke=function(a){var b=this.GetDimensionsWithStroke();return this.ConvertCoordSpaceRect(b,a)};DvtDisplayable.prototype.GetDimensionsWithStroke=function(a){var b=this.GetElemDimensionsWithStroke();return a&&a!==this?this.ConvertCoordSpaceRect(b,a):b};DvtDisplayable.prototype.GetElemDimensionsWithStroke=function(){return this.GetSvgDimensions()};
DvtDisplayable.HasAttributes=function(a,b){if(b)for(var c=b.length,d=0;d<c;d++)if(DvtToolkitUtils.getAttrNullNS(a,b[d]))return!0;return!1};DvtDisplayable.TransferAttributes=function(a,b,c){if(c)for(var d,e,g=c.length,h=0;h<g;h++)if(d=c[h],e=DvtToolkitUtils.getAttrNullNS(a,d))DvtToolkitUtils.removeAttrNullNS(a,d),DvtToolkitUtils.setAttrNullNS(b,d,e),DvtAgent.isPlatformIE()&&DvtToolkitUtils.setAttrNullNS(a,d,null)};
DvtDisplayable.prototype._createOuterGroupElem=function(){if(!this._outerElem){this._outerElem=DvtSvgShapeUtils.createElement("g",this._id?this._id+"_outer":null);var a=this.getParent();a&&a.getElem().replaceChild(this._outerElem,this.getElem());DvtToolkitUtils.appendChildElem(this._outerElem,this.getElem());DvtDisplayable.TransferAttributes(this.getElem(),this._outerElem,DvtDisplayable._ATTRS_TRANSFERABLE_TO_OUTER)}};DvtDisplayable.prototype.getCSSStyle=function(){return this._cssStyle};
DvtDisplayable.prototype.setCSSStyle=function(a){this._cssStyle=a};DvtDisplayable.prototype.setCursor=function(a){this._cursor=a;DvtAgent.isEnvironmentBatik()||(a?DvtToolkitUtils.setAttrNullNS(this.getElem(),"cursor",a):DvtToolkitUtils.removeAttrNullNS(this.getElem(),"cursor"))};DvtDisplayable.prototype.getCursor=function(){return this._cursor};
DvtDisplayable.prototype.setMouseEnabled=function(a){a=(this._bMouseEnabled=a)?"visiblePainted":"none";DvtToolkitUtils.setAttrNullNS(this.getElem(),"pointer-events",a)};DvtDisplayable.prototype.isMouseEnabled=function(){return this._bMouseEnabled};DvtDisplayable.prototype.getAlpha=function(){return this._alpha};DvtDisplayable.prototype.setAlpha=function(a){1E-5>a&&(a=0);a!==this._alpha&&(this._alpha=a,DvtToolkitUtils.setAttrNullNS(this.getElem(),"opacity",this._alpha,1))};
DvtDisplayable.prototype.applyAriaProperties=function(){if(DvtAgent.deferAriaCreation()){this._ariaRole&&this._setAriaRole(this._ariaRole);for(var a in this._ariaProperties)this._setAriaProperty(a,this._ariaProperties[a])}};DvtDisplayable.prototype.setAriaRole=function(a){DvtAgent.deferAriaCreation()||this._setAriaRole(a);this._ariaRole=a};DvtDisplayable.prototype._setAriaRole=function(a){var b=this.GetAriaElem();a?DvtToolkitUtils.setAttrNullNS(b,"role",a):DvtToolkitUtils.removeAttrNullNS(b,"role")};
DvtDisplayable.prototype.getAriaRole=function(){return this._ariaRole};DvtDisplayable.prototype.GetAriaElem=function(){return this.getElem()};DvtDisplayable.prototype.setAriaProperty=function(a,b){a&&(DvtAgent.deferAriaCreation()||this._setAriaProperty(a,b),this._ariaProperties[a]=b)};
DvtDisplayable.prototype._setAriaProperty=function(a,b){var c=this.GetAriaElem();null!=b&&""!==b?("label"==a&&(b=DvtStringUtils.processAriaLabel(b)),DvtToolkitUtils.setAttrNullNS(c,"aria-"+a,b)):DvtToolkitUtils.removeAttrNullNS(c,"aria-"+a)};DvtDisplayable.prototype.getAriaProperty=function(a){return a?this._ariaProperties[a]:null};
DvtDisplayable.prototype.stageToLocal=function(a){for(var b=this.getPathToStage(),c=a,d=b.length-1;0<=d;d--)a=b[d].getMatrix().clone(),a.invert(),c=a.transformPoint(c);return c};DvtDisplayable.prototype.localToStage=function(a){for(var b=this.getPathToStage(),c=a,d=0;d<b.length;d++)a=b[d].getMatrix(),c=a.transformPoint(c);return c};DvtDisplayable.prototype.getPathToStage=function(){for(var a=this,b=[];a;)b.push(a),a=a.getParent();return b};
DvtDisplayable.prototype.destroy=function(){this.removeAllDrawEffects();this.ClipPathId&&this.setClipPath(null)};DvtDisplayable.prototype.createCopy=function(){var a=new DvtContainer(this.getCtx(),"clonedContainer"),b=this.getElem().cloneNode(!0);DvtToolkitUtils.appendChildElem(a.getElem(),b);this._disableEvents(b);return a};
DvtDisplayable.prototype._disableEvents=function(a){for(a=a.firstChild;null!=a;)a.setAttributeNS&&(DvtToolkitUtils.setAttrNullNS(a,"pointer-events","none"),DvtToolkitUtils.setAttrNullNS(a,"id",null)),this._disableEvents(a),a=a.nextSibling};DvtDisplayable.prototype.dispatchNativeEvent=function(a){};DvtDisplayable.prototype.GetProperty=function(a){return this._properties[a]};DvtDisplayable.prototype.SetProperty=function(a,b){b!==this._properties[a]&&(this._properties[a]=b);return this};
DvtDisplayable.prototype.SetSvgProperty=function(a,b,c){b!==this._properties[a]&&(this._properties[a]=b,DvtToolkitUtils.setAttrNullNS(this._elem,a,b,c),this.SvgPropertyChanged(a));return this};DvtDisplayable.prototype.SvgPropertyChanged=function(a){};
DvtDisplayable.generateAriaLabel=function(a,b){var c="",d=b&&0<b.length;if(a){var e=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"ARIA_LABEL_DESC_DELIMITER"),c=a;d&&(c+=e)}if(d)for(d=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"ARIA_LABEL_STATE_DELIMITER"),e=0;e<b.length;e++)c+=b[e],e!=b.length-1&&(c+=d);return c};DvtDisplayable.prototype.getNumDrawEffects=function(){return this._drawEffects?this._drawEffects.length:0};
DvtDisplayable.prototype.addDrawEffect=function(a){this._drawEffects||(this._drawEffects=[]);a.__lock();this._drawEffects.push(a);this._applyDrawEffects(this._drawEffects)};DvtDisplayable.prototype.addDrawEffectAt=function(a,b){this._drawEffects||(this._drawEffects=[]);a.__lock();b>=this._drawEffects.length?this._drawEffects.push(a):this._drawEffects.splice(b,0,a);this._applyDrawEffects(this._drawEffects)};
DvtDisplayable.prototype.removeDrawEffect=function(a){a=this.getDrawEffectIndex(a);-1<a&&(this._drawEffects.splice(a,1),this._applyDrawEffects(this._drawEffects))};DvtDisplayable.prototype.removeDrawEffectAt=function(a){if(this._drawEffects){var b=this._drawEffects.length;0<=a&&a<b&&(this._drawEffects.splice(a,1),this._applyDrawEffects(this._drawEffects))}};DvtDisplayable.prototype.removeAllDrawEffects=function(){this._drawEffects&&(this._drawEffects=null,this._applyDrawEffects(this._drawEffects))};
DvtDisplayable.prototype.getDrawEffectIndex=function(a){if(this._drawEffects)for(var b=this._drawEffects.length,c=0;c<b;c++)if(a===this._drawEffects[c])return c;return-1};
DvtDisplayable.prototype._applyDrawEffects=function(){var a=this._drawEffects;this._filter&&(DvtToolkitUtils.removeAttrNullNS(this.getOuterElem(),"filter"),this.getCtx().removeDefs(this._filter),this._filter=null);!this._outerElem&&this._matrix&&this._createOuterGroupElem();a&&0<a.length&&(this._filter=DvtSvgFilterUtils.createFilter(a,this))&&(this.getCtx().appendDefs(this._filter),a=DvtToolkitUtils.getAttrNullNS(this._filter,"id"),DvtToolkitUtils.setAttrNullNS(this.getOuterElem(),"filter",DvtToolkitUtils.getUrlById(a)))};
DvtDisplayable.prototype.addEvtListener=function(a,b,c,d){var e=this._getListeners(a,c,!0);e.push(b);e.push(d);this._addListener(a,c)};DvtDisplayable.prototype.removeEvtListener=function(a,b,c,d){var e=this._getListeners(a,c,!1);if(e)for(var g=0;g<e.length;g+=2)if(e[g]===b&&e[g+1]===d){e.splice(g,2);break}e&&0>=e.length&&this._removeListener(a,c)};
DvtDisplayable.prototype.dispatchDisplayableEvent=function(a,b){var c=DvtDisplayable._CREATE_EVENT_TYPE_MAP[a],d;if(DvtMouseEvent.CLICK==c||DvtMouseEvent.MOUSEOVER==c||DvtMouseEvent.MOUSEOUT==c||DvtMouseEvent.MOUSEMOVE==c){if(document.createEvent){d=this.getCtx();var e=this.getDimensions(),e=this.localToStage(new DvtPoint(e.x,e.y));d=d.getStageAbsolutePosition();d=new DvtPoint(d.x+e.x,d.y+e.y);e=document.createEvent("MouseEvents");e.initMouseEvent(c,!0,!0,window,1,d.x,d.y,d.x,d.y,!1,!1,!1,!1,0,null);
this.getElem().dispatchEvent(e)}}else DvtKeyboardEvent.KEYDOWN!=c&&DvtKeyboardEvent.KEYUP!=c&&DvtKeyboardEvent.KEYPRESS!=c||!document.createEvent||(e=document.createEvent("KeyboardEvent"),b instanceof DvtKeyboardEvent?(d=b.keyCode,this._ctrlKeyPressed=b.ctrlKey,this._shiftKeyPressed=b.shiftKey):(d=parseInt(b),void 0===this._ctrlKeyPressed&&(this._ctrlKeyPressed=!1),void 0===this._shiftKeyPressed&&(this._shiftKeyPressed=!1),d==DvtKeyboardEvent.CONTROL?this._ctrlKeyPressed&&c==DvtKeyboardEvent.KEYUP?
this._ctrlKeyPressed=!1:this._ctrlKeyPressed||c!=DvtKeyboardEvent.KEYDOWN||(this._ctrlKeyPressed=!0):d==DvtKeyboardEvent.SHIFT&&(this._shiftKeyPressed&&c==DvtKeyboardEvent.KEYUP?this._shiftKeyPressed=!1:this._shiftKeyPressed||c!=DvtKeyboardEvent.KEYDOWN||(this._shiftKeyPressed=!0))),"undefined"!=typeof e.initKeyboardEvent?e.initKeyboardEvent(c,!0,!0,window,this._ctrlKeyPressed,!1,this._shiftKeyPressed,!1,d,d):e.initKeyEvent(c,!0,!0,window,this._ctrlKeyPressed,!1,!1,this._shiftKeyPressed,d,d),c=DvtSvgEventFactory.newEvent(e),
c.keyCode=d,c.ctrlKey=this._ctrlKeyPressed,c.shiftKey=this._shiftKeyPressed,d=this.getCtx(),d=d.getStage().getSVGRoot().parentNode,DvtHtmlKeyboardListenerUtils._bubbleListener.call(d,c))};DvtDisplayable.prototype.AddElemListener=function(a,b,c){DvtToolkitUtils.addDomEventListener(this.getElem(),a,b,c);a==DvtTouchEvent.TOUCHEND&&DvtToolkitUtils.addDomEventListener(this.getElem(),DvtTouchEvent.TOUCHCANCEL,b,c)};
DvtDisplayable.prototype.FireListener=function(a,b){var c=a.getType?a.getType():a.type;if(c=this._getListeners(c,b,!1))for(var d=0;d<c.length;d+=2){var e=c[d+1];c[d]&&c[d].call(e,a)}};DvtDisplayable.prototype.fireKeyboardListener=function(a,b){this.FireListener(a,b)};DvtDisplayable.prototype._getListeners=function(a,b,c){if(!this._listenerObj)if(c)this._listenerObj={};else return null;a=a+"_"+(b?!0:!1);b=this._listenerObj[a];!b&&c&&(b=[],this._listenerObj[a]=b);return b};
DvtDisplayable.prototype._addListener=function(a,b){var c=this._getListener(b);if(a==DvtKeyboardEvent.KEYUP||a==DvtKeyboardEvent.KEYDOWN||a==DvtKeyboardEvent.KEYPRESS||a==DvtFocusEvent.FOCUS||a==DvtFocusEvent.FOCUSIN||a==DvtFocusEvent.FOCUSOUT||a==DvtFocusEvent.BLUR){var d=this.getCtx().getStage().getSVGRoot().parentNode;d&&(d._obj||(d._obj=[]),-1==DvtArrayUtils.getIndex(d._obj,this)&&d._obj.push(this),c=DvtHtmlKeyboardListenerUtils.getListener(b),DvtToolkitUtils.addDomEventListener(d,a,c,b))}else this.AddElemListener(a,
c,b)};
DvtDisplayable.prototype._removeListener=function(a,b){var c=this._getListener(b);if(a==DvtKeyboardEvent.KEYUP||a==DvtKeyboardEvent.KEYDOWN||a==DvtKeyboardEvent.KEYPRESS||a==DvtFocusEvent.FOCUS||a==DvtFocusEvent.FOCUSIN||a==DvtFocusEvent.FOCUSOUT||a==DvtFocusEvent.BLUR){var d=this.getCtx().getStage().getSVGRoot().parentNode;DvtToolkitUtils.removeDomEventListener(d,a,c,b);c=DvtArrayUtils.getIndex(d._obj,this);-1!==c&&d._obj.splice(c,1)}else DvtToolkitUtils.removeDomEventListener(this.getElem(),a,c,
b)};DvtDisplayable.prototype._getListener=function(a){var b=this;if(a)return this._captureClosure||(this._captureClosure=function(a){b._captureListener(a)}),this._captureClosure;this._bubbleClosure||(this._bubbleClosure=function(a){b._bubbleListener(a)});return this._bubbleClosure};
DvtDisplayable.prototype._bubbleListener=function(a){if(DvtAgent.isPlatformIE())if(a.type==DvtMouseEvent.MOUSEOVER){if(this._bubbleHoverItem){if(this._bubbleHoverItem==a.target)return;var b=DvtSvgEventFactory.newEvent(a,this.getCtx());b.modifyEventForIE(DvtMouseEvent.MOUSEOUT,this._bubbleHoverItem);this.FireListener(b,!1)}this._bubbleHoverItem=a.target}else a.type==DvtMouseEvent.MOUSEOUT&&(this._bubbleHoverItem=null);b=DvtSvgEventFactory.newEvent(a,this.getCtx());this.FireListener(b,!1)};
DvtDisplayable.prototype._captureListener=function(a){if(DvtAgent.isPlatformIE())if(a.type==DvtMouseEvent.MOUSEOVER){if(this._captureHoverItem){if(this._captureHoverItem==a.target)return;var b=DvtSvgEventFactory.newEvent(a,this.getCtx());b.modifyEventForIE(DvtMouseEvent.MOUSEOUT,this._captureHoverItem);this.FireListener(b,!0)}this._captureHoverItem=a.target}else a.type==DvtMouseEvent.MOUSEOUT&&(this._captureHoverItem=null);b=DvtSvgEventFactory.newEvent(a,this.getCtx());this.FireListener(b,!0)};
DvtDisplayable.prototype.getFill=function(){return this.GetProperty("fill")};
DvtDisplayable.prototype.setFill=function(a){this._manageDefinitions(this.GetProperty("fill"),a);if(!a)DvtToolkitUtils.setAttrNullNS(this._elem,"fill","none"),DvtToolkitUtils.removeAttrNullNS(this._elem,"fill-opacity"),this.SetProperty("fill",null);else if(this.GetProperty("fill")!==a){this.SetProperty("fill",a);if(a instanceof DvtGradientFill||a instanceof DvtImageFill||a instanceof DvtPatternFill)DvtSvgShapeUtils.addSpecialFill(a,this.getCtx()),DvtToolkitUtils.setAttrNullNS(this._elem,"fill",DvtToolkitUtils.getUrlById(a.getId()));
else{var b=DvtColorUtils.fixColorForPlatform(a.getColor(),a.getAlpha());b&&b.color&&(DvtToolkitUtils.setAttrNullNS(this._elem,"fill",b.color),null!=b.alpha&&DvtToolkitUtils.setAttrNullNS(this._elem,"fill-opacity",b.alpha,1))}a.__lock();this.UpdateSelectionEffect()}};DvtDisplayable.prototype.setSolidFill=function(a,b){this.setFill(new DvtSolidFill(a,b))};DvtDisplayable.prototype.setInvisibleFill=function(){this.setFill(DvtSolidFill.invisibleFill())};DvtDisplayable.prototype.getStroke=function(){return this._stroke};
DvtDisplayable.prototype.setStroke=function(a){this._manageDefinitions(this._stroke,a);if(this._stroke=a){if(a instanceof DvtGradientStroke){DvtSvgShapeUtils.addSpecialStroke(a,this.getCtx());DvtToolkitUtils.setAttrNullNS(this._elem,"stroke",DvtToolkitUtils.getUrlById(a.getId()));var b=a.getAlpha();null!=b&&DvtToolkitUtils.setAttrNullNS(this._elem,"stroke-opacity",b)}else(b=DvtColorUtils.fixColorForPlatform(a.getColor(),a.getAlpha()))&&b.color?(DvtToolkitUtils.setAttrNullNS(this._elem,"stroke",b.color),
null!=b.alpha&&DvtToolkitUtils.setAttrNullNS(this._elem,"stroke-opacity",b.alpha,1)):(DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke"),DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke-opacity"));DvtToolkitUtils.setAttrNullNS(this._elem,"stroke-width",a.getWidth(),1);a.isFixedWidth()&&DvtToolkitUtils.setAttrNullNS(this._elem,"vector-effect","non-scaling-stroke");a.getType()!==DvtStroke.SOLID?(DvtToolkitUtils.setAttrNullNS(this._elem,"stroke-dasharray",a.getDash()),a.getDashOffset()&&DvtToolkitUtils.setAttrNullNS(this._elem,
"stroke-dashoffset",a.getDashOffset())):(DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke-dasharray"),DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke-dashoffset"));(b=a.getLineJoin())&&DvtToolkitUtils.setAttrNullNS(this._elem,"stroke-linejoin",b);(b=a.getLineEnd())&&DvtToolkitUtils.setAttrNullNS(this._elem,"stroke-linecap",b);(b=a.getMiterLimit())&&DvtToolkitUtils.setAttrNullNS(this._elem,"stroke-miterlimit",b);a.__lock()}else DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke"),DvtToolkitUtils.removeAttrNullNS(this._elem,
"stroke-opacity"),DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke-width"),DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke-dasharray"),DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke-dashoffset"),DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke-linejoin"),DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke-linecap"),DvtToolkitUtils.removeAttrNullNS(this._elem,"stroke-miterlimit")};DvtDisplayable.prototype.setSolidStroke=function(a,b,c){this.setStroke(new DvtSolidStroke(a,b,c))};
DvtDisplayable.prototype._manageDefinitions=function(a,b){a!=b&&(a&&(a._referenceCount--,0==a._referenceCount&&a._defElem&&(this.getCtx().removeDefs(a._defElem),a._defPresent=!1)),b&&(b._referenceCount||(b._referenceCount=0),b._referenceCount++))};DvtDisplayable.prototype.setTranslate=function(a,b){var c=this.getMatrix().clone(),d=c._decompose();null!=a&&(d[DvtMatrix._DECOMP_TX]=a);null!=b&&(d[DvtMatrix._DECOMP_TY]=b);c._recompose(d);this.setMatrix(c)};
DvtDisplayable.prototype.getTranslateX=function(){var a=this.getMatrix();return a?a._decompose()[DvtMatrix._DECOMP_TX]:0};DvtDisplayable.prototype.setTranslateX=function(a){var b=this.getMatrix().clone(),c=b._decompose();c[DvtMatrix._DECOMP_TX]=a;b._recompose(c);this.setMatrix(b)};DvtDisplayable.prototype.getTranslateY=function(){var a=this.getMatrix();return a?a._decompose()[DvtMatrix._DECOMP_TY]:0};
DvtDisplayable.prototype.setTranslateY=function(a){var b=this.getMatrix().clone(),c=b._decompose();c[DvtMatrix._DECOMP_TY]=a;b._recompose(c);this.setMatrix(b)};DvtDisplayable.prototype.setScale=function(a,b){var c=this.getMatrix().clone(),d=c._decompose();a&&(d[DvtMatrix._DECOMP_SX]=a);b&&(d[DvtMatrix._DECOMP_SY]=b);c._recompose(d);this.setMatrix(c)};DvtDisplayable.prototype.getScaleX=function(){var a=this.getMatrix();return a?a._decompose()[DvtMatrix._DECOMP_SX]:1};
DvtDisplayable.prototype.setScaleX=function(a){var b=this.getMatrix().clone(),c=b._decompose();c[DvtMatrix._DECOMP_SX]=a;b._recompose(c);this.setMatrix(b)};DvtDisplayable.prototype.getScaleY=function(){var a=this.getMatrix();return a?a._decompose()[DvtMatrix._DECOMP_SY]:1};DvtDisplayable.prototype.setScaleY=function(a){var b=this.getMatrix().clone(),c=b._decompose();c[DvtMatrix._DECOMP_SY]=a;b._recompose(c);this.setMatrix(b)};
DvtDisplayable.prototype.getRotation=function(){var a=this.getMatrix();return a?a._decompose()[DvtMatrix._DECOMP_R]:0};DvtDisplayable.prototype.setRotation=function(a){var b=this.getMatrix().clone(),c=b._decompose();c[DvtMatrix._DECOMP_R]=a;b._recompose(c);this.setMatrix(b)};DvtDisplayable.prototype.getMatrix=function(){return this._matrix?this._matrix:new DvtMatrix};
DvtDisplayable.prototype.setMatrix=function(a){a&&a.isIdentity()&&(a=null);this._matrix!=a&&((this._matrix=a)&&!this._matrix.isLocked()&&this._matrix.__lock(),!this._outerElem&&DvtDisplayable.HasAttributes(this.getElem(),DvtDisplayable._ATTRS_TRANSFERABLE_TO_OUTER)&&this._createOuterGroupElem(),(this._matrix=a)?(a="matrix("+DvtToolkitUtils.roundDecimal(a.getA())+","+DvtToolkitUtils.roundDecimal(a.getC())+","+DvtToolkitUtils.roundDecimal(a.getB())+","+DvtToolkitUtils.roundDecimal(a.getD())+","+DvtToolkitUtils.roundDecimal(a.getTx())+
","+DvtToolkitUtils.roundDecimal(a.getTy())+")",DvtToolkitUtils.setAttrNullNS(this.getElem(),"transform",a,"matrix(1,0,0,1,0,0)")):DvtToolkitUtils.getAttrNullNS(this.getElem(),"transform")&&(DvtToolkitUtils.removeAttrNullNS(this.getElem(),"transform"),DvtAgent.isPlatformIE()&&DvtToolkitUtils.setAttrNullNS(this.getElem(),"transform",null)))};var DvtContainer=function(a,b){this.Init(a,"g",b)};DvtObj.createSubclass(DvtContainer,DvtDisplayable,"DvtContainer");
DvtContainer.prototype.Init=function(a,b,c){this._bShapeContainer=this instanceof DvtShape;DvtContainer.superclass.Init.call(this,a,null!=b?b:"g",c);this._childGroupElem=null};DvtContainer.AttributesTransferableToGroup="transform opacity style visibility pointer-events clip-path cursor".split(" ");
DvtContainer.prototype.addChild=function(a){if(a){var b=a.getParent();b&&b.removeChild(a);this._arList||(this._arList=[]);a.setParent(this);this._bShapeContainer&&this.CreateChildGroupElem(!1);b=this.getContainerElem();DvtToolkitUtils.appendChildElem(b,a.getOuterElem());this._arList.push(a)}};DvtContainer.prototype.addChildAt=function(a,b){this.AddChildAt(a,b)};
DvtContainer.prototype.AddChildAt=function(a,b){if(0<=b&&b<=this.getNumChildren()&&a){var c=this._findChild(a);if(!(0<=c&&c==b)){var d=a.getParent();d&&d.removeChild(a);a.setParent(this);0<=c&&b==this.getNumChildren()+1&&b--;d=b;this._bShapeContainer&&(this.CreateChildGroupElem(!1),d++);c=this.getContainerElem();(d=c.childNodes[d])||(d=null);c.insertBefore(a.getOuterElem(),d);this._arList||(this._arList=[]);this._arList.splice(b,0,a)}}};DvtContainer.prototype.contains=function(a){return 0<=this._findChild(a)};
DvtContainer.prototype._findChild=function(a){var b=-1;if(this._arList)for(var c=this._arList.length,d=0;d<c;d++)if(this._arList[d]===a){b=d;break}return b};DvtContainer.prototype.getChildAfter=function(a){var b=null;a=this._findChild(a);0<=a&&++a<this._arList.length&&(b=this._arList[a]);return b};DvtContainer.prototype.getChildBefore=function(a){var b=null;a=this._findChild(a);0<a&&(b=this._arList[--a]);return b};
DvtContainer.prototype.getChildAt=function(a){var b=null;this._arList&&this._arList.length>a&&0<=a&&(b=this._arList[a]);return b};DvtContainer.prototype.getChildIndex=function(a){return this._findChild(a)};DvtContainer.prototype.getNumChildren=function(){return this._arList?this._arList.length:0};DvtContainer.prototype.removeChild=function(a){var b=this._findChild(a);-1!==b&&this._removeObj(a,b)};
DvtContainer.prototype.removeChildImpl=function(a){var b=a.getOuterElem();a=a.getParent();b&&a&&this.getContainerElem().removeChild(b);!this._anchorElem&&this._bShapeContainer&&1===this.getNumChildren()&&(a=(b=this._childGroupElem)?b.parentNode:null)&&(DvtDisplayable.TransferAttributes(b,this._elem,this.GetAttributesTransferableToGroup()),a.replaceChild(this._elem,b),this._childGroupElem=null)};DvtContainer.prototype.removeChildAt=function(a){var b=this.getChildAt(a);b&&this._removeObj(b,a);return b};
DvtContainer.prototype.removeChildren=function(){if(this._arList)for(var a=this._arList;0<this.getNumChildren();)this._removeObj(a[0],0)};DvtContainer.prototype._removeObj=function(a,b){this.removeChildImpl(a);a.setParent(null);this._arList.splice(b,1);0===this._arList.length&&(this._arList=null)};DvtContainer.prototype.destroy=function(){DvtContainer.superclass.destroy.call(this);for(var a=this.getNumChildren(),b=0;b<a;b++)this.getChildAt(b).destroy()};DvtContainer.prototype.getHyperlink=function(){return this._linkObj};
DvtContainer.prototype.GetAttributesTransferableToGroup=function(){return DvtContainer.AttributesTransferableToGroup};DvtContainer.prototype.getElem=function(){return this._childGroupElem?this._childGroupElem:this._elem};
DvtContainer.prototype.CreateChildGroupElem=function(a,b){if(this._childGroupElem||!b&&0!==this.getNumChildren())a&&this.removeChildren();else{this._childGroupElem=DvtSvgShapeUtils.createElement("g",DvtDisplayable.SET_ID_ON_DOM&&this._id?this._id+"_g":null);var c=this.getParent();c&&(c=c.getElem(),c.replaceChild(this._childGroupElem,this._elem));a||DvtToolkitUtils.appendChildElem(this._childGroupElem,this._elem);DvtDisplayable.TransferAttributes(this._elem,this._childGroupElem,this.GetAttributesTransferableToGroup());
this._elem._obj&&(this._childGroupElem._obj=this._elem._obj);DvtAgent.isEnvironmentTest()&&document.shapeContainerCount++}};DvtContainer.prototype.getDimensionsWithStroke=function(){for(var a=[],b=this.getNumChildren(),c=0;c<b;c++)a.push(this.getChildAt(c));for(var d=null;0<a.length;){var e=a.shift();(b=e.GetDimensionsWithStroke(this))&&(d=d?d.getUnion(b):b);b=e.getNumChildren();for(c=0;c<b;c++)a.push(e.getChildAt(c))}return d};DvtContainer.prototype.GetDimensionsWithStroke=function(a){return null};
DvtContainer._reparentChildren=function(a,b){var c=b.childNodes;if(c)for(var d,e,g=c.length-1;0<=g;g--)d=c[g],e?a.insertBefore(d,e):DvtToolkitUtils.appendChildElem(a,d),e=d};DvtContainer.prototype.getContainerElem=function(){return this._anchorElem?this._anchorElem:this.getElem()};DvtContainer.prototype.dispatchNativeEvent=function(a){a=a.getNativeEvent();var b=null,b=this._bShapeContainer?this._childGroupElem:this._anchorElem?this._anchorElem:this._elem;b.dispatchEvent&&b.dispatchEvent(a)};
var DvtStage=function(a,b,c){this.Init(a,"g",c);this._SVGRoot=b;this.disableSelection(this._elem);this.setCursor("default")};DvtObj.createSubclass(DvtStage,DvtContainer,"DvtStage");DvtStage.prototype.addChild=function(a){DvtStage.superclass.addChild.call(this,a)};DvtStage.prototype.appendDefs=function(a){DvtToolkitUtils.appendChildElem(this._elemDefs,a)};DvtStage.prototype.getDefs=function(){return this._elemDefs};DvtStage.prototype.getSVGRoot=function(){return this._SVGRoot};
DvtStage.prototype.disableSelection=function(a){a.onselectstart=function(){return!1};a.onselect=function(){return!1}};var DvtShape=function(){};DvtObj.createSubclass(DvtShape,DvtContainer,"DvtShape");
DvtShape.prototype.Init=function(a,b,c){DvtShape.superclass.Init.call(this,a,b,c);this.IsSelected=this._bSelectable=!1;this.OriginalStroke=this.SelectedHoverOuterStroke=this.SelectedHoverInnerStroke=this.SelectedOuterStroke=this.SelectedInnerStroke=this.HoverOuterStroke=this.HoverInnerStroke=this.InnerShape=null;this.IsShowingHoverEffect=this._isOriginalStrokeSet=!1};
DvtShape.prototype.setHollow=function(a,b){if(this._bHollow)this.setFill(this._origFill),this.setStroke(this._origStroke),this._bHollow=!1;else{this._origFill=this.GetProperty("fill");this._origStroke=this.getStroke();var c=DvtSolidFill.invisibleFill(),d;d=a?new DvtSolidStroke(DvtColorUtils.getRGB(a),DvtColorUtils.getAlpha(a),b):new DvtSolidStroke(this.GetProperty("fill").getColor(),this.GetProperty("fill").getAlpha(),b);this.setFill(c);this.setStroke(d);this._bHollow=!0}};
DvtShape.prototype.isHollow=function(){return this._bHollow};DvtShape.prototype.destroy=function(){DvtShape.superclass.destroy.call(this);this.setFill(null);this.setStroke(null)};DvtShape.prototype.getDimensionsWithStroke=function(){var a=this.GetElemDimensionsWithStroke(),b=DvtShape.superclass.getDimensionsWithStroke.call(this);a&&b?a=a.getUnion(b):b&&(a=b);return a};
DvtShape.prototype.GetDimensionsWithStroke=function(a){var b=this.GetElemDimensionsWithStroke();return a&&a!==this?this.ConvertCoordSpaceRect(b,a):b};DvtShape.prototype.GetElemDimensionsWithStroke=function(){var a=DvtShape.superclass.GetElemDimensionsWithStroke.call(this),b=this.getStroke();if(a&&b&&(b=b.getWidth())){var c=.5*b;a.x-=c;a.y-=c;a.w+=b;a.h+=b}return a};
DvtShape.prototype.UpdateSelectionEffect=function(){if(this.isSelected()||this.isHoverEffectShown()){var a;this.InnerShape&&(a=this.InnerShape.getStroke(),this.removeChild(this.InnerShape));this.InnerShape=this.copyShape();this.InnerShape.setMouseEnabled(!1);this.InnerShape.setFill(this.getFill());a&&this.InnerShape.setStroke(a);this.InnerShape.setMouseEnabled(!1);this.InnerShape.setCursor(DvtSelectionEffectUtils.getSelectingCursor());this.AddChildAt(this.InnerShape,0)}};
DvtShape.prototype.setHoverStroke=function(a,b){this.HoverInnerStroke=a;this.HoverOuterStroke=b;return this};DvtShape.prototype.setSelectedStroke=function(a,b){this.SelectedInnerStroke=a;this.SelectedOuterStroke=b;return this};DvtShape.prototype.setSelectedHoverStroke=function(a,b){this.SelectedHoverInnerStroke=a;this.SelectedHoverOuterStroke=b;return this};DvtShape.prototype.setSelectable=function(a){(this._bSelectable=a)?this.setCursor(DvtSelectionEffectUtils.getSelectingCursor()):this.setCursor(null)};
DvtShape.prototype.isSelectable=function(){return this._bSelectable};DvtShape.prototype.isSelected=function(){return this.IsSelected};
DvtShape.prototype.setSelected=function(a){this.IsSelected!=a&&(this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.IsSelected=a,this.isSelected()?(this.UpdateSelectionEffect(),this.isHoverEffectShown()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke))):(this.removeChild(this.InnerShape),
this.setStroke(this.OriginalStroke)))};DvtShape.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.UpdateSelectionEffect(),this.isSelected()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.HoverInnerStroke),this.setStroke(this.HoverOuterStroke)))};
DvtShape.prototype.CreateSelectedHoverStrokes=function(){this.SelectedHoverInnerStroke||(this.SelectedHoverInnerStroke=this.HoverInnerStroke.clone());this.SelectedHoverOuterStroke||(this.SelectedHoverOuterStroke=this.SelectedOuterStroke.clone(),this.SelectedHoverOuterStroke.setWidth(this.SelectedOuterStroke.getWidth()+(this.HoverInnerStroke.getWidth()-this.SelectedInnerStroke.getWidth())))};
DvtShape.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke)):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke)))};DvtShape.prototype.isHoverEffectShown=function(){return this.IsShowingHoverEffect};DvtShape.prototype.addChildAt=function(a,b){DvtShape.superclass.addChildAt.call(this,a,b+this._getInnerShapeCount())};
DvtShape.prototype.getChildAt=function(a,b){return DvtShape.superclass.getChildAt.call(this,a,b+this._getInnerShapeCount())};DvtShape.prototype.getChildIndex=function(a){a=DvtShape.superclass.getChildIndex.call(this,a);return this.isSelected()||this.isHoverEffectShown()?a+1:a};DvtShape.prototype.removeChildAt=function(a){DvtShape.superclass.removeChildAt.call(this,a+this._getInnerShapeCount())};
DvtShape.prototype.getDimensions=function(a){return this.getDimensionsSelf&&0==this.getNumChildren()-this._getInnerShapeCount()?this.getDimensionsSelf(a):DvtShape.superclass.getDimensions.call(this,a)};DvtShape.prototype._getInnerShapeCount=function(){return this.isSelected()||this.isHoverEffectShown()?1:0};DvtShape.prototype.SvgPropertyChanged=function(a){this.UpdateSelectionEffect()};DvtShape.prototype.copyShape=function(){return null};var DvtCircularShape=function(){};
DvtObj.createSubclass(DvtCircularShape,DvtShape,"DvtCircularShape");DvtCircularShape.prototype.Init=function(a,b,c,d,e){DvtCircularShape.superclass.Init.call(this,a,b,e);this.setCx(c).setCy(d)};DvtCircularShape.prototype.getCx=function(){return this.GetProperty("cx")};DvtCircularShape.prototype.setCx=function(a){return this.SetSvgProperty("cx",a,0)};DvtCircularShape.prototype.getCy=function(){return this.GetProperty("cy")};
DvtCircularShape.prototype.setCy=function(a){return this.SetSvgProperty("cy",a,0)};var DvtPolygonalShape=function(){};DvtObj.createSubclass(DvtPolygonalShape,DvtShape,"DvtPolygonalShape");DvtPolygonalShape.prototype.Init=function(a,b,c,d){DvtPolygonalShape.superclass.Init.call(this,a,b,d);c&&this.setPoints(c)};DvtPolygonalShape.prototype.getPoints=function(){return this.GetProperty("arPoints")};
DvtPolygonalShape.prototype.setPoints=function(a){this.SetProperty("arPoints",a);return this.SetSvgProperty("points",DvtSvgShapeUtils.convertPointsArray(a))};DvtPolygonalShape.prototype.getDimensionsSelf=function(a){var b=DvtPolygonUtils.getDimensions(this.getPoints());return this.ConvertCoordSpaceRect(b,a)};var DvtArc=function(a,b,c,d,e,g,h,k,m){this.Init(a,b,c,d,e,g,h,k,m)};DvtObj.createSubclass(DvtArc,DvtShape,"DvtArc");DvtArc.OPEN="OPEN";DvtArc.CHORD="CHORD";DvtArc.PIE="PIE";
DvtArc.prototype.Init=function(a,b,c,d,e,g,h,k,m){DvtArc.superclass.Init.call(this,a,"path",m);this._ae=this._sa=0;e=null===e||isNaN(e)?d:e;this._bInInit=!0;this.setCx(b);this.setCy(c);this.setRx(d);this.setRy(e);this.setAngleStart(g);this.setAngleExtent(h);this.setClosure(k?k:DvtArc.OPEN);this._bInInit=!1;this._createArc()};
DvtArc.prototype._addClosure=function(a){this._ct===DvtArc.CHORD?a+=" z":this._ct===DvtArc.PIE?a+=" L "+this._cx+","+this._cy+" z":this._ct===DvtArc.OPEN&&this.setFill(null);return a};
DvtArc.prototype._createArc=function(){if(!this._bInInit){var a=this._sa*DvtMath.RADS_PER_DEGREE,b=this._ae*DvtMath.RADS_PER_DEGREE,c=this._cx+this._rx*Math.cos(a),d=this._cy-this._ry*Math.sin(a),e=this._cx+this._rx*Math.cos(a+b),a=this._cy-this._ry*Math.sin(a+b),b=180<Math.abs(this._ae)?"1":"0",g=0<this._ae?"0":"1",c="M "+DvtToolkitUtils.roundDecimal(c)+" "+DvtToolkitUtils.roundDecimal(d)+" A "+DvtToolkitUtils.roundDecimal(this._rx)+","+DvtToolkitUtils.roundDecimal(this._ry)+" 0 "+b+","+g+" "+DvtToolkitUtils.roundDecimal(e)+
","+DvtToolkitUtils.roundDecimal(a),c=this._addClosure(c);DvtToolkitUtils.setAttrNullNS(this._elem,"d",c);null!==this._stroke&&this.setStroke(this._stroke)}};DvtArc.prototype.getAngleExtent=function(){return this._ae};DvtArc.prototype.setAngleExtent=function(a){a=null===a||isNaN(a)?0:a;this._ae!==a&&(360===a&&(a=359.99),this._ae=a,this._createArc(),this.UpdateSelectionEffect())};DvtArc.prototype.getAngleStart=function(){return this._sa};
DvtArc.prototype.setAngleStart=function(a){a=null===a||isNaN(a)?0:a;this._sa!==a&&(this._sa=a,this._createArc(),this.UpdateSelectionEffect())};DvtArc.prototype.getClosure=function(){return this._ct};DvtArc.prototype.setClosure=function(a){a!==this._ct&&(this._ct=a,this._createArc(),this.UpdateSelectionEffect())};DvtArc.prototype.getCx=function(){return this._cx};DvtArc.prototype.setCx=function(a){a!==this._cx&&(this._cx=a,DvtToolkitUtils.setAttrNullNS(this._elem,"cx",a),this.UpdateSelectionEffect())};
DvtArc.prototype.getCy=function(){return this._cy};DvtArc.prototype.setCy=function(a){a!==this._cy&&(this._cy=a,DvtToolkitUtils.setAttrNullNS(this._elem,"cy",a),this.UpdateSelectionEffect())};DvtArc.prototype.getRx=function(){return this._rx};DvtArc.prototype.setRx=function(a){a!==this._rx&&(this._rx=a,DvtToolkitUtils.setAttrNullNS(this._elem,"rx",this._rx),this._createArc(),this.UpdateSelectionEffect())};DvtArc.prototype.getRy=function(){return this._ry};
DvtArc.prototype.setRy=function(a){a!==this._ry&&(this._ry=a,DvtToolkitUtils.setAttrNullNS(this._elem,"ry",this._ry),this._createArc(),this.UpdateSelectionEffect())};DvtArc.prototype.setArc=function(a,b){this.setAngleStart(a);this.setAngleExtentStart(b)};DvtArc.prototype.setRadius=function(a,b){this.setRx(a);this.setRy(b)};DvtArc.prototype.copyShape=function(){return new DvtArc(this.getCtx(),this.getCx(),this.getCy(),this.getRx(),this.getRy(),this.getAngleStart(),this.getAngleExtent(),this.getClosure())};
DvtArc.prototype.GetAriaElem=function(){DvtAgent.isTouchDevice()&&this.CreateChildGroupElem(!1,!0);return DvtArc.superclass.GetAriaElem.call(this)};var DvtCircle=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtCircle,DvtCircularShape,"DvtCircle");DvtCircle.prototype.Init=function(a,b,c,d,e){DvtCircle.superclass.Init.call(this,a,"circle",b,c,e);this.setRadius(d)};DvtCircle.prototype.getRadius=function(){return this.GetProperty("r")};
DvtCircle.prototype.setRadius=function(a){return this.SetSvgProperty("r",a)};DvtCircle.prototype.copyShape=function(){return new DvtCircle(this.getCtx(),this.getCx(),this.getCy(),this.getRadius())};DvtCircle.prototype.getDimensionsSelf=function(a){var b=new DvtRectangle(this.getCx()-this.getRadius(),this.getCy()-this.getRadius(),2*this.getRadius(),2*this.getRadius());return this.ConvertCoordSpaceRect(b,a)};var DvtImage=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};
DvtObj.createSubclass(DvtImage,DvtShape,"DvtImage");DvtImage.XLINK_NS="http://www.w3.org/1999/xlink";DvtImage.prototype.Init=function(a,b,c,d,e,g,h){DvtImage.superclass.Init.call(this,a,"image",h);DvtAgent.isPlatformIE()&&(DvtToolkitUtils.setAttrNullNS(this._elem,"fill","#FFFFFF"),DvtToolkitUtils.setAttrNullNS(this._elem,"fill-opacity","0"));this.setImage(b,c,d,e,g);this.setAriaProperty("hidden","true")};DvtImage.prototype.getX=function(){return this.GetProperty("x")};
DvtImage.prototype.setX=function(a){return this.SetSvgProperty("x",a)};DvtImage.prototype.getY=function(){return this.GetProperty("y")};DvtImage.prototype.setY=function(a){return this.SetSvgProperty("y",a)};DvtImage.prototype.getWidth=function(){return this.GetProperty("width")};DvtImage.prototype.setWidth=function(a){return this.SetSvgProperty("width",a)};DvtImage.prototype.getHeight=function(){return this.GetProperty("height")};
DvtImage.prototype.setHeight=function(a){return this.SetSvgProperty("height",a)};DvtImage.prototype.getSrc=function(){return this._src};DvtImage.prototype.setSrc=function(a){if(a!==this._src){var b=a;this._src=a;DvtAgent.isEnvironmentBatik()&&(a=DvtJavaImageLoader.getImageInfo(a))&&(b=a.uri);DvtToolkitUtils.setAttrNS(this._elem,DvtImage.XLINK_NS,"xlink:href",b)}return this};DvtImage.prototype.getPos=function(){return new DvtPoint(this._x,this._y)};DvtImage.prototype.setPos=function(a,b){this.setX(a).setY(b)};
DvtImage.prototype.setImage=function(a,b,c,d,e){b instanceof DvtImage?(this.setSrc(a.src),this.setPos(a.x,a.y),this.setWidth(a.w),this.setHeight(a.h)):(this.setSrc(a),this.setPos(b,c),this.setWidth(d),this.setHeight(e));DvtToolkitUtils.setAttrNullNS(this._elem,"preserveAspectRatio","none")};
DvtImage.prototype.getDimensions=function(a){if(this.getDimensionsSelf&&0==this.getNumChildren()-this._getInnerShapeCount())return this.getDimensionsSelf(a);var b=this.getElem().getBBox(),b=b.width&&b.height?new DvtRectangle(b.x,b.y,b.width,b.height):new DvtRectangle(b.x,b.y,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(b,a)};DvtImage.prototype.__setDimensions=function(a){this.setWidth(a.width);this.setHeight(a.height)};DvtImage.prototype.UpdateSelectionEffect=function(){};
DvtImage.prototype.copyShape=function(){return new DvtImage(this.getCtx(),this.getSrc(),this.getX(),this.getY(),this.getWidth(),this.getHeight())};DvtImage.prototype.getDimensionsSelf=function(a){var b=new DvtRectangle(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(b,a)};DvtImage.prototype.setAriaProperty=function(a,b){DvtImage.superclass.setAriaProperty.call(this,a,b);"hidden"!=a&&DvtImage.superclass.setAriaProperty.call(this,"hidden",null)};
var DvtLine=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtLine,DvtShape,"DvtLine");DvtLine.prototype.Init=function(a,b,c,d,e,g){DvtLine.superclass.Init.call(this,a,"line",g);this.setX1(b).setY1(c).setX2(d).setY2(e);this._bHollow=!1};DvtLine.prototype.getX1=function(){return this.GetProperty("x1")};DvtLine.prototype.setX1=function(a){return this.SetSvgProperty("x1",a,0)};DvtLine.prototype.getY1=function(){return this.GetProperty("y1")};
DvtLine.prototype.setY1=function(a){return this.SetSvgProperty("y1",a,0)};DvtLine.prototype.getX2=function(){return this.GetProperty("x2")};DvtLine.prototype.setX2=function(a){return this.SetSvgProperty("x2",a,0)};DvtLine.prototype.getY2=function(){return this.GetProperty("y2")};DvtLine.prototype.setY2=function(a){return this.SetSvgProperty("y2",a,0)};
DvtLine.prototype.setHollow=function(){var a=this._elem.parentNode;if(this._bHollow)this._origElem&&(a.replaceChild(this._origElem,this._elem),DvtToolkitUtils.setAttrNullNS(this._origElem,"opacity",this._alpha),this._elem=this._origElem,this._origElem=null,this._bHollow=!1);else{this._origElem=this._elem;var b,c=this.getX2()-this.getX1(),d=this.getY1()-c/2,e=this.getStroke();b=DvtSvgShapeUtils.createElement("rect");DvtToolkitUtils.setAttrNullNS(b,"x",this.getX1());DvtToolkitUtils.setAttrNullNS(b,
"y",d);DvtToolkitUtils.setAttrNullNS(b,"width",this.getX2()-this.getX1());DvtToolkitUtils.setAttrNullNS(b,"height",c);if(c=e.getColor())e=e.getAlpha(),DvtAgent.isBrowserSafari()&&-1!==c.indexOf("rgba")?(DvtToolkitUtils.setAttrNullNS(b,"stroke",DvtColorUtils.getRGB(c)),null!=e?DvtToolkitUtils.setAttrNullNS(b,"stroke-opacity",DvtColorUtils.getAlpha(c)*e):DvtToolkitUtils.setAttrNullNS(b,"stroke-opacity",DvtColorUtils.getAlpha(c))):(DvtToolkitUtils.setAttrNullNS(b,"stroke",c),null!=e&&DvtToolkitUtils.setAttrNullNS(b,
"stroke-opacity",e));DvtToolkitUtils.setAttrNullNS(b,"fill","#ffffff");DvtToolkitUtils.setAttrNullNS(b,"fill-opacity","0.001");DvtToolkitUtils.setAttrNullNS(b,"shape-rendering","crispEdges");b._obj=this;a.replaceChild(b,this._elem);this._elem=b;DvtToolkitUtils.setAttrNullNS(this._elem,"opacity",this._alpha);this._bHollow=!0}};
DvtLine.prototype.getDimensions=function(a){a=DvtLine.superclass.getDimensions.call(this,a);if(this._childGroupElem&&this._elem){var b=this._childGroupElem.getBBox();0==b.x&&0==b.y&&0==b.width&&0==b.height&&(a=this._elem.getBBox(),a=new DvtRectangle(a.x,a.y,a.width,a.height))}return a};DvtLine.prototype.copyShape=function(){return new DvtLine(this.getCtx(),this.getX1(),this.getY1(),this.getX2(),this.getY2())};
DvtLine.prototype.getDimensionsSelf=function(a){var b=Math.min(this.getX1(),this.getX2()),c=Math.min(this.getY1(),this.getY2()),d=Math.abs(this.getX1()-this.getX2()),e=Math.abs(this.getY1()-this.getY2()),b=new DvtRectangle(b,c,d,e);return this.ConvertCoordSpaceRect(b,a)};var DvtMarker=function(a,b,c,d,e,g,h,k,m,n,t){this.Init(a,b,c,d,e,g,h,k,m,n,t)};DvtObj.createSubclass(DvtMarker,DvtShape,"DvtMarker");DvtMarker.NONE="none";DvtMarker.CIRCLE="circle";DvtMarker.SQUARE="square";DvtMarker.DIAMOND="diamond";
DvtMarker.TRIANGLE_UP="triangleUp";DvtMarker.TRIANGLE_DOWN="triangleDown";DvtMarker.PLUS="plus";DvtMarker.HUMAN="human";DvtMarker.ROUNDED_RECTANGLE="roundedRect";DvtMarker.CUSTOM="custom";DvtMarker.IMAGE="image";DvtMarker.SELECTION_STROKE_COLOR="#000000";DvtMarker.SELECTION_STROKE_ALPHA=1;DvtMarker.IMAGE_SOURCE=0;DvtMarker.IMAGE_SOURCE_SELECTED=1;DvtMarker.IMAGE_SOURCE_HOVER=2;DvtMarker.IMAGE_SOURCE_HOVER_SELECTED=3;DvtMarker._REFERENCE_X=0;DvtMarker._REFERENCE_Y=0;DvtMarker._REFERENCE_W=10;
DvtMarker._REFERENCE_H=10;DvtMarker.MARKER_CIRCLE_ELEM_NAME="circle";DvtMarker.MARKER_ELLIPSE_ELEM_NAME="ellipse";DvtMarker.MARKER_LINE_ELEM_NAME="line";DvtMarker.MARKER_PATH_ELEM_NAME="path";DvtMarker.MARKER_POLYGON_ELEM_NAME="polygon";DvtMarker.MARKER_POLYLINE_ELEM_NAME="polyline";DvtMarker.MARKER_RECT_ELEM_NAME="rect";
DvtMarker.prototype.Init=function(a,b,c,d,e,g,h,k,m,n,t){this._skin=c;this._xx=d;this._yy=e;this._ww=g;this._hh=h;this._sx=m?m:1;this._sy=n?n:1;this._maintainAspect=t;this._initType=b;var u,v;b instanceof Array?(this._setMarkerImageStates(b),b=DvtMarker.IMAGE):DvtMarker.isBuiltInShape(b)?b=DvtMarker.convertShapeString(b):(v=DvtMarkerUtils.getCustomMarkerInfo(a,b))?(u=v instanceof DvtPath?"path":"g",g&&h||(b=DvtDisplayableUtils.getDimForced(a,v),g=g?g:b.w,h=h?h:b.h,this._ww=g,this._hh=h),b=DvtMarker.CUSTOM):
b=DvtMarker.SQUARE;DvtMarker.superclass.Init.call(this,a,u?u:b===DvtMarker.CIRCLE?"ellipse":b===DvtMarker.SQUARE?"rect":b===DvtMarker.ROUNDED_RECTANGLE?"rect":b===DvtMarker.TRIANGLE_UP?"polygon":b===DvtMarker.TRIANGLE_DOWN?"polygon":b===DvtMarker.DIAMOND?"polygon":b===DvtMarker.PLUS?"polygon":b===DvtMarker.HUMAN?"path":b===DvtMarker.IMAGE?"image":"rect",k);this._type=b;this._defaultScale=1;b===DvtMarker.HUMAN&&(v=DvtMarkerUtils.getBuiltinMarkerInfo(a,"human",this.getSkin()));a=this.getScaledWidth();
g=this.getScaledHeight();this._size=Math.max(a,g);this.setBounds(d,e,a,g,v);this._dataColor="#000000";this._savedFill=this._savedStroke=null;this._bSavedFill=this._bSavedStroke=!1;this._selStrokeAlpha=this._selStrokeColor=this._selStrokeWidth=null};DvtMarker.prototype.getSize=function(){return this._size};DvtMarker.prototype.getInitType=function(){return this._initType};DvtMarker.prototype.setBounds=function(a,b,c,d,e){this._shapeInitialized||this.InitShape(this._type,e,a,b,c,d)};
DvtMarker.prototype.InitShape=function(a,b,c,d,e,g){this._shapeInitialized=!0;this._x=c;this._y=d;this._w=e;this._h=g;if(a===DvtMarker.CUSTOM||a===DvtMarker.HUMAN){var h=DvtDisplayableUtils.getDimForced(this.getCtx(),b),k=Math.max(h.w,h.h),m=1,n=1;a===DvtMarker.CUSTOM?(m=e/(this.getMaintainAspect()?k:h.w),n=g/(this.getMaintainAspect()?k:h.h),c=c+-h.x*m+(e-h.w*m)/2,d=d+-h.y*n+(g-h.h*n)/2,this._setCustomMarker(b,c,d,m,n)):a===DvtMarker.HUMAN&&(m=e/k,n=g/k,c=c+-h.x*m+(e-h.w*m)/2,d=d+-h.y*n+(g-h.h*n)/
2,a=DvtCSSStyle.afterSkinAlta(this.getSkin())?DvtMarkerDef.HUMAN2_CMDS:DvtMarkerDef.HUMAN_CMDS,this._setCmds(DvtPathUtils.transformPath(a,c,d,m,n)));this._defaultScale=h.h===k?g/k:e/k}else if(a===DvtMarker.IMAGE)a=this.GetMarkerImage(DvtMarker.IMAGE_SOURCE),this._setX(c),this._setY(d),this._setWidth(e),this._setHeight(g),this.setSource(a),DvtToolkitUtils.setAttrNullNS(this._elem,"preserveAspectRatio","none"),DvtAgent.isPlatformIE()&&(DvtToolkitUtils.setAttrNullNS(this._elem,"fill","#FFFFFF"),DvtToolkitUtils.setAttrNullNS(this._elem,
"fill-opacity","0"));else if(a===DvtMarker.SQUARE)this._setX(c),this._setY(d),this._setWidth(e),this._setHeight(g);else if(a===DvtMarker.ROUNDED_RECTANGLE){this._setX(c);this._setY(d);this._setWidth(e);this._setHeight(g);c=d=6;if(e/4<d||g/4<c)c=d=Math.min(e,g)/4;this._setRX(d);this._setRY(c)}else a===DvtMarker.CIRCLE?(this._setCx(c+e/2),this._setCy(d+g/2),this._setRX(e/2),this._setRY(g/2)):(h=[],k=e/2,m=g/2,a===DvtMarker.TRIANGLE_UP?(h.push(c),h.push(d+g),h.push(c+e),h.push(d+g),h.push(c+k),h.push(d),
this._setPolygon(h)):a===DvtMarker.TRIANGLE_DOWN?(h.push(c),h.push(d),h.push(c+e),h.push(d),h.push(c+k),h.push(d+g),this._setPolygon(h)):a===DvtMarker.DIAMOND?(h.push(c+k),h.push(d),h.push(c+e),h.push(d+m),h.push(c+k),h.push(d+g),h.push(c),h.push(d+m),this._setPolygon(h)):a===DvtMarker.PLUS&&(a=e/3,k=2*a,m=g/3,n=2*m,h.push(c+a),h.push(d),h.push(c+k),h.push(d),h.push(c+k),h.push(d+m),h.push(c+e),h.push(d+m),h.push(c+e),h.push(d+n),h.push(c+k),h.push(d+n),h.push(c+k),h.push(d+g),h.push(c+a),h.push(d+
g),h.push(c+a),h.push(d+n),h.push(c),h.push(d+n),h.push(c),h.push(d+m),h.push(c+a),h.push(d+m),h.push(c+a),h.push(d),this._setPolygon(h)))};DvtMarker.prototype.getDefaultScale=function(){return this._defaultScale};DvtMarker.prototype.getSkin=function(){return this._skin};DvtMarker.prototype.getX=function(){return this._xx};DvtMarker.prototype.getY=function(){return this._yy};DvtMarker.prototype.getWidth=function(){return this._ww};DvtMarker.prototype.getHeight=function(){return this._hh};
DvtMarker.prototype.getScaledWidth=function(){return this._sx?this._ww*this._sx:this._ww};DvtMarker.prototype.getScaledHeight=function(){return this._sy?this._hh*this._sy:this._hh};DvtMarker.prototype.getType=function(){return this._type};DvtMarker.prototype.getSx=function(){return this._sx};DvtMarker.prototype.getSy=function(){return this._sy};DvtMarker.prototype.getMaintainAspect=function(){return 1==this._maintainAspect};
DvtMarker.prototype.SetStrokeWidth=function(a){var b=this.getStroke();b&&(b=b.clone(),b.setWidth(a),this.setStroke(b))};DvtMarker.prototype.GetStrokeWidth=function(){var a=this.getStroke();return a?a.getWidth():0};DvtMarker.prototype.showHoverEffect=function(){this.getType()===DvtMarker.IMAGE?(this.IsShowingHoverEffect=!0,this.isSelected()?this.setSource(this.GetMarkerImage(DvtMarker.IMAGE_SOURCE_HOVER_SELECTED)):this.setSource(this.GetMarkerImage(DvtMarker.IMAGE_SOURCE_HOVER))):DvtMarker.superclass.showHoverEffect.call(this)};
DvtMarker.prototype.hideHoverEffect=function(){this.getType()===DvtMarker.IMAGE?(this.IsShowingHoverEffect=!1,this.isSelected()?this.setSource(this.GetMarkerImage(DvtMarker.IMAGE_SOURCE_SELECTED)):this.setSource(this.GetMarkerImage(DvtMarker.IMAGE_SOURCE))):DvtMarker.superclass.hideHoverEffect.call(this)};
DvtMarker.prototype.setSelected=function(a){this.IsSelected!=a&&(this.getType()===DvtMarker.IMAGE?(this.IsSelected=a)?this.isHoverEffectShown()?this.setSource(this.GetMarkerImage(DvtMarker.IMAGE_SOURCE_HOVER_SELECTED)):this.setSource(this.GetMarkerImage(DvtMarker.IMAGE_SOURCE_SELECTED)):this.setSource(this.GetMarkerImage(DvtMarker.IMAGE_SOURCE)):DvtMarker.superclass.setSelected.call(this,a))};
DvtMarker.prototype.setDataColor=function(a,b){this._dataColor=a;if(!b){var c=DvtColorUtils.adjustHSL(a,0,0,.15),d=new DvtSolidStroke("#FFFFFF",1,1.5);this.setHoverStroke(new DvtSolidStroke(c,1,2));this.setSelectedStroke(d,new DvtSolidStroke("#5A5A5A",1,4.5));this.setSelectedHoverStroke(d,new DvtSolidStroke(c,1,4.5));this.HoverInnerStroke.setFixedWidth(!0);this.SelectedInnerStroke.setFixedWidth(!0);this.SelectedOuterStroke.setFixedWidth(!0);this.SelectedHoverInnerStroke.setFixedWidth(!0);this.SelectedHoverOuterStroke.setFixedWidth(!0)}};
DvtMarker.prototype.getDataColor=function(){return this._dataColor};DvtMarker.prototype.setHollow=function(a){var b=this.getScaleX(),c=this.getScaleY(),b=Math.min(b,c),c=this.GetStrokeWidth();DvtMarker.superclass.setHollow.call(this,a,(c?c:1)/b)};DvtMarker.prototype.setText=function(a){this._markerText=a};DvtMarker.prototype.setAlpha=function(a){DvtMarker.superclass.setAlpha.call(this,a);this._markerText&&this._markerText.setAlpha(a);this.UpdateSelectionEffect()};
DvtMarker.prototype._setCx=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"cx",a)};DvtMarker.prototype._setCy=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"cy",a)};DvtMarker.prototype._setX=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"x",a)};DvtMarker.prototype._setY=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"y",a)};DvtMarker.prototype._setWidth=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"width",a)};
DvtMarker.prototype._setHeight=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"height",a)};DvtMarker.prototype._setRadius=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"r",a)};DvtMarker.prototype._setPolygon=function(a){a=DvtSvgShapeUtils.convertPointsArray(a);DvtToolkitUtils.setAttrNullNS(this._elem,"points",a)};DvtMarker.prototype._setCmds=function(a){a!==this._cmds&&(this._cmds=a,DvtToolkitUtils.setAttrNullNS(this._elem,"d",a))};DvtMarker.prototype.UpdateMarkerImage=function(a){this.setSource(a)};
DvtMarker.prototype.setSource=function(a){if(DvtAgent.isEnvironmentBatik()){var b=DvtJavaImageLoader.getImageInfo(a);b&&(a=b.uri)}DvtToolkitUtils.setAttrNS(this._elem,DvtImage.XLINK_NS,"xlink:href",a)};
DvtMarker.convertShapeString=function(a){return a==DvtMarker.CIRCLE||"c"==a?DvtMarker.CIRCLE:a==DvtMarker.SQUARE||"s"==a?DvtMarker.SQUARE:a==DvtMarker.DIAMOND||"d"==a?DvtMarker.DIAMOND:a==DvtMarker.TRIANGLE_UP||"tu"==a||"t"==a?DvtMarker.TRIANGLE_UP:a==DvtMarker.TRIANGLE_DOWN||"td"==a?DvtMarker.TRIANGLE_DOWN:a==DvtMarker.PLUS||"p"==a?DvtMarker.PLUS:a==DvtMarker.HUMAN||"h"==a?DvtMarker.HUMAN:a==DvtMarker.ROUNDED_RECTANGLE||"rr"==a?DvtMarker.ROUNDED_RECTANGLE:DvtMarker.NONE};
DvtMarker.prototype.GetAttributesTransferableToGroup=function(){var a=DvtContainer.AttributesTransferableToGroup.slice(0);if(!this.getMatrix()){var b=DvtArrayUtils.getIndex(a,"transform");a.splice(b,1)}b=DvtArrayUtils.getIndex(a,"visibility");a.splice(b,1);return a};DvtMarker.prototype.setMouseEnabled=function(a){DvtMarker.superclass.setMouseEnabled.call(this,a);this._childGroupElem&&DvtToolkitUtils.setAttrNullNS(this._childGroupElem,"pointer-events",a?"visiblePainted":"none")};
DvtMarker.prototype._setCustomMarker=function(a,b,c,d,e){if(this._isMultiPaths())return a=this._cloneMultiPaths(a,b,c,d,e),this.addChild(a),a;this._setSingleShape(a,b,c,d,e);return null};DvtMarker.prototype._setSingleShape=function(a,b,c,d,e){a.getElem().nodeName==DvtMarker.MARKER_PATH_ELEM_NAME&&this._setCmds(DvtPathUtils.transformPath(a.getCmds(),b,c,d,e));(b=a.getFill())&&this.setFill(b);(b=a.getAlpha())&&this.setAlpha(b);if(a=a.getStroke())a=a.clone(),a.setWidth(Math.min(d,e)*a.getWidth()),this.setStroke(a)};
DvtMarker.prototype._setPoints=function(a){a!==this._points&&(this._points=a,DvtToolkitUtils.setAttrNullNS(this._elem,"points",a))};DvtMarker.prototype._setX1=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"x1",a)};DvtMarker.prototype._setY1=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"y1",a)};DvtMarker.prototype._setX2=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"x2",a)};DvtMarker.prototype._setY2=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"y2",a)};
DvtMarker.prototype._setRX=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"rx",a)};DvtMarker.prototype._setRY=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"ry",a)};
DvtMarker.prototype._cloneMultiPaths=function(a,b,c,d,e){for(var g=this.getCtx(),h=new DvtContainer(g,a.getId()+"_x"),k=a.getNumChildren(),m,n,t=0;t<k;t++)m=a.getChildAt(t),n=new DvtPath(g,DvtPathUtils.transformPath(m.getCmds(),b,c,d,e),m.getId()),m.getFill()&&n.setFill(m.getFill()),m.getAlpha()&&n.setAlpha(m.getAlpha()),m.getStroke()&&(m=m.getStroke().clone(),m.setWidth(Math.min(d,e)*m.getWidth()),n.setStroke(m)),h.addChild(n);return h};
DvtMarker.prototype.addChild=function(a){this._isMultiPaths()?DvtToolkitUtils.appendChildElem(this.getElem(),a.getOuterElem()):DvtMarker.superclass.addChild.call(this,a)};DvtMarker.prototype._isMultiPaths=function(){return"g"==this.getElem().nodeName&&this.getType()!=DvtMarker.IMAGE};DvtMarker.prototype.getDimensions=function(){if(this._type==DvtMarker.IMAGE){var a=this.getScaledWidth(),b=this.getScaledHeight();return new DvtRectangle(this._x,this._y,a,b)}return DvtMarker.superclass.getDimensions.call(this)};
DvtMarker.prototype.GetElemDimensionsWithStroke=function(){return this._type==DvtMarker.IMAGE?this.getDimensions():DvtMarker.superclass.GetElemDimensionsWithStroke.call(this)};DvtMarker.prototype.setVisible=function(a){DvtMarker.superclass.setVisible.call(this,a);this._markerText&&this._markerText.setVisible(a)};
DvtMarker.prototype._setMarkerImageStates=function(a){var b=a[0];this._imageStates=[b];this._imageStates.push(a[1]?a[1]:b);this._imageStates.push(a[2]?a[2]:b);this._imageStates.push(a[3]?a[3]:this._imageStates[1])};DvtMarker.prototype.GetMarkerImage=function(a){return this._imageStates?this._imageStates[a]:null};
DvtMarker.isBuiltInShape=function(a){a=DvtMarker.convertShapeString(a);return a==DvtMarker.CIRCLE||a==DvtMarker.SQUARE||a==DvtMarker.DIAMOND||a==DvtMarker.TRIANGLE_UP||a==DvtMarker.TRIANGLE_DOWN||a==DvtMarker.PLUS||a==DvtMarker.HUMAN||a==DvtMarker.ROUNDED_RECTANGLE?!0:!1};DvtMarker.prototype.copyShape=function(){return new DvtMarker(this.getCtx(),this.getInitType(),this.getSkin(),this.getX(),this.getY(),this.getWidth(),this.getHeight(),null,this.getSx(),this.getSy(),this.getMaintainAspect())};
DvtMarker.prototype.getDimensions=function(a){return this.InnerShape&&this.InnerShape.getParent()?this.InnerShape.getDimensions(a):DvtMarker.superclass.getDimensions.call(this,a)};DvtMarker.prototype.getDimensionsSelf=function(a){var b=new DvtRectangle(this.getX(),this.getY(),this.getScaledWidth(),this.getScaledHeight());return this.ConvertCoordSpaceRect(b,a)};var DvtSimpleMarker=function(a,b,c,d,e,g,h,k,m){this.Init(a,b,c,d,e,g,h,k,m)};DvtObj.createSubclass(DvtSimpleMarker,DvtShape,"DvtSimpleMarker");
DvtSimpleMarker.CIRCLE="circle";DvtSimpleMarker.ELLIPSE="ellipse";DvtSimpleMarker.SQUARE="square";DvtSimpleMarker.RECTANGLE="rectangle";DvtSimpleMarker.ROUNDED_RECT="roundedRect";DvtSimpleMarker.DIAMOND="diamond";DvtSimpleMarker.TRIANGLE_UP="triangleUp";DvtSimpleMarker.TRIANGLE_DOWN="triangleDown";DvtSimpleMarker.PLUS="plus";DvtSimpleMarker.HUMAN="human";DvtSimpleMarker.STAR="star";DvtSimpleMarker._CIRCLE_ELEM="circle";DvtSimpleMarker._ELLIPSE_ELEM="ellipse";DvtSimpleMarker._RECT_ELEM="rect";
DvtSimpleMarker._PATH_ELEM="path";DvtSimpleMarker._POLYGON_ELEM="polygon";DvtSimpleMarker._SHAPE_ELEM_MAP={};DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.CIRCLE]=DvtSimpleMarker._CIRCLE_ELEM;DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.ELLIPSE]=DvtSimpleMarker._ELLIPSE_ELEM;DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.SQUARE]=DvtSimpleMarker._RECT_ELEM;DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.RECTANGLE]=DvtSimpleMarker._RECT_ELEM;
DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.ROUNDED_RECT]=DvtSimpleMarker._RECT_ELEM;DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.DIAMOND]=DvtSimpleMarker._POLYGON_ELEM;DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.TRIANGLE_UP]=DvtSimpleMarker._POLYGON_ELEM;DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.TRIANGLE_DOWN]=DvtSimpleMarker._POLYGON_ELEM;DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.PLUS]=DvtSimpleMarker._POLYGON_ELEM;DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.HUMAN]=DvtSimpleMarker._PATH_ELEM;
DvtSimpleMarker._SHAPE_ELEM_MAP[DvtSimpleMarker.STAR]=DvtSimpleMarker._POLYGON_ELEM;DvtSimpleMarker._DEFAULT_BORDER_RADIUS=6;
DvtSimpleMarker.prototype.Init=function(a,b,c,d,e,g,h,k,m){this._bMaintainAspectRatio=!0;!1===k&&(this._bMaintainAspectRatio=!1,b==DvtSimpleMarker.CIRCLE&&(b=DvtSimpleMarker.ELLIPSE));this._skin=c;this._shape=b?b:DvtSimpleMarker.RECTANGLE;this._dataColor="#000000";c=b?DvtSimpleMarker._SHAPE_ELEM_MAP[b]:DvtSimpleMarker._RECT_ELEM;null==c&&(this._isCustomShape=!0,this._path=new DvtPath(a,b),c=DvtSimpleMarker._PATH_ELEM);DvtSimpleMarker.superclass.Init.call(this,a,c,m);this._shape==DvtSimpleMarker.HUMAN&&
(this._path=DvtMarkerUtils.getBuiltinMarkerInfo(a,DvtSimpleMarker.HUMAN,this._skin));this._propertyChange={};this.setCenter(d,e,!0).setSize(g,h)};DvtSimpleMarker.prototype.setCenterDimensions=function(a){return this.setCenter(a.x,a.y,!0).setSize(a.w,a.h)};DvtSimpleMarker.prototype.getCenterDimensions=function(){return new DvtRectangle(this._cx,this._cy,this._width,this._height)};DvtSimpleMarker.prototype.setSize=function(a,b,c){return this.setWidth(a,!0).setHeight(b,c)};
DvtSimpleMarker.prototype.setCenter=function(a,b,c){return this.setCx(a,!0).setCy(b,c)};
DvtSimpleMarker.prototype._updateSvgProperties=function(){if(this._propertyChange.width||this._propertyChange.height){var a=Math.min(this._width,this._height);this._propertyChange.s=this._s!=a;this._s=a}if(this._shape==DvtSimpleMarker.SQUARE){var a=this.getMaintainAspectRatio()?this._s:this._width,b=this.getMaintainAspectRatio()?this._s:this._height;(this._propertyChange.cx||this._propertyChange.s)&&DvtToolkitUtils.setAttrNullNS(this._elem,"x",this._cx-a/2,0);(this._propertyChange.cy||this._propertyChange.s)&&
DvtToolkitUtils.setAttrNullNS(this._elem,"y",this._cy-b/2,0);if(this.getMaintainAspectRatio()?this._propertyChange.s:this._propertyChange.width||this._propertyChange.height)DvtToolkitUtils.setAttrNullNS(this._elem,"width",a,0),DvtToolkitUtils.setAttrNullNS(this._elem,"height",b,0)}else this._shape==DvtSimpleMarker.RECTANGLE||this._shape==DvtSimpleMarker.ROUNDED_RECT?((this._propertyChange.cx||this._propertyChange.width)&&DvtToolkitUtils.setAttrNullNS(this._elem,"x",this._cx-this._width/2,0),(this._propertyChange.cy||
this._propertyChange.height)&&DvtToolkitUtils.setAttrNullNS(this._elem,"y",this._cy-this._height/2,0),this._propertyChange.width&&DvtToolkitUtils.setAttrNullNS(this._elem,"width",this._width,0),this._propertyChange.height&&DvtToolkitUtils.setAttrNullNS(this._elem,"height",this._height,0),this._shape==DvtSimpleMarker.ROUNDED_RECT&&this._propertyChange.s&&(a=this._s/4<DvtSimpleMarker._DEFAULT_BORDER_RADIUS?this._s/4:DvtSimpleMarker._DEFAULT_BORDER_RADIUS,DvtToolkitUtils.setAttrNullNS(this._elem,"rx",
a,0),DvtToolkitUtils.setAttrNullNS(this._elem,"ry",a,0))):this._shape==DvtSimpleMarker.CIRCLE||this._shape==DvtSimpleMarker.ELLIPSE?(this._propertyChange.cx&&DvtToolkitUtils.setAttrNullNS(this._elem,"cx",this._cx,0),this._propertyChange.cy&&DvtToolkitUtils.setAttrNullNS(this._elem,"cy",this._cy,0),this._shape==DvtSimpleMarker.CIRCLE?this._propertyChange.s&&DvtToolkitUtils.setAttrNullNS(this._elem,"r",this._s/2,0):(this._propertyChange.width&&DvtToolkitUtils.setAttrNullNS(this._elem,"rx",this._width/
2,0),this._propertyChange.height&&DvtToolkitUtils.setAttrNullNS(this._elem,"ry",this._height/2,0))):this._isPolygon()?(this._propertyChange.s||this._propertyChange.cx||this._propertyChange.cy)&&this._setPolygon(this._getPolygonArray()):this._isPath()&&(this._propertyChange.s||this._propertyChange.cx||this._propertyChange.cy)&&this._setCmds(this._getCmds());this.UpdateSelectionEffect();this._propertyChange={};return this};DvtSimpleMarker.prototype.getCx=function(){return this._cx};
DvtSimpleMarker.prototype.setCx=function(a,b){this._propertyChange.cx=this._cx!=a;this._cx=a;return b?this:this._updateSvgProperties()};DvtSimpleMarker.prototype.getCy=function(){return this._cy};DvtSimpleMarker.prototype.setCy=function(a,b){this._propertyChange.cy=this._cy!=a;this._cy=a;return b?this:this._updateSvgProperties()};DvtSimpleMarker.prototype.getSize=function(){return this._s};DvtSimpleMarker.prototype.getWidth=function(){return this._width};
DvtSimpleMarker.prototype.setWidth=function(a,b){this._propertyChange.width=this._width!=a;this._width=a;return b?this:this._updateSvgProperties()};DvtSimpleMarker.prototype.getHeight=function(){return this._height};DvtSimpleMarker.prototype.setHeight=function(a,b){this._propertyChange.height=this._height!=a;this._height=a;return b?this:this._updateSvgProperties()};
DvtSimpleMarker.prototype._getPolygonArray=function(){var a=[],b=this._cx,c=this._cy,d=this.getMaintainAspectRatio()?this._s/2:this._width/2,e=this.getMaintainAspectRatio()?this._s/2:this._height/2,g=this.getMaintainAspectRatio()?this._s/6:this._width/6,h=this.getMaintainAspectRatio()?this._s/6:this._height/6;this._shape==DvtSimpleMarker.TRIANGLE_UP?a=[b-d,c+e,b,c-e,b+d,c+e]:this._shape==DvtSimpleMarker.TRIANGLE_DOWN?a=[b-d,c-e,b,c+e,b+d,c-e]:this._shape==DvtSimpleMarker.DIAMOND?a=[b-d,c,b,c-e,b+
d,c,b,c+e]:this._shape==DvtSimpleMarker.PLUS?a=[b-d,c-h,b-g,c-h,b-g,c-e,b+g,c-e,b+g,c-h,b+d,c-h,b+d,c+h,b+g,c+h,b+g,c+e,b-g,c+e,b-g,c+h,b-d,c+h]:this._shape==DvtSimpleMarker.STAR&&(a=DvtMarkerDef.SHAPE_STAR_CMDS,a=DvtPolygonUtils.scale(a,this.getMaintainAspectRatio()?this._s/100:this._width/100,this.getMaintainAspectRatio()?this._s/100:this._height/100),a=DvtPolygonUtils.translate(a,b,c));return a};
DvtSimpleMarker.prototype._setPolygon=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"points",DvtSvgShapeUtils.convertPointsArray(a))};DvtSimpleMarker.prototype._getCmds=function(){var a=DvtDisplayableUtils.getDimForced(this.getCtx(),this._path),b=Math.max(a.w,a.h),c=this.getMaintainAspectRatio()?this._s/b:this._width/b,b=this.getMaintainAspectRatio()?this._s/b:this._height/b,d=this._cx-a.x*c-a.w*c/2,a=this._cy-a.y*b-a.h*b/2;return DvtPathUtils.transformPath(this._path.getCmds(),d,a,c,b)};
DvtSimpleMarker.prototype._setCmds=function(a){DvtToolkitUtils.setAttrNullNS(this._elem,"d",a)};DvtSimpleMarker.prototype.getType=function(){return this._shape};DvtSimpleMarker.prototype._isPolygon=function(){return this._shape==DvtSimpleMarker.TRIANGLE_UP||this._shape==DvtSimpleMarker.TRIANGLE_DOWN||this._shape==DvtSimpleMarker.DIAMOND||this._shape==DvtSimpleMarker.PLUS||this._shape==DvtSimpleMarker.STAR};DvtSimpleMarker.prototype._isPath=function(){return this._shape==DvtSimpleMarker.HUMAN||this._isCustomShape};
DvtSimpleMarker.prototype.SetStrokeWidth=function(a){var b=this.getStroke();b&&(b=b.clone(),b.setWidth(a),this.setStroke(b))};DvtSimpleMarker.prototype.GetStrokeWidth=function(){var a=this.getStroke();return a?a.getWidth():0};
DvtSimpleMarker.prototype.setDataColor=function(a,b){this._dataColor=a;if(!b){var c=DvtSelectionEffectUtils.getHoverBorderColor(a);this.setHoverStroke(new DvtSolidStroke("#FFFFFF",1,1),new DvtSolidStroke(c,1,3.5));this.setSelectedStroke(new DvtSolidStroke("#FFFFFF",1,1.5),new DvtSolidStroke("#5A5A5A",1,4.5));this.setSelectedHoverStroke(new DvtSolidStroke("#FFFFFF",1,1.5),new DvtSolidStroke(c,1,4.5));this.HoverInnerStroke.setFixedWidth(!0);this.HoverOuterStroke.setFixedWidth(!0);this.SelectedInnerStroke.setFixedWidth(!0);
this.SelectedOuterStroke.setFixedWidth(!0);this.SelectedHoverInnerStroke.setFixedWidth(!0);this.SelectedHoverOuterStroke.setFixedWidth(!0)}};DvtSimpleMarker.prototype.getDataColor=function(){return this._dataColor};DvtSimpleMarker.prototype.setHollow=function(a){var b=this.GetStrokeWidth();DvtSimpleMarker.superclass.setHollow.call(this,a,b?b:1)};DvtSimpleMarker.prototype.setText=function(a){this._markerText=a};
DvtSimpleMarker.prototype.setAlpha=function(a){DvtSimpleMarker.superclass.setAlpha.call(this,a);this._markerText&&this._markerText.setAlpha(a);this.UpdateSelectionEffect()};DvtSimpleMarker.prototype.copyShape=function(){return new DvtSimpleMarker(this.getCtx(),this._shape,this._skin,this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this.getMaintainAspectRatio())};
DvtSimpleMarker.prototype.getDimensions=function(a){var b=this.getCx()-this.getWidth()/2,c=this.getCy()-this.getHeight()/2,b=new DvtRectangle(b,c,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(b,a)};DvtSimpleMarker.prototype.setMaintainAspectRatio=function(a){this._bMaintainAspectRatio=a};DvtSimpleMarker.prototype.getMaintainAspectRatio=function(){return this._bMaintainAspectRatio};var DvtImageMarker=function(a,b,c,d,e,g,h,k,m,n){this.Init(a,b,c,d,e,g,h,k,m,n)};
DvtObj.createSubclass(DvtImageMarker,DvtShape,"DvtImageMarker");
DvtImageMarker.prototype.Init=function(a,b,c,d,e,g,h,k,m,n){DvtImageMarker.superclass.Init.call(this,a,"image",n);this._setMarkerImageStates(g,h,k,m);a=this._getImage();this._setSource(a);this._propertyChange={};this.setCenter(b,c,!0).setSize(d,e);DvtToolkitUtils.setAttrNullNS(this._elem,"preserveAspectRatio","none");DvtAgent.isPlatformIE()&&(DvtToolkitUtils.setAttrNullNS(this._elem,"fill","#FFFFFF"),DvtToolkitUtils.setAttrNullNS(this._elem,"fill-opacity","0"))};
DvtImageMarker.prototype.setCenterDimensions=function(a){return this.setCenter(a.x,a.y,!0).setSize(a.w,a.h)};DvtImageMarker.prototype.getCenterDimensions=function(){return new DvtRectangle(this._cx,this._cy,this._width,this._height)};DvtImageMarker.prototype.setSize=function(a,b,c){return this.setWidth(a,!0).setHeight(b,c)};DvtImageMarker.prototype.setCenter=function(a,b,c){return this.setCx(a,!0).setCy(b,c)};
DvtImageMarker.prototype._updateSvgProperties=function(){(this._propertyChange.cx||this._propertyChange.width)&&DvtToolkitUtils.setAttrNullNS(this._elem,"x",this._cx-this._width/2,0);(this._propertyChange.cy||this._propertyChange.height)&&DvtToolkitUtils.setAttrNullNS(this._elem,"y",this._cy-this._height/2,0);this._propertyChange.width&&DvtToolkitUtils.setAttrNullNS(this._elem,"width",this._width,0);this._propertyChange.height&&DvtToolkitUtils.setAttrNullNS(this._elem,"height",this._height,0);this.UpdateSelectionEffect();
this._propertyChange={};return this};DvtImageMarker.prototype.getCx=function(){return this._cx};DvtImageMarker.prototype.setCx=function(a,b){this._propertyChange.cx=this._cx!=a;this._cx=a;return b?this:this._updateSvgProperties()};DvtImageMarker.prototype.getCy=function(){return this._cy};DvtImageMarker.prototype.setCy=function(a,b){this._propertyChange.cy=this._cy!=a;this._cy=a;return b?this:this._updateSvgProperties()};DvtImageMarker.prototype.getWidth=function(){return this._width};
DvtImageMarker.prototype.setWidth=function(a,b){this._propertyChange.width=this._width!=a;this._width=a;return b?this:this._updateSvgProperties()};DvtImageMarker.prototype.getHeight=function(){return this._height};DvtImageMarker.prototype.setHeight=function(a,b){this._propertyChange.height=this._height!=a;this._height=a;return b?this:this._updateSvgProperties()};
DvtImageMarker.prototype._setSource=function(a){if(DvtAgent.isEnvironmentBatik()){var b=DvtJavaImageLoader.getImageInfo(a);b&&(a=b.uri)}DvtToolkitUtils.setAttrNS(this._elem,DvtImage.XLINK_NS,"xlink:href",a)};DvtImageMarker.prototype._setMarkerImageStates=function(a,b,c,d){this._imageStates=[a];this._imageStates.push(b?b:a);this._imageStates.push(c?c:a);this._imageStates.push(d?d:this._imageStates[1])};DvtImageMarker.prototype._getImage=function(){return this._imageStates[0]};
DvtImageMarker.prototype._getImageSelected=function(){return this._imageStates[1]};DvtImageMarker.prototype._getImageHover=function(){return this._imageStates[2]};DvtImageMarker.prototype._getImageHoverSelected=function(){return this._imageStates[3]};DvtImageMarker.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0;this.isSelected()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageHover())};
DvtImageMarker.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1;this.isSelected()?this._setSource(this._getImageSelected()):this._setSource(this._getImage())};DvtImageMarker.prototype.setSelected=function(a){this.IsSelected!=a&&((this.IsSelected=a)?this.isHoverEffectShown()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageSelected()):this._setSource(this._getImage()))};
DvtImageMarker.prototype.copyShape=function(){return new DvtImageMarker(this.getCtx(),this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getImage(),this._getImageSelected(),this._getImageHover(),this._getImageHoverSelected,null)};var DvtOval=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtOval,DvtCircularShape,"DvtOval");DvtOval.prototype.Init=function(a,b,c,d,e,g){DvtOval.superclass.Init.call(this,a,"ellipse",b,c,g);this.setRx(d).setRy(e)};
DvtOval.prototype.getRx=function(){return this.GetProperty("rx")};DvtOval.prototype.setRx=function(a){return this.SetSvgProperty("rx",a)};DvtOval.prototype.getRy=function(){return this.GetProperty("ry")};DvtOval.prototype.setRy=function(a){return this.SetSvgProperty("ry",a)};DvtOval.prototype.copyShape=function(){return new DvtOval(this.getCtx(),this.getCx(),this.getCy(),this.getRx(),this.getRy())};
DvtOval.prototype.getDimensionsSelf=function(a){var b=new DvtRectangle(this.getCx()-this.getRx(),this.getCy()-this.getRy(),2*this.getRx(),2*this.getRy());return this.ConvertCoordSpaceRect(b,a)};var DvtPath=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtPath,DvtShape,"DvtPath");DvtPath.prototype.Init=function(a,b,c){DvtPath.superclass.Init.call(this,a,"path",c);DvtArrayUtils.isArray(b)?this.setCmds(DvtPathUtils.getPathString(b)):this.setCmds(b)};DvtPath.prototype.getCmds=function(){return this.GetProperty("d")};
DvtPath.prototype.setCmds=function(a){a&&this.SetSvgProperty("d",a);this.SetProperty("arCmds",null);return this};DvtPath.prototype.getCommands=function(){var a=this.GetProperty("arCmds");a||(a=this.GetProperty("d")?DvtPathUtils.createPathArray(this.GetProperty("d")):null,this.SetProperty("arCmds",a));return a};DvtPath.prototype.setCommands=function(a){var b=a?DvtPathUtils.getPathString(a):null;this.setCmds(b);this.SetProperty("arCmds",a);return this};
DvtPath.prototype.copyShape=function(){return new DvtPath(this.getCtx(),this.getCmds())};DvtPath.prototype.GetAriaElem=function(){DvtAgent.isTouchDevice()&&this.CreateChildGroupElem(!1,!0);return DvtPath.superclass.GetAriaElem.call(this)};var DvtPolygon=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtPolygon,DvtPolygonalShape,"DvtPolygon");DvtPolygon.prototype.Init=function(a,b,c){DvtPolygon.superclass.Init.call(this,a,"polygon",b,c)};
DvtPolygon.prototype.copyShape=function(){return new DvtPolygon(this.getCtx(),this.getPoints())};DvtPolygon.prototype.GetAriaElem=function(){DvtAgent.isTouchDevice()&&this.CreateChildGroupElem(!1,!0);return DvtPolygon.superclass.GetAriaElem.call(this)};var DvtPolyline=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtPolyline,DvtPolygonalShape,"DvtPolyline");
DvtPolyline.prototype.Init=function(a,b,c){DvtPolyline.superclass.Init.call(this,a,"polyline",b,c);DvtToolkitUtils.setAttrNullNS(this._elem,"fill","none")};DvtPolyline.prototype.copyShape=function(){return new DvtPolyline(this.getCtx(),this.getPoints())};var DvtRect=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtRect,DvtShape,"DvtRect");DvtRect._cssAttrs=["background-color","border-color","border-width"];
DvtRect.prototype.Init=function(a,b,c,d,e,g){DvtRect.superclass.Init.call(this,a,"rect",g);this.setX(b).setY(c).setWidth(d).setHeight(e)};DvtRect.prototype.getX=function(){return this.GetProperty("x")};DvtRect.prototype.setX=function(a){return this.SetSvgProperty("x",a,0)};DvtRect.prototype.getY=function(){return this.GetProperty("y")};DvtRect.prototype.setY=function(a){return this.SetSvgProperty("y",a,0)};DvtRect.prototype.getWidth=function(){return this.GetProperty("width")};
DvtRect.prototype.setWidth=function(a){return this.SetSvgProperty("width",null!=a?a:0)};DvtRect.prototype.getHeight=function(){return this.GetProperty("height")};DvtRect.prototype.setHeight=function(a){return this.SetSvgProperty("height",null!=a?a:0)};DvtRect.prototype.getRx=function(){return this.GetProperty("rx")};DvtRect.prototype.setRx=function(a){return this.SetSvgProperty("rx",a)};DvtRect.prototype.getRy=function(){return this.GetProperty("ry")};
DvtRect.prototype.setRy=function(a){return this.SetSvgProperty("ry",a)};
DvtRect.prototype.setCSSStyle=function(a){DvtRect.superclass.setCSSStyle.call(this,a);var b=this._elem;if(a){var c=a.getStyle("background-color");c&&DvtToolkitUtils.setAttrNullNS(b,"fill",c);(c=a.getStyle("border-color"))&&DvtToolkitUtils.setAttrNullNS(b,"stroke",c);(c=a.getStyle("border-width"))&&DvtToolkitUtils.setAttrNullNS(b,"stroke-width",c);if(c=a.getStyle("border-radius"))a=DvtStringUtils.trim(c).split(" "),0<a.length&&a[0]&&this.setRx(a[0]),1<a.length&&a[1]&&this.setRy(a[1])}else DvtToolkitUtils.removeAttrNullNS(this._elem,
"style")};DvtRect.prototype.setPos=function(a,b){this.setX(a).setY(b)};DvtRect.prototype.setCornerRadius=function(a,b){this.setRx(a).setRy(b)};DvtRect.prototype.setRect=function(a,b,c,d){a instanceof DvtRectangle?this.setX(a.x).setY(a.y).setWidth(a.w).setHeight(a.h):this.setX(a).setY(b).setWidth(c).setHeight(d)};DvtRect.prototype.copyShape=function(){var a=new DvtRect(this.getCtx(),this.getX(),this.getY(),this.getWidth(),this.getHeight());a.setRx(this.getRx()).setRy(this.getRy());return a};
DvtRect.prototype.getDimensionsSelf=function(a){var b=new DvtRectangle(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(b,a)};var DvtOutputText=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtOutputText,DvtShape,"DvtOutputText");DvtOutputText.ELLIPSIS="\u2026";DvtOutputText.REPRESENTATIVE_TEXT="MW";DvtOutputText.BIDI_ZERO_WIDTH="\u200b";DvtOutputText.H_ALIGN_LEFT="left";DvtOutputText.H_ALIGN_CENTER="center";
DvtOutputText.H_ALIGN_RIGHT="right";DvtOutputText.V_ALIGN_TOP="top";DvtOutputText.V_ALIGN_MIDDLE="middle";DvtOutputText.V_ALIGN_BOTTOM="bottom";DvtOutputText.V_ALIGN_AUTO="auto";
DvtOutputText.prototype.Init=function(a,b,c,d,e){DvtOutputText.superclass.Init.call(this,a,"text",e);this._x=null!=c?c:0;this._baseline=null;this.alignLeft();this.alignTop();this.setTextString(b);this.setX(c);this.setY(d);DvtToolkitUtils.removeAttrNullNS(this.getElem(),"fill");DvtAgent.isRightToLeft(a)&&DvtAgent.isPlatformIE()&&DvtToolkitUtils.setAttrNullNS(this.getElem(),"unicode-bidi","embed");this.setAriaProperty("hidden","true")};DvtOutputText.prototype.getTextString=function(){return this._textString};
DvtOutputText.prototype.setTextString=function(a){a=null!=a?DvtStringUtils.trim(String(a)):"";DvtOutputText.needsTextAnchorAdjustment()&&DvtAgent.isPlatformIE()&&a.charAt(0)!=DvtOutputText.BIDI_ZERO_WIDTH&&(a=DvtOutputText.BIDI_ZERO_WIDTH+a);this._textString=a;var b=this.getElem().firstChild;null!==b?b.nodeValue=a:(b=document.createTextNode(a),DvtToolkitUtils.appendChildElem(this.getElem(),b));DvtAgent.isPlatformIE()&&this.setX(this._x);return this};
DvtOutputText.prototype.isTruncated=function(){return null!=this.getUntruncatedTextString()};DvtOutputText.prototype.getUntruncatedTextString=function(){return this._untruncatedTextString};DvtOutputText.prototype.setUntruncatedTextString=function(a){a!=this.getTextString()&&(this._untruncatedTextString=a)};DvtOutputText.prototype.getX=function(){var a;return(a=DvtAgent.isPlatformIE()?this._x:this.GetProperty("x"))?a:0};
DvtOutputText.prototype.setX=function(a){this._x=null!=a?a:0;return DvtAgent.isPlatformIE()?this.SetSvgProperty("x",this._x+this._getIEAlignmentOffset(),0):this.SetSvgProperty("x",a,0)};
DvtOutputText.prototype._getIEAlignmentOffset=function(){var a=this.getHorizAlignment(),b=DvtAgent.isRightToLeft();if(a==DvtOutputText.H_ALIGN_LEFT)return b?this.measureDimensions().w:0;if(a==DvtOutputText.H_ALIGN_CENTER)return b?this.measureDimensions().w/2:-this.measureDimensions().w/2;if(a==DvtOutputText.H_ALIGN_RIGHT)return b?0:-this.measureDimensions().w};DvtOutputText.prototype.getY=function(){var a=this.GetProperty("y");return a?a:0};
DvtOutputText.prototype.setY=function(a){return this.SetSvgProperty("y",a,0)};DvtOutputText.prototype.setFontSize=function(a){var b=this.getCSSStyle(),b=b?b.clone():new DvtCSSStyle;b.setFontSize(DvtCSSStyle.FONT_SIZE,String(a));this.setCSSStyle(b)};DvtOutputText.prototype.getHorizAlignment=function(){return this._horizAlign};
DvtOutputText.prototype.setHorizAlignment=function(a){a==DvtOutputText.H_ALIGN_LEFT?this.alignLeft():a==DvtOutputText.H_ALIGN_CENTER?this.alignCenter():a==DvtOutputText.H_ALIGN_RIGHT&&this.alignRight()};DvtOutputText.prototype.getVertAlignment=function(){return this._vertAlign};
DvtOutputText.prototype.setVertAlignment=function(a){a==DvtOutputText.V_ALIGN_TOP?this.alignTop():a==DvtOutputText.V_ALIGN_MIDDLE?this.alignMiddle():a==DvtOutputText.V_ALIGN_BOTTOM?this.alignBottom():a==DvtOutputText.V_ALIGN_AUTO&&this.alignAuto()};
DvtOutputText.prototype.alignLeft=function(){if(this._horizAlign!=DvtOutputText.H_ALIGN_LEFT)if(this._horizAlign=DvtOutputText.H_ALIGN_LEFT,DvtAgent.isPlatformIE())this.setX(this._x);else{var a=DvtOutputText.needsTextAnchorAdjustment();DvtToolkitUtils.setAttrNullNS(this.getElem(),"text-anchor",a?"end":"start","start")}};
DvtOutputText.prototype.alignCenter=function(){this._horizAlign!=DvtOutputText.H_ALIGN_CENTER&&(this._horizAlign=DvtOutputText.H_ALIGN_CENTER,DvtAgent.isPlatformIE()?this.setX(this._x):DvtToolkitUtils.setAttrNullNS(this.getElem(),"text-anchor","middle","start"))};
DvtOutputText.prototype.alignRight=function(){if(this._horizAlign!=DvtOutputText.H_ALIGN_RIGHT)if(this._horizAlign=DvtOutputText.H_ALIGN_RIGHT,DvtAgent.isPlatformIE())this.setX(this._x);else{var a=DvtOutputText.needsTextAnchorAdjustment();DvtToolkitUtils.setAttrNullNS(this.getElem(),"text-anchor",a?"start":"end","start")}};
DvtOutputText.prototype.alignTop=function(){this._vertAlign!=DvtOutputText.V_ALIGN_TOP&&(this._vertAlign==DvtOutputText.V_ALIGN_BOTTOM&&DvtAgent.isBrowserSafari()&&this.SetBaseline(0),this._vertAlign=DvtOutputText.V_ALIGN_TOP,DvtAgent.isPlatformIE()?this.SetBaseline(1):this.SetDominantBaselineAttr("text-before-edge"))};
DvtOutputText.prototype.alignMiddle=function(){this._vertAlign!=DvtOutputText.V_ALIGN_MIDDLE&&(this._vertAlign==DvtOutputText.V_ALIGN_BOTTOM&&DvtAgent.isBrowserSafari()&&this.SetBaseline(0),this._vertAlign=DvtOutputText.V_ALIGN_MIDDLE,DvtAgent.isPlatformIE()?this.SetBaseline(.4):this.SetDominantBaselineAttr("middle"))};
DvtOutputText.prototype.alignBottom=function(){this._vertAlign!=DvtOutputText.V_ALIGN_BOTTOM&&(this._vertAlign=DvtOutputText.V_ALIGN_BOTTOM,DvtAgent.isPlatformIE()?this.SetBaseline(-.2):DvtAgent.isBrowserSafari()?(this.SetBaseline(-.2),this.SetDominantBaselineAttr(null)):this.SetDominantBaselineAttr("text-after-edge"))};
DvtOutputText.prototype.alignAuto=function(){this._vertAlign!=DvtOutputText.V_ALIGN_AUTO&&(this._vertAlign==DvtOutputText.V_ALIGN_BOTTOM&&DvtAgent.isBrowserSafari()&&this.SetBaseline(0),this._vertAlign=DvtOutputText.V_ALIGN_AUTO,DvtAgent.isPlatformIE()?this.SetBaseline(0):this.SetDominantBaselineAttr(null))};DvtOutputText.prototype.SetBaseline=function(a){this._baseline=a;this.setMatrix(this.getMatrix())};
DvtOutputText.prototype.SetDominantBaselineAttr=function(a){a?DvtToolkitUtils.setAttrNullNS(this.getElem(),"dominant-baseline",a):DvtToolkitUtils.removeAttrNullNS(this.getElem(),"dominant-baseline")};
DvtOutputText.prototype.setCSSStyle=function(a){DvtOutputText.superclass.setCSSStyle.call(this,a);var b=this.getOuterElem();if(a){var c=a.getStyle("color");(c=DvtColorUtils.fixColorForPlatform(c))&&c.color&&(DvtToolkitUtils.setAttrNullNS(b,"fill",c.color),null!=c.alpha&&DvtToolkitUtils.setAttrNullNS(b,"fill-opacity",c.alpha,1));(c=a.getStyle("font-family"))&&!this.getCtx().isDefaultFontFamily(c)?DvtToolkitUtils.setAttrNullNS(b,"font-family",c):DvtToolkitUtils.removeAttrNullNS(b,"font-family");(c=
a.getStyle("font-size"))&&c!=this.getCtx().getDefaultFontSize()?(DvtToolkitUtils.setAttrNullNS(b,"font-size",c),(DvtAgent.isPlatformIE()||DvtAgent.isBrowserSafari())&&this.setMatrix(this.getMatrix())):DvtToolkitUtils.removeAttrNullNS(b,"font-size");(c=a.getStyle("font-style"))&&DvtToolkitUtils.setAttrNullNS(b,"font-style",c);(c=a.getStyle("font-weight"))&&DvtToolkitUtils.setAttrNullNS(b,"font-weight",c);(c=a.getStyle("text-decoration"))&&DvtToolkitUtils.setAttrNullNS(b,"text-decoration",c);(c=a.getStyle("cursor"))&&
DvtToolkitUtils.setAttrNullNS(b,"cursor",c);DvtAgent.isPlatformIE()&&this.setX(this._x)}};
DvtOutputText.prototype._getBaselineTranslation=function(){var a=0;if(null!=this._baseline){if(this._textString&&!this._isRepresentativeText())a=DvtTextUtils.getTextStringHeight(this.getCtx(),this.getCSSStyle());else if((a=DvtToolkitUtils.getAttrNullNS(this.getElem(),"font-size"))||(a=DvtToolkitUtils.getAttrNullNS(this.getOuterElem(),"font-size")),!a||isNaN(a)&&-1==a.indexOf("px"))a=DvtStyleUtils.DEFAULT_FONT_SIZE;a=this._baseline*parseFloat(a)}return a};
DvtOutputText.prototype._getBaselineAdjustedMatrix=function(a){if(null!=this._baseline){a||(a=new DvtMatrix);var b=new DvtMatrix(null,null,null,null,null,this._getBaselineTranslation());b.concat(a);a=b}return a};DvtOutputText.prototype.setMatrix=function(a){if(DvtAgent.isPlatformIE()||DvtAgent.isBrowserSafari())this._matrixForIE=a,a=this._getBaselineAdjustedMatrix(a);DvtOutputText.superclass.setMatrix.call(this,a)};
DvtOutputText.prototype.getMatrix=function(){var a=null;if(DvtAgent.isPlatformIE()||DvtAgent.isBrowserSafari())a=this._matrixForIE;a||(a=DvtOutputText.superclass.getMatrix.call(this));return a};DvtOutputText.prototype._isRepresentativeText=function(){return this._textString==DvtOutputText.REPRESENTATIVE_TEXT||this._textString==DvtOutputText.BIDI_ZERO_WIDTH||this._textString==DvtOutputText.BIDI_ZERO_WIDTH+DvtOutputText.REPRESENTATIVE_TEXT};
DvtOutputText.prototype.GetSvgDimensions=function(){var a=DvtOutputText.superclass.GetSvgDimensions.call(this);a&&(a.y+=this._getBaselineTranslation());!this._isRepresentativeText()&&DvtAgent.isPlatformIE()&&(a.h=DvtTextUtils.getTextStringHeight(this.getCtx(),this.getCSSStyle()));return a};DvtOutputText.prototype.UpdateSelectionEffect=function(){};
DvtOutputText.prototype.getOptimalFontSize=function(a){for(var b=Math.max(Math.min(a.w/this.getTextString().length,a.h/2),9);51>b;b+=1){this.setFontSize(b);var c=this.measureDimensions();if(c.w>a.w||c.h>a.h)return Math.min(b-1,50)}return 50};
DvtOutputText.prototype.measureDimensions=function(a){var b=null!=this.getTextString()?this.getTextString():"",c=this.getHorizAlignment(),d=this.getVertAlignment();DvtOutputText._cache||(DvtOutputText._cache=new DvtCache);var e=this.getCSSStyle(),e=null!=e?e.hashCodeForTextMeasurement():"",e=0<b.length?b+e:"";d===DvtOutputText.V_ALIGN_AUTO&&(e+=DvtOutputText.V_ALIGN_AUTO);var g,h=DvtOutputText._cache.get(e);if(null!=h)g=new DvtRectangle(h.x+this.getX(),h.y+this.getY(),h.w,h.h);else{h=DvtAgent.isRightToLeft(this.getCtx());
DvtAgent.isPlatformIE()?h&&DvtToolkitUtils.setAttrNullNS(this.getElem(),"unicode-bidi",null):this.alignLeft();d!==DvtOutputText.V_ALIGN_AUTO&&this.alignTop();for(var k=!1,m=this.getCtx().getStage(),n=this.getParent();n;){if(n==m){k=!0;break}n=n.getParent()}k&&(g=this.GetSvgDimensions());g||(g=new DvtRectangle(0,0,0,0));if(0>=g.w&&0>=g.h&&0<b.length){var b=this.getParent(),t;b&&(t=b.getChildIndex(this));m.addChild(this);g=this.GetSvgDimensions();m.removeChild(this);b&&b.addChildAt(this,t)}DvtAgent.isPlatformIE()?
(h&&DvtToolkitUtils.setAttrNullNS(this.getElem(),"unicode-bidi","embed"),c===DvtOutputText.H_ALIGN_RIGHT?g.x+=g.w:c===DvtOutputText.H_ALIGN_CENTER&&(g.x+=g.w/2)):this.setHorizAlignment(c);this.setVertAlignment(d);h=new DvtRectangle(g.x-this.getX(),g.y-this.getY(),g.w,g.h);DvtOutputText._cache.put(e,h)}c===DvtOutputText.H_ALIGN_RIGHT?g.x-=g.w:c===DvtOutputText.H_ALIGN_CENTER&&(g.x-=g.w/2);d===DvtOutputText.V_ALIGN_BOTTOM?g.y-=g.h:d===DvtOutputText.V_ALIGN_MIDDLE&&(g.y-=g.h/2);return a&&a!==this?this.ConvertCoordSpaceRect(g,
a):g};DvtOutputText.prototype.copyShape=function(){var a=new DvtOutputText(this.getCtx(),this.getTextString(),this.getX(),this.getY());a.setCSSStyle(this.getCSSStyle());a.setHorizAlignment(this.getHorizAlignment());a.setVertAlignment(this.getVertAlignment());return a};DvtOutputText.prototype.addChild=function(a){DvtAgent.isEnvironmentTest()&&(print("DvtOutputText.prototype.addChild: Text should not be used as a shape container."),null.errorShouldOccurDueToInvalidAddChild())};
DvtOutputText.needsTextAnchorAdjustment=function(){return DvtAgent.isRightToLeft()&&!DvtAgent.isEnvironmentBatik()};DvtOutputText.prototype.getDimensionsSelf=function(a){return this.measureDimensions(a)};DvtOutputText.getCachedDimensions=function(a,b){var c=null!=b?b.hashCodeForTextMeasurement():"",c=0<a.length?a+c:"";return DvtOutputText._cache?DvtOutputText._cache.get(c):null};var DvtBackgroundOutputText=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};
DvtObj.createSubclass(DvtBackgroundOutputText,DvtContainer,"DvtBackgroundOutputText");DvtBackgroundOutputText._PADDING=.15;DvtBackgroundOutputText.prototype.Init=function(a,b,c,d,e,g){DvtBackgroundOutputText.superclass.Init.call(this,a,"g",g);this.TextInstance=this.CreateTextInstance(a,b,c,d,g);e&&this.setCSSStyle(e);this._backgroundRect=this.CreateBackground(a,this.TextInstance);this.addChild(this._backgroundRect);this.addChild(this.TextInstance)};
DvtBackgroundOutputText.prototype.getTextString=function(){return this.TextInstance.getTextString()};DvtBackgroundOutputText.prototype.setTextString=function(a){this.TextInstance.setTextString(a);return this};DvtBackgroundOutputText.prototype.isTruncated=function(){return this.TextInstance.isTruncated()};DvtBackgroundOutputText.prototype.getUntruncatedTextString=function(){return this.TextInstance.getUntruncatedTextString()};DvtBackgroundOutputText.prototype.setUntruncatedTextString=function(a){this.TextInstance.setUntruncatedTextString(a)};
DvtBackgroundOutputText.prototype.getX=function(){return this.TextInstance.getX()};DvtBackgroundOutputText.prototype.setX=function(a){this.TextInstance=this.TextInstance.setX(a);this._realignBackground();return this};DvtBackgroundOutputText.prototype.getY=function(){return this.TextInstance.getY()};DvtBackgroundOutputText.prototype.setY=function(a){this.TextInstance=this.TextInstance.setY(a);this._realignBackground();return this};
DvtBackgroundOutputText.prototype.setFontSize=function(a){this.TextInstance.setFontSize(a);this._style.setFontSize(DvtCSSStyle.FONT_SIZE,String(a));this._realignBackground()};DvtBackgroundOutputText.prototype.getHorizAlignment=function(){return this.TextInstance.getHorizAlignment()};DvtBackgroundOutputText.prototype.setHorizAlignment=function(a){this.TextInstance.setHorizAlignment(a);this._realignBackground()};DvtBackgroundOutputText.prototype.getVertAlignment=function(){return this.TextInstance.getVertAlignment()};
DvtBackgroundOutputText.prototype.setVertAlignment=function(a){this.TextInstance.setVertAlignment(a);this._realignBackground()};DvtBackgroundOutputText.prototype.alignLeft=function(){this.TextInstance.alignLeft();this._realignBackground()};DvtBackgroundOutputText.prototype.alignCenter=function(){this.TextInstance.alignCenter();this._realignBackground()};DvtBackgroundOutputText.prototype.alignRight=function(){this.TextInstance.alignRight();this._realignBackground()};
DvtBackgroundOutputText.prototype.alignTop=function(){this.TextInstance.alignTop();this._realignBackground()};DvtBackgroundOutputText.prototype.alignMiddle=function(){this.TextInstance.alignMiddle();this._realignBackground()};DvtBackgroundOutputText.prototype.alignBottom=function(){this.TextInstance.alignBottom();this._realignBackground()};DvtBackgroundOutputText.prototype.alignAuto=function(){this.TextInstance.alignAuto();this._realignBackground()};
DvtBackgroundOutputText.prototype.setCSSStyle=function(a){a.getStyle(DvtCSSStyle.BACKGROUND_COLOR)&&!a.getStyle(DvtCSSStyle.COLOR)&&a.setStyle(DvtCSSStyle.COLOR,DvtColorUtils.getContrastingTextColor(a.getStyle(DvtCSSStyle.BACKGROUND_COLOR)));this.TextInstance&&this.TextInstance.setCSSStyle(a);this._backgroundRect&&this._setBackgroundCSSStyle(this._backgroundRect,a);this._style=a};DvtBackgroundOutputText.prototype.getCSSStyle=function(){return this._style};
DvtBackgroundOutputText.prototype.setMatrix=function(a){this.TextInstance.setMatrix(a);this._backgroundRect.setMatrix(a)};DvtBackgroundOutputText.prototype.getMatrix=function(){return this.TextInstance.getMatrix()};DvtBackgroundOutputText.prototype.getOptimalFontSize=function(a){return this.TextInstance.getOptimalFontSize(a)};DvtBackgroundOutputText.prototype.measureDimensions=function(a){return this.getDimensions(a)};DvtBackgroundOutputText.prototype.getTextDimensions=function(a){return this.TextInstance.getDimensions(a)};
DvtBackgroundOutputText.prototype.getDimensions=function(a){a=this.TextInstance.getDimensions(a);var b=a.h*DvtBackgroundOutputText._PADDING;a.x-=b;a.w+=2*b;return a};DvtBackgroundOutputText.prototype.copyShape=function(){return this.TextInstance.copyShape()};DvtBackgroundOutputText.needsTextAnchorAdjustment=function(a){return this.TextInstance.needsTextAnchorAdjustment(a)};DvtBackgroundOutputText.getCachedDimensions=function(a,b){return this.TextInstance.getCachedDimensions(a,b)};
DvtBackgroundOutputText.prototype.CreateTextInstance=function(a,b,c,d,e){return new DvtOutputText(a,b,c,d,e)};DvtBackgroundOutputText.prototype.CreateBackground=function(a,b){var c=b.getDimensions(),d=c.h*DvtBackgroundOutputText._PADDING,c=new DvtRect(a,c.x-d,c.y,c.w+2*d,c.h);this._setBackgroundCSSStyle(c,this._style);return c};
DvtBackgroundOutputText.prototype._realignBackground=function(){if(this._backgroundRect){var a=this.TextInstance.getDimensions(),b=.15*a.h,c=this.getHorizAlignment(),d=this.getVertAlignment();c==DvtOutputText.H_ALIGN_LEFT?this._backgroundRect.setX(this.getX()-b):c==DvtOutputText.H_ALIGN_CENTER?this._backgroundRect.setX(this.getX()-.5*a.w-b):c==DvtOutputText.H_ALIGN_RIGHT&&this._backgroundRect.setX(this.getX()-a.w-b);var e=parseFloat(this._style.getFontSize());isNaN(e)&&(e=0);c=0;(DvtAgent.isBrowserChrome()||
DvtAgent.isEnvironmentTest())&&d==DvtOutputText.V_ALIGN_MIDDLE?c=.12*e:DvtAgent.isPlatformIE()&&d==DvtOutputText.V_ALIGN_BOTTOM&&(c=.4*-e);e=this.GetTextDimensionsForRealign(a);d==DvtOutputText.V_ALIGN_TOP?this._backgroundRect.setY(this.getY()):d==DvtOutputText.V_ALIGN_MIDDLE?this._backgroundRect.setY(this.getY()-.5*e-c):d==DvtOutputText.V_ALIGN_BOTTOM?this._backgroundRect.setY(this.getY()-e-c):d==DvtOutputText.V_ALIGN_AUTO&&this._backgroundRect.setY(a.y);this._backgroundRect.setWidth(a.w+2*b);this._backgroundRect.setHeight(a.h)}};
DvtBackgroundOutputText.prototype._setBackgroundCSSStyle=function(a,b){if(b){var c=b.getStyle(DvtCSSStyle.BACKGROUND_COLOR);null!=c?a.setSolidFill(c):a.setInvisibleFill();var c=b.getStyle(DvtCSSStyle.BORDER_COLOR),d=b.getStyle(DvtCSSStyle.BORDER_WIDTH),e=b.getStyle(DvtCSSStyle.BORDER_RADIUS);if(c||d||e){var g=new DvtCSSStyle;g.setStyle(DvtCSSStyle.BORDER_COLOR,c);g.setStyle(DvtCSSStyle.BORDER_WIDTH,d);g.setStyle(DvtCSSStyle.BORDER_RADIUS,e);a.setCSSStyle(g)}}else a.setInvisibleFill();a.setMouseEnabled(!1)};
DvtBackgroundOutputText.prototype.GetTextDimensionsForRealign=function(a){return a.h};var DvtMultilineText=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtMultilineText,DvtContainer,"DvtMultilineText");DvtMultilineText._LINE_SPACE=0;DvtMultilineText.H_ALIGN_LEFT="left";DvtMultilineText.H_ALIGN_CENTER="center";DvtMultilineText.H_ALIGN_RIGHT="right";DvtMultilineText.V_ALIGN_TOP="top";DvtMultilineText.V_ALIGN_MIDDLE="middle";DvtMultilineText.V_ALIGN_BOTTOM="bottom";
DvtMultilineText.prototype.Init=function(a,b,c,d,e){DvtMultilineText.superclass.Init.call(this,a,null,e);this._textInstance=null;this._additionalLines=[];this._yCoord=this._lineHeight=null;this._noWrap=!1;this.setTextString(b);this.setX(c?c:0);this.setY(d?d:0);this.setMaxLines(Infinity)};DvtMultilineText.prototype.getTextString=function(){return this._textString};
DvtMultilineText.prototype.setTextString=function(a){this._textString=null!=a?String(a):null;this._textInstance?(this._textInstance.setTextString(a),this._removeAdditionalLines()):(this._textInstance=new DvtOutputText(this.getCtx(),this._textString),this.addChild(this._textInstance));this._bTruncated=!1};DvtMultilineText.prototype._getTextLines=function(){var a=this._additionalLines.slice();this._textInstance.getParent()==this&&a.unshift(this._textInstance);return a};
DvtMultilineText.prototype.getX=function(){return this._textInstance.getX()};DvtMultilineText.prototype.setX=function(a){this._getTextLines().forEach(function(b){b.setX(a)});return this};DvtMultilineText.prototype.getY=function(){return this._textInstance.getY()};DvtMultilineText.prototype.getYAlignCoord=function(){return this._yCoord};
DvtMultilineText.prototype.setY=function(a){this._yCoord=a;if(this._vertAlign)this._alignVerticalText();else{var b=a-this._textInstance.getY();b||(b=a);this._getTextLines().forEach(function(a){var d=a.getY();a.setY(d?d+b:b)})}return this};DvtMultilineText.prototype.getMaxLines=function(){return this.GetProperty("maxLines")};DvtMultilineText.prototype.setMaxLines=function(a){if(0<a)return this.SetProperty("maxLines",a)};DvtMultilineText.prototype.isTruncated=function(){return this._bTruncated};
DvtMultilineText.prototype.getHorizAlignment=function(){return this._textInstance.getHorizAlignment()};DvtMultilineText.prototype.setHorizAlignment=function(a){this._getTextLines().forEach(function(b){b.setHorizAlignment(a)});return this};DvtMultilineText.prototype.alignLeft=function(){this._horizAlign!=DvtMultilineText.H_ALIGN_LEFT&&(this._horizAlign=DvtMultilineText.H_ALIGN_LEFT,this._getTextLines().forEach(function(a){a.alignLeft()}))};
DvtMultilineText.prototype.alignCenter=function(){this._horizAlign!=DvtMultilineText.H_ALIGN_CENTER&&(this._horizAlign=DvtMultilineText.H_ALIGN_CENTER,this._getTextLines().forEach(function(a){a.alignCenter()}))};DvtMultilineText.prototype.alignRight=function(){this._horizAlign!=DvtMultilineText.H_ALIGN_RIGHT&&(this._horizAlign=DvtMultilineText.H_ALIGN_RIGHT,this._getTextLines().forEach(function(a){a.alignRight()}))};
DvtMultilineText.prototype.alignTop=function(){this._vertAlign!=DvtMultilineText.V_ALIGN_TOP&&(this._vertAlign=DvtMultilineText.V_ALIGN_TOP,this._alignVerticalText(),this._getTextLines().forEach(function(a){a.alignTop()}))};DvtMultilineText.prototype.alignMiddle=function(){this._vertAlign!=DvtMultilineText.V_ALIGN_MIDDLE&&(this._vertAlign=DvtMultilineText.V_ALIGN_MIDDLE,this._alignVerticalText(),this._getTextLines().forEach(function(a){a.alignMiddle()}))};
DvtMultilineText.prototype.alignBottom=function(){this._vertAlign!=DvtMultilineText.V_ALIGN_BOTTOM&&(this._vertAlign=DvtMultilineText.V_ALIGN_BOTTOM,this._alignVerticalText(),this._getTextLines().forEach(function(a){a.alignBottom()}))};
DvtMultilineText.prototype._alignVerticalText=function(){if(this._vertAlign)for(var a=this.getYAlignCoord(),b=this.getLineCount(),c=this.getLineHeight(),d=this._getTextLines(),e=0,g=0;g<d.length;g++){var h=d[g];this._vertAlign==DvtMultilineText.V_ALIGN_TOP?e=c*g:this._vertAlign==DvtMultilineText.V_ALIGN_MIDDLE?e=c*g-c*(b-1)/2:this._vertAlign==DvtMultilineText.V_ALIGN_BOTTOM&&(e=-c*(b-g-1));h.setY(a+e)}};DvtMultilineText.prototype.getCSSStyle=function(){return this._textInstance.getCSSStyle()};
DvtMultilineText.prototype.setCSSStyle=function(a){this._getTextLines().forEach(function(b){b.setCSSStyle(a)});return this};DvtMultilineText.prototype.copyShape=function(){var a=new DvtMultilineText(this.getCtx(),this.getTextString(),this.getX(),this.getY());a.setCSSStyle(this.getCSSStyle()).setHorizAlignment(this.getHorizAlignment()).setMaxLines(this.getMaxLines());return a};
DvtMultilineText.prototype._removeAdditionalLines=function(){for(var a=0;a<this._additionalLines.length;a++)this.removeChild(this._additionalLines[a]);this._additionalLines=[]};
DvtMultilineText.prototype.__fitText=function(a,b,c){this._textInstance.setTextString(this.getTextString());this._removeAdditionalLines();if(DvtTextUtils.fitText(this._textInstance,a,b,this,c)){if(!this._textInstance.isTruncated()||!this.isWrapEnabled())return!0}else return this.getParent().removeChild(this),!1;return this.wrapText(a,b,c,!1)};
DvtMultilineText.prototype.wrapText=function(a,b,c,d){var e=this.getLineHeight(),g=e*DvtMultilineText._LINE_SPACE,h=this.getMaxLines();b=Math.min(b,h*(e+g)-g)-e-g;1<this.getLineCount()&&this._removeAdditionalLines();h=this.getTextString().split(" ");h.reverse();for(var k=this._textInstance,m=null;0<h.length;){var n=h.pop(),t=m?m+" "+n:n;k.setTextString(t);k.setUntruncatedTextString(null);if(DvtTextUtils.fitText(k,a,Infinity,this,c))if(k.isTruncated()){if(b<g+e){this._bTruncated=!0;break}if(m)k.setTextString(m),
h.push(n);else{if(d)return this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!1;this._bTruncated=!0}0<h.length&&(m=k.copyShape(),m.setY(k.getY()+g+e),this.addChild(m),this._additionalLines.push(m),k=m,m=null,b-=g+e)}else m=t;else break}return!0};DvtMultilineText.prototype.GetSvgDimensions=function(){var a;this._getTextLines().forEach(function(b){a=a?a.getUnion(b.measureDimensions()):b.measureDimensions()});return a?a:new DvtRectangle(0,0,0,0)};
DvtMultilineText.prototype.getLineCount=function(){return this._additionalLines.length+1};DvtMultilineText.prototype.getLineHeight=function(){this._lineHeight||(this._lineHeight=this._textInstance.measureDimensions().h);return this._lineHeight};
DvtMultilineText.prototype.setWrapEnabled=function(a){0==a&&(this._textInstance.getParent()!=this&&this.addChild(this._textInstance),this._textInstance.getTextString()||this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines());this._noWrap=!a};DvtMultilineText.prototype.isWrapEnabled=function(){return 0==this._noWrap};DvtMultilineText.prototype.getUntruncatedTextString=function(){return this.isTruncated()?this.getTextString():null};
DvtMultilineText.prototype.setUntruncatedTextString=function(a){};DvtMultilineText.prototype.measureDimensions=function(){return this.GetSvgDimensions()};DvtMultilineText.prototype.getDimensions=function(){return this.GetSvgDimensions()};DvtMultilineText.prototype.UpdateSelectionEffect=function(){};DvtMultilineText.prototype.getHorizAlignment=function(){return this._horizAlign};
DvtMultilineText.prototype.setHorizAlignment=function(a){a==DvtMultilineText.H_ALIGN_LEFT?this.alignLeft():a==DvtMultilineText.H_ALIGN_CENTER?this.alignCenter():a==DvtMultilineText.H_ALIGN_RIGHT&&this.alignRight()};DvtMultilineText.prototype.getVertAlignment=function(){return this._vertAlign};DvtMultilineText.prototype.setVertAlignment=function(a){a==DvtMultilineText.V_ALIGN_TOP?this.alignTop():a==DvtMultilineText.V_ALIGN_MIDDLE?this.alignMiddle():a==DvtMultilineText.V_ALIGN_BOTTOM&&this.alignBottom()};
var DvtBackgroundMultilineText=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtBackgroundMultilineText,DvtBackgroundOutputText,"DvtBackgroundMultilineText");DvtBackgroundMultilineText.prototype.Init=function(a,b,c,d,e,g){DvtBackgroundMultilineText.superclass.Init.call(this,a,b,c,d,e,g)};DvtBackgroundMultilineText.prototype.wrapText=function(a,b,c,d){return this.TextInstance.wrapText(a,b,c,d)};
DvtBackgroundMultilineText.prototype.CreateTextInstance=function(a,b,c,d,e){return new DvtMultilineText(a,b,c,d,e)};DvtBackgroundMultilineText.prototype.GetTextDimensionsForRealign=function(){return this.getLineHeight()};DvtBackgroundMultilineText.prototype.measureDimensions=function(){return this.TextInstance.measureDimensions()};DvtBackgroundMultilineText.prototype.__fitText=function(a,b,c){return this.TextInstance.__fitText(a,b,c)};DvtBackgroundMultilineText.prototype._getTextLines=function(){return this.TextInstance._getTextLines()};
DvtBackgroundMultilineText.prototype.getLineHeight=function(){return this.TextInstance.getLineHeight()};DvtBackgroundMultilineText.prototype.getLineCount=function(){return this.TextInstance.getLineCount()};DvtBackgroundMultilineText.prototype.getYAlignCoord=function(){return this.TextInstance.getYAlignCoord()};DvtBackgroundMultilineText.prototype.setWrapEnabled=function(a){this.TextInstance.setWrapEnabled(a)};DvtBackgroundMultilineText.prototype.isWrapEnabled=function(){return this.TextInstance.isWrapEnabled()};
DvtBackgroundMultilineText.prototype.UpdateSelectionEffect=function(){};var DvtStyleUtils=function(){};DvtObj.createSubclass(DvtStyleUtils,DvtObj,"DvtStyleUtils");DvtStyleUtils.DEFAULT_FONT_FAMILY="Tahoma,Verdana,Helvetica,sans-serif";DvtStyleUtils.DEFAULT_FONT_SIZE="11px";DvtStyleUtils.DEFAULT_FONT_COLOR="black";DvtStyleUtils.getStyle=function(a,b,c){return a&&null!==a[b]&&"undefined"!==typeof a[b]?a[b]:c};DvtStyleUtils.setStyle=function(a,b,c){a&&null!==c&&"undefined"!==typeof c&&(a[b]=c)};
DvtStyleUtils.getShadow=function(a){var b=null;if(null!=a&&"none"!=a){var c,d=0,e=0,b=0,g=a.replace(/, /g,",").split(" ");null==a.match(/rgb/i)&&(g[g.length]="rgba(0, 0, 0, 0.2)");if(3>g.length)return null;for(a=0;a<g.length;a++)0==a?d=parseInt(g[0]):1==a?e=parseInt(g[1]):2==a&&null==g[a].match(/rgb/i)?b=parseInt(g[a]):g[a].match(/rgb/i)&&(c=g[a]);a=Math.sqrt(d*d+e*e);d=180*Math.atan2(e,d)/Math.PI;b=new DvtShadow(c,a,b,b,d,1,3,!1,!1,!1)}return b};
DvtStyleUtils.getTimeMilliseconds=function(a){"string"==typeof a&&(a="ms"==a.slice(-2)?parseInt(a.slice(0,-2)):"s"==a.slice(-1)?1E3*parseFloat(a.slice(0,-1)):parseInt(a));return a};var DvtCSSGradient=function(a){this.Init(a)};DvtObj.createSubclass(DvtCSSGradient,DvtObj,"DvtCSSGradient");DvtCSSGradient.LINEAR=0;DvtCSSGradient.RADIAL=1;DvtCSSGradient.prototype.Init=function(a){this._type=a};DvtCSSGradient.prototype.getGradientType=function(){return this._type};DvtCSSGradient.prototype.getAlphas=function(){return this._arAlphas};
DvtCSSGradient.prototype.setAlphas=function(a){this._arAlphas=a};DvtCSSGradient.prototype.getColors=function(){return this._arColors};DvtCSSGradient.prototype.setColors=function(a){this._arColors=a};DvtCSSGradient.prototype.getRatios=function(){return this._arRatios};DvtCSSGradient.prototype.setRatios=function(a){this._arRatios=a};var DvtLinearGradient=function(){this.Init()};DvtObj.createSubclass(DvtLinearGradient,DvtCSSGradient,"DvtLinearGradient");DvtLinearGradient.LEFT=0;
DvtLinearGradient.BOTTOM_LEFT=45;DvtLinearGradient.BOTTOM=90;DvtLinearGradient.BOTTOM_RIGHT=135;DvtLinearGradient.RIGHT=180;DvtLinearGradient.TOP_RIGHT=225;DvtLinearGradient.TOP=270;DvtLinearGradient.TOP_LEFT=315;DvtLinearGradient.prototype.Init=function(){DvtLinearGradient.superclass.Init.call(this,DvtCSSGradient.LINEAR)};DvtLinearGradient.prototype.getAngle=function(){return this._angle};DvtLinearGradient.prototype.setAngle=function(a){this._angle=a};var DvtGradientParser=function(){};
DvtObj.createSubclass(DvtGradientParser,DvtObj,"DvtGradientParser");DvtGradientParser.WEBKIT_GD_LINEAR="-webkit-linear-gradient";DvtGradientParser.FIREFOX_GD_LINEAR="-moz-linear-gradient";DvtGradientParser.IE_GD_LINEAR="progid:DXImageTransform.Microsoft.gradient";DvtGradientParser.IE_GD_LINEAR2="progid:DXImageTransform.Microsoft.Gradient";DvtGradientParser.IE7_GD_FILTER="filter";DvtGradientParser.IE8_GD_FILTER="-ms-filter";DvtGradientParser.IE10_GD_LINEAR="-ms-linear-gradient";
DvtGradientParser.IE_GD_START_COLOR_STR="startColorstr";DvtGradientParser.IE_GD_END_COLOR_STR="endColorstr";DvtGradientParser.IE_GD_GRADIENT_TYPE="GradientType";DvtGradientParser.OLD_WEBKIT_GD_LINEAR="-webkit-gradient";DvtGradientParser.GD_LINEAR="linear-gradient";DvtGradientParser.GD_RADIAL="radial-gradient";DvtGradientParser.GD_TOP="top";DvtGradientParser.GD_BOTTOM="bottom";DvtGradientParser.GD_LEFT="left";DvtGradientParser.GD_RIGHT="right";DvtGradientParser.GD_CENTER="center";
DvtGradientParser.GD_TO="to";
DvtGradientParser.parseCSSGradient=function(a){if(null!=a){a=DvtStringUtils.trim(a);if(DvtGradientParser._startsWith(a,DvtGradientParser.WEBKIT_GD_LINEAR))return a=DvtGradientParser._removeParenthesis(a,DvtGradientParser.WEBKIT_GD_LINEAR),DvtGradientParser._parseLinearGradient(a);if(DvtGradientParser._startsWith(a,DvtGradientParser.FIREFOX_GD_LINEAR))return a=DvtGradientParser._removeParenthesis(a,DvtGradientParser.FIREFOX_GD_LINEAR),DvtGradientParser._parseLinearGradient(a);if(DvtGradientParser._startsWith(a,
DvtGradientParser.IE_GD_LINEAR))return a=DvtGradientParser._removeParenthesis(a,DvtGradientParser.IE_GD_LINEAR),DvtGradientParser._parseIELinearGradient(a);if(DvtGradientParser._startsWith(a,DvtGradientParser.IE_GD_LINEAR2))return a=DvtGradientParser._removeParenthesis(a,DvtGradientParser.IE_GD_LINEAR2),DvtGradientParser._parseIELinearGradient(a);if(DvtGradientParser._startsWith(a,DvtGradientParser.IE10_GD_LINEAR))return a=DvtGradientParser._removeParenthesis(a,DvtGradientParser.IE10_GD_LINEAR),DvtGradientParser._parseLinearGradient(a);
if(DvtGradientParser._startsWith(a,DvtGradientParser.GD_LINEAR))return a=DvtGradientParser._removeParenthesis(a,DvtGradientParser.GD_LINEAR),DvtGradientParser._parseLinearGradient(a)}return null};
DvtGradientParser._parseLinearGradient=function(a){var b=/(left|right)/,c=/(top|bottom)/,d=new RegExp("(?:"+/(-?(?:\d*\.)?\d+)/.source+/(deg|rad|grad|turn)/.source+")"),b=a.match(new RegExp("(?:\\s*"+(new RegExp("(?:"+d.source+"|(?:"+/(?:(to)\s+)/.source+"?"+(new RegExp("(?:"+(new RegExp("(?:"+b.source+"(?:\\s+"+c.source+")?)")).source+"|"+(new RegExp("(?:"+c.source+"(?:\\s+"+b.source+")?)")).source+")")).source+"))")).source+"\\s*,\\s*)","i"));if(null==b||0==b.length)return null;var c=new DvtLinearGradient,
d=b[5]==DvtGradientParser.GD_TOP||b[6]==DvtGradientParser.GD_TOP,e=b[5]==DvtGradientParser.GD_BOTTOM||b[6]==DvtGradientParser.GD_BOTTOM,g=b[4]==DvtGradientParser.GD_LEFT||b[7]==DvtGradientParser.GD_LEFT,h=b[4]==DvtGradientParser.GD_RIGHT||b[7]==DvtGradientParser.GD_RIGHT;if(b[3]==DvtGradientParser.GD_TO){if(d||e)d=!d,e=!e;if(g||h)g=!g,h=!h}d?g?c.setAngle(DvtLinearGradient.TOP_LEFT):h?c.setAngle(DvtLinearGradient.TOP_RIGHT):c.setAngle(DvtLinearGradient.TOP):e?g?c.setAngle(DvtLinearGradient.BOTTOM_LEFT):
h?c.setAngle(DvtLinearGradient.BOTTOM_RIGHT):c.setAngle(DvtLinearGradient.BOTTOM):g?c.setAngle(DvtLinearGradient.LEFT):h?c.setAngle(DvtLinearGradient.RIGHT):b[2]&&(d=parseFloat(b[1]),isNaN(d)||("grad"==b[2]?d=d/200*180:"rad"==b[2]?d=d/Math.PI*180:"turn"==b[2]&&(d=d/.5*180),c.setAngle(d)));a=a.substring(b[0].length);DvtGradientParser._parseCSSColorStops(a,c);return c};
DvtGradientParser._parseIELinearGradient=function(a){a=a.split(",");var b=a.length,c,d=[],e=new DvtLinearGradient;e.setAngle(DvtLinearGradient.TOP);for(var g=0;g<b;g++)c=DvtStringUtils.trim(a[g]).split("\x3d"),2==c.length&&(c[0]=DvtStringUtils.trim(c[0]),c[0]==DvtGradientParser.IE_GD_START_COLOR_STR?d[0]=DvtGradientParser.removeQuotes(c[1],DvtCSSStyle.SINGLE_QUOTE):c[0]==DvtGradientParser.IE_GD_END_COLOR_STR?d[1]=DvtGradientParser.removeQuotes(c[1],DvtCSSStyle.SINGLE_QUOTE):c[0]==DvtGradientParser.IE_GD_GRADIENT_TYPE&&
"1"==c[1]&&e.setAngle(DvtLinearGradient.LEFT));DvtGradientParser._parseColorStops(d,e);return e};DvtGradientParser._parseCSSColorStops=function(a,b){var c=a.match(/(#[0-9a-f]+|rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)|rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*(\d?)(\.\d+)?\s*\)|[a-z]+)(\s+\d+\.?\d*%)?/gi);null!=c&&0<c.length&&DvtGradientParser._parseColorStops(c,b)};
DvtGradientParser._parseColorStops=function(a,b){for(var c=a.length,d=[],e=[],g=[],h,k=!0,m,n=[],t=0;t<a.length;t++)m=DvtCSSStyle.parseBorderColor(a[t],n),h=n.pop(),e[t]=h,d[t]=DvtColorUtils.getAlpha(h),m=DvtStringUtils.trim(m),0<m.length&&(h=parseFloat(m),!isNaN(h)&&DvtStringUtils.endsWith(m,"%")&&(g[t]=h/100,k=!1));if(1<c&&k)for(k=0;k<c;k++)g[k]=k/(c-1);else k&&(g[0]=0);b.setColors(e);b.setAlphas(d);b.setRatios(g)};
DvtGradientParser._removeParenthesis=function(a,b){if(")"!=a.charAt(a.length-1))return null;a=a.substring(b.length);return DvtGradientParser.removeQuotes(a,"(",")")};DvtGradientParser.removeQuotes=function(a,b,c){a=DvtStringUtils.trim(a);if(a.charAt(0)!=b)return a;null==c&&(c=b);b=a.lastIndexOf(c);return 0>b?a.substring(1):a.substring(1,b)};DvtGradientParser._startsWith=function(a,b){return 0==a.indexOf(b)};var DvtCSSStyle=function(a){this.Init(a)};DvtObj.createSubclass(DvtCSSStyle,DvtObj,"DvtCSSStyle");
DvtCSSStyle.SKIN_FUSION="fusion";DvtCSSStyle.SKIN_SKYROS="skyros";DvtCSSStyle.SKIN_ALTA="alta";DvtCSSStyle.SKIN_NEXT="next";DvtCSSStyle.BACKGROUND="background";DvtCSSStyle.BACKGROUND_COLOR="background-color";DvtCSSStyle.BACKGROUND_IMAGE="background-image";DvtCSSStyle.BACKGROUND_REPEAT="background-repeat";DvtCSSStyle.BACKGROUND_POSITION="background-position";DvtCSSStyle.BORDER="border";DvtCSSStyle.BORDER_TOP="border-top";DvtCSSStyle.BORDER_BOTTOM="border-bottom";DvtCSSStyle.BORDER_LEFT="border-left";
DvtCSSStyle.BORDER_RIGHT="border-right";DvtCSSStyle.BORDER_WIDTH="border-width";DvtCSSStyle.BORDER_TOP_WIDTH="border-top-width";DvtCSSStyle.BORDER_BOTTOM_WIDTH="border-bottom-width";DvtCSSStyle.BORDER_LEFT_WIDTH="border-left-width";DvtCSSStyle.BORDER_RIGHT_WIDTH="border-right-width";DvtCSSStyle.BORDER_COLOR="border-color";DvtCSSStyle.BORDER_TOP_COLOR="border-top-color";DvtCSSStyle.BORDER_BOTTOM_COLOR="border-bottom-color";DvtCSSStyle.BORDER_LEFT_COLOR="border-left-color";
DvtCSSStyle.BORDER_RIGHT_COLOR="border-right-color";DvtCSSStyle.BORDER_STYLE="border-style";DvtCSSStyle.BORDER_RADIUS="border-radius";DvtCSSStyle.BORDER_TOP_LEFT_RADIUS="border-top-left-radius";DvtCSSStyle.BORDER_TOP_RIGHT_RADIUS="border-top-right-radius";DvtCSSStyle.BORDER_BOTTOM_RIGHT_RADIUS="border-bottom-right-radius";DvtCSSStyle.BORDER_BOTTOM_LEFT_RADIUS="border-bottom-left-radius";DvtCSSStyle.MARGIN="margin";DvtCSSStyle.MARGIN_TOP="margin-top";DvtCSSStyle.MARGIN_BOTTOM="margin-bottom";
DvtCSSStyle.MARGIN_LEFT="margin-left";DvtCSSStyle.MARGIN_RIGHT="margin-right";DvtCSSStyle.PADDING="padding";DvtCSSStyle.PADDING_TOP="padding-top";DvtCSSStyle.PADDING_BOTTOM="padding-bottom";DvtCSSStyle.PADDING_LEFT="padding-left";DvtCSSStyle.PADDING_RIGHT="padding-right";DvtCSSStyle.COLOR="color";DvtCSSStyle.FONT_FAMILY="font-family";DvtCSSStyle.FONT_SIZE="font-size";DvtCSSStyle.FONT_STYLE="font-style";DvtCSSStyle.FONT_WEIGHT="font-weight";DvtCSSStyle.TEXT_DECORATION="text-decoration";
DvtCSSStyle.TEXT_ALIGN="text-align";DvtCSSStyle.BORDER_BOX="border-box";DvtCSSStyle.CONTENT_BOX="content-box";DvtCSSStyle.HEIGHT="height";DvtCSSStyle.WIDTH="width";DvtCSSStyle.NONE="none";DvtCSSStyle.NO_REPEAT="no-repeat";DvtCSSStyle.REPEAT="repeat";DvtCSSStyle.REPEAT_X="repeat-x";DvtCSSStyle.REPEAT_Y="repeat-y";DvtCSSStyle.AUTO="auto";DvtCSSStyle.AUTO_MARGIN="8";DvtCSSStyle.BORDER_TYPE="border-type";DvtCSSStyle.FILL_TYPE="fill-type";DvtCSSStyle.CONTENT="content";DvtCSSStyle.INNER_COLOR="-tr-inner-color";
DvtCSSStyle.OUTER_COLOR="-tr-outer-color";DvtCSSStyle.WHITE_SPACE="white-space";DvtCSSStyle._NAMED_FONT_SIZE_MAP={"xx-small":"9","x-small":"10",small:"13",medium:"16",large:"18","x-large":"24","xx-large":"32"};DvtCSSStyle._NAMED_WIDTH_MAP={thin:"2",medium:"4",thick:"6"};
DvtCSSStyle._NAMED_COLOR_MAP={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",white:"#FFFFFF",fuchsia:"#FF00FF",gray:"#848284",lime:"#00FF00",maroon:"#840000",green:"#008200",navy:"#000084",olive:"#848200",red:"#FF0000",silver:"#C6C3C6",teal:"#008284",yellow:"#FFFF00",purple:"#800080",cyan:"#D2B48C",goldenrod:"#DAA520",lightblue:"#ADD8E6",lightyellow:"#FFFFE0",orange:"#FFA500",paleGoldenRod:"#EEE8AA",paleturquoise:"#AFEEEE",peachpuff:"#FFDAB9",pink:"#FFC0CB",tan:"#D2B48C",thistle:"#D8BFD8",transparent:"transparent"};
DvtCSSStyle._numericAttrsList=[DvtCSSStyle.WIDTH,DvtCSSStyle.HEIGHT,DvtCSSStyle.BORDER_WIDTH,DvtCSSStyle.BORDER_TOP_WIDTH,DvtCSSStyle.BORDER_BOTTOM_WIDTH,DvtCSSStyle.BORDER_LEFT_WIDTH,DvtCSSStyle.BORDER_RIGHT_WIDTH,DvtCSSStyle.MARGIN,DvtCSSStyle.MARGIN_TOP,DvtCSSStyle.MARGIN_BOTTOM,DvtCSSStyle.MARGIN_LEFT,DvtCSSStyle.MARGIN_RIGHT,DvtCSSStyle.PADDING,DvtCSSStyle.PADDING_TOP,DvtCSSStyle.PADDING_BOTTOM,DvtCSSStyle.PADDING_LEFT,DvtCSSStyle.PADDING_RIGHT];DvtCSSStyle._DOUBLE_QUOTE='"';
DvtCSSStyle._SINGLE_QUOTE="'";DvtCSSStyle.COLORS_SKYROS="#003366 #CC3300 #666699 #006666 #FF9900 #993366 #99CC33 #624390 #669933 #FFCC33 #006699 #EBEA79".split(" ");DvtCSSStyle.COLORS_ALTA="#267db3 #68c182 #fad55c #ed6647 #8561c8 #6ddbdb #ffb54d #e371b2 #47bdef #a2bf39 #a75dba #f7f37b".split(" ");DvtCSSStyle.prototype.Init=function(a){this._styleMap={};this.parseInlineStyle(a)};
DvtCSSStyle.prototype.parseInlineStyle=function(a){if(a&&0<a.length){a=a.split(";");for(var b=0;b<a.length;b++){var c=a[b];if(c&&0<c.length){var d=c.indexOf(":");if(-1<d){var e=DvtStringUtils.trim(c.substring(0,d)),c=DvtStringUtils.trim(c.substring(d+1));e&&0<e.length&&c&&0<c.length&&(e==DvtCSSStyle.BACKGROUND_IMAGE&&0<=c.indexOf("data:image/")&&(c=c+";"+a[b+1],b++),this.setStyle(e,c))}}}}};
DvtCSSStyle.prototype.setStyle=function(a,b){if(null==b)this._setStyleAttr(a,b);else switch(a){case "background-repeat":this._setBackgroundRepeat(a,b);break;case "color":case "background-color":case "border-top-color":case "border-bottom-color":case "border-left-color":case "border-right-color":this._setColorAttr(a,b);break;case "border-top":case "border-bottom":case "border-left":case "border-right":this._setBorderSide(a,b);break;case "border":this._setBorderShorthand(a,b);break;case "border-color":this._setBorderColorShorthand(a,
b);break;case "border-width":this._setBorderWidthShorthand(a,b);break;case "border-radius":this._setBorderRadius(a,b);break;case "padding":this._setPaddingShorthand(a,b);break;case "margin":this._setMarginShorthand(a,b);break;case "font-size":this.setFontSize(a,b);break;case "background-image":var c=DvtGradientParser.parseCSSGradient(b);c&&(b=c);this._setStyleAttr(a,b);break;case DvtGradientParser.IE7_GD_FILTER:case DvtGradientParser.IE8_GD_FILTER:c=DvtGradientParser.removeQuotes(b,DvtCSSStyle._DOUBLE_QUOTE);
if(c=DvtGradientParser.parseCSSGradient(c))a=DvtCSSStyle.BACKGROUND_IMAGE,b=c;this._setStyleAttr(a,b);break;default:this._setStyleAttr(a,b)}return this};DvtCSSStyle.prototype.getStyle=function(a){return this._styleMap[a]};DvtCSSStyle.prototype._setStyleAttr=function(a,b){null!=b?this._styleMap[a]=b:delete this._styleMap[a];return this};
DvtCSSStyle.prototype.setFontSize=function(a,b){var c=DvtStringUtils.trim(b),d=DvtCSSStyle._NAMED_FONT_SIZE_MAP[c];d?this._setStyleAttr(a,String(d)+"px"):this._setStyleAttr(a,isNaN(parseFloat(c))?DvtStyleUtils.DEFAULT_FONT_SIZE:c)};
DvtCSSStyle.prototype._setBorderWidthShorthand=function(a,b){var c=b.split(" "),d=null;switch(c.length){case 1:this._setStyleAttr(a,DvtCSSStyle._getBorderWidth(c[0]));this._setStyleAttr(DvtCSSStyle.BORDER_TOP_WIDTH,null);this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_WIDTH,null);this._setStyleAttr(DvtCSSStyle.BORDER_RIGHT_WIDTH,null);this._setStyleAttr(DvtCSSStyle.BORDER_LEFT_WIDTH,null);break;case 2:d=DvtCSSStyle._getBorderWidth(c[0]);this._setStyleAttr(DvtCSSStyle.BORDER_TOP_WIDTH,d);this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_WIDTH,
d);d=DvtCSSStyle._getBorderWidth(c[1]);this._setStyleAttr(DvtCSSStyle.BORDER_LEFT_WIDTH,d);this._setStyleAttr(DvtCSSStyle.BORDER_RIGHT_WIDTH,d);break;case 3:this._setStyleAttr(DvtCSSStyle.BORDER_TOP_WIDTH,DvtCSSStyle._getBorderWidth(c[0]));d=DvtCSSStyle._getBorderWidth(c[1]);this._setStyleAttr(DvtCSSStyle.BORDER_LEFT_WIDTH,d);this._setStyleAttr(DvtCSSStyle.BORDER_RIGHT_WIDTH,d);this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_WIDTH,DvtCSSStyle._getBorderWidth(c[2]));break;case 4:this._setStyleAttr(DvtCSSStyle.BORDER_TOP_WIDTH,
DvtCSSStyle._getBorderWidth(c[0])),this._setStyleAttr(DvtCSSStyle.BORDER_RIGHT_WIDTH,DvtCSSStyle._getBorderWidth(c[1])),this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_WIDTH,DvtCSSStyle._getBorderWidth(c[2])),this._setStyleAttr(DvtCSSStyle.BORDER_LEFT_WIDTH,DvtCSSStyle._getBorderWidth(c[3]))}};DvtCSSStyle._getBorderWidth=function(a){a=DvtStringUtils.trim(a);var b=DvtCSSStyle._NAMED_WIDTH_MAP[a];b||(b=isNaN(parseFloat(a))?"0px":a);return b};
DvtCSSStyle.prototype._setBorderSide=function(a,b){for(var c=b.split(" "),d=null,e=!1,g,h=0;h<c.length;h++)if(d=c[h],g=a,0==d.indexOf("rgb")){for(var k=h+1;k<c.length&&(d+=c[k],h++,-1==c[k].indexOf(")"));k++);DvtStringUtils.endsWith(a,"-"+DvtCSSStyle.COLOR)||(g=a+"-"+DvtCSSStyle.COLOR);this._setStyleAttr(g,d)}else DvtCSSStyle._isColorValue(d)?(DvtStringUtils.endsWith(a,"-"+DvtCSSStyle.COLOR)||(g=a+"-"+DvtCSSStyle.COLOR),this._setStyleAttr(g,DvtCSSStyle._parseHexColor(d))):DvtCSSStyle._isBorderWidthValue(d)?
(DvtStringUtils.endsWith(a,"-"+DvtCSSStyle.WIDTH)||(g=a+"-"+DvtCSSStyle.WIDTH),this._setStyleAttr(g,d)):"none"==b&&(e=!0);e&&this._setStyleAttr(a+"-"+DvtCSSStyle.WIDTH,"0")};DvtCSSStyle.prototype.getBorderSideWidth=function(a){return this._getSideWidth(a,DvtCSSStyle.BORDER_WIDTH)};DvtCSSStyle.prototype.getMargin=function(a){return this._getSideWidth(a,DvtCSSStyle.MARGIN)};DvtCSSStyle.prototype.getPadding=function(a){return this._getSideWidth(a,DvtCSSStyle.PADDING)};
DvtCSSStyle.prototype.getBorderWidth=function(){var a=this.getStyle(DvtCSSStyle.BORDER_WIDTH);return a||(a=this.getStyle(DvtCSSStyle.BORDER_TOP_WIDTH))||(a=this.getStyle(DvtCSSStyle.BORDER_RIGHT_WIDTH))||(a=this.getStyle(DvtCSSStyle.BORDER_BOTTOM_WIDTH))?DvtCSSStyle.toNumber(a):(a=this.getStyle(DvtCSSStyle.BORDER_LEFT_WIDTH))?DvtCSSStyle.toNumber(a):0};DvtCSSStyle.prototype.getWidth=function(){return this.getStyle(DvtCSSStyle.WIDTH)};DvtCSSStyle.prototype.getHeight=function(){return this.getStyle(DvtCSSStyle.HEIGHT)};
DvtCSSStyle.toNumber=function(a){return a?(a=parseFloat(a),isNaN(a)?0:a):0};DvtCSSStyle.isInheritable=function(a){switch(a){case DvtCSSStyle.COLOR:case DvtCSSStyle.FONT_FAMILY:case DvtCSSStyle.FONT_SIZE:case DvtCSSStyle.FONT_STYLE:case DvtCSSStyle.FONT_WEIGHT:case DvtCSSStyle.TEXT_ALIGN:return!0;default:return!1}};
DvtCSSStyle.prototype._setBorderColorShorthand=function(a,b){var c=DvtCSSStyle._parseBorderColorString(a,b),d;switch(c.length){case 1:this._setStyleAttr(a,c[0]);this._setStyleAttr(DvtCSSStyle.BORDER_TOP_COLOR,null);this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_COLOR,null);this._setStyleAttr(DvtCSSStyle.BORDER_RIGHT_COLOR,null);this._setStyleAttr(DvtCSSStyle.BORDER_LEFT_COLOR,null);break;case 2:d=c[0];this._setStyleAttr(DvtCSSStyle.BORDER_TOP_COLOR,d);this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_COLOR,
d);d=c[1];this._setStyleAttr(DvtCSSStyle.BORDER_LEFT_COLOR,d);this._setStyleAttr(DvtCSSStyle.BORDER_RIGHT_COLOR,d);break;case 3:this._setStyleAttr(DvtCSSStyle.BORDER_TOP_COLOR,c[0]);d=c[1];this._setStyleAttr(DvtCSSStyle.BORDER_LEFT_COLOR,d);this._setStyleAttr(DvtCSSStyle.BORDER_RIGHT_COLOR,d);this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_COLOR,c[2]);break;case 4:this._setStyleAttr(DvtCSSStyle.BORDER_TOP_COLOR,c[0]),this._setStyleAttr(DvtCSSStyle.BORDER_RIGHT_COLOR,c[1]),this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_COLOR,
c[2]),this._setStyleAttr(DvtCSSStyle.BORDER_LEFT_COLOR,c[3])}};
DvtCSSStyle.prototype._setPaddingShorthand=function(a,b){var c=b.split(" "),d=null;switch(c.length){case 1:this._setStyleAttr(a,this._getPercent(c[0]));this._setStyleAttr(DvtCSSStyle.PADDING_TOP,null);this._setStyleAttr(DvtCSSStyle.PADDING_BOTTOM,null);this._setStyleAttr(DvtCSSStyle.PADDING_RIGHT,null);this._setStyleAttr(DvtCSSStyle.PADDING_LEFT,null);break;case 2:d=this._getPercent(c[0]);this._setStyleAttr(DvtCSSStyle.PADDING_TOP,d);this._setStyleAttr(DvtCSSStyle.PADDING_BOTTOM,d);d=this._getPercent(c[1]);
this._setStyleAttr(DvtCSSStyle.PADDING_LEFT,d);this._setStyleAttr(DvtCSSStyle.PADDING_RIGHT,d);break;case 3:this._setStyleAttr(DvtCSSStyle.PADDING_TOP,this._getPercent(c[0]));d=this._getPercent(c[1]);this._setStyleAttr(DvtCSSStyle.PADDING_LEFT,d);this._setStyleAttr(DvtCSSStyle.PADDING_RIGHT,d);this._setStyleAttr(DvtCSSStyle.PADDING_BOTTOM,this._getPercent(c[2]));break;case 4:this._setStyleAttr(DvtCSSStyle.PADDING_TOP,this._getPercent(c[0])),this._setStyleAttr(DvtCSSStyle.PADDING_RIGHT,this._getPercent(c[1])),
this._setStyleAttr(DvtCSSStyle.PADDING_BOTTOM,this._getPercent(c[2])),this._setStyleAttr(DvtCSSStyle.PADDING_LEFT,this._getPercent(c[3]))}};
DvtCSSStyle.prototype._setMarginShorthand=function(a,b){var c=b.split(" "),d=null;switch(c.length){case 1:this._setStyleAttr(a,this._getMargin(c[0]));this._setStyleAttr(DvtCSSStyle.MARGIN_TOP,null);this._setStyleAttr(DvtCSSStyle.MARGIN_BOTTOM,null);this._setStyleAttr(DvtCSSStyle.MARGIN_RIGHT,null);this._setStyleAttr(DvtCSSStyle.MARGIN_LEFT,null);break;case 2:d=this._getMargin(c[0]);this._setStyleAttr(DvtCSSStyle.MARGIN_TOP,d);this._setStyleAttr(DvtCSSStyle.MARGIN_BOTTOM,d);d=this._getMargin(c[1]);
this._setStyleAttr(DvtCSSStyle.MARGIN_LEFT,d);this._setStyleAttr(DvtCSSStyle.MARGIN_RIGHT,d);break;case 3:this._setStyleAttr(DvtCSSStyle.MARGIN_TOP,this._getMargin(c[0]));d=this._getMargin(c[1]);this._setStyleAttr(DvtCSSStyle.MARGIN_LEFT,d);this._setStyleAttr(DvtCSSStyle.MARGIN_RIGHT,d);this._setStyleAttr(DvtCSSStyle.MARGIN_BOTTOM,this._getMargin(c[2]));break;case 4:this._setStyleAttr(DvtCSSStyle.MARGIN_TOP,this._getMargin(c[0])),this._setStyleAttr(DvtCSSStyle.MARGIN_RIGHT,this._getMargin(c[1])),
this._setStyleAttr(DvtCSSStyle.MARGIN_BOTTOM,this._getMargin(c[2])),this._setStyleAttr(DvtCSSStyle.MARGIN_LEFT,this._getMargin(c[3]))}};DvtCSSStyle.prototype._getMargin=function(a){a=DvtStringUtils.trim(a);return DvtCSSStyle.AUTO==a?DvtCSSStyle.AUTO_MARGIN:this._getPercent(a)};DvtCSSStyle.prototype._getPercent=function(a){return DvtStringUtils.trim(a)};
DvtCSSStyle.prototype._setBorderShorthand=function(a,b){for(var c=b.split(" "),d=null,e=!1,g=0;g<c.length;g++)if(d=c[g],0==d.indexOf("rgb")){for(var h=g+1;h<c.length&&(d+=c[h],g++,-1==c[h].indexOf(")"));h++);this._setBorderColorShorthand(DvtCSSStyle.BORDER_COLOR,d)}else DvtCSSStyle._isColorValue(d)?this._setBorderColorShorthand(DvtCSSStyle.BORDER_COLOR,d):DvtCSSStyle._isBorderWidthValue(d)?this._setBorderWidthShorthand(DvtCSSStyle.BORDER_WIDTH,d):"none"==b&&(e=!0);e&&this._setBorderWidthShorthand(DvtCSSStyle.BORDER_WIDTH,
"0")};DvtCSSStyle._getBorderRadius=function(a){a=DvtStringUtils.trim(a);return isNaN(parseFloat(a))?"0px":a};
DvtCSSStyle.prototype._setBorderRadius=function(a,b){var c=b.split("/");if(null==c[0])this._setStyleAttr(a,"0px");else{var d=DvtStringUtils.trim(c[0]).split(" ");switch(d.length){default:this._setStyleAttr(a,DvtCSSStyle._getBorderRadius(d[0])),this._setStyleAttr(DvtCSSStyle.BORDER_TOP_LEFT_RADIUS,null),this._setStyleAttr(DvtCSSStyle.BORDER_TOP_RIGHT_RADIUS,null),this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_RIGHT_RADIUS,null),this._setStyleAttr(DvtCSSStyle.BORDER_BOTTOM_LEFT_RADIUS,null)}if(2==c.length&&
null!=c[1])switch(c=DvtStringUtils.trim(c[1]).split(" "),c.length){case 1:this.getStyle(a)?this._setStyleAttr(a,this.getStyle(a)+" "+DvtCSSStyle._getBorderRadius(c[0])):this._setStyleAttr(a,DvtCSSStyle._getBorderRadius(c[0]))}}};DvtCSSStyle.prototype.getBorderRadius=function(){return"undefined"!==this.getStyle(DvtCSSStyle.BORDER_RADIUS)&&null!==this.getStyle(DvtCSSStyle.BORDER_RADIUS)?DvtCSSStyle.toNumber(this.getStyle(DvtCSSStyle.BORDER_RADIUS)):0};
DvtCSSStyle.prototype._setBackgroundRepeat=function(a,b){var c=b.split(" ");2==c.length&&(c[0]==c[1]?b=c[0]:c[0]==DvtCSSStyle.REPEAT&&c[1]==DvtCSSStyle.NO_REPEAT&&(b=DvtCSSStyle.REPEAT_X),c[0]==DvtCSSStyle.NO_REPEAT&&c[1]==DvtCSSStyle.REPEAT&&(b=DvtCSSStyle.REPEAT_Y));this._setStyleAttr(a,b)};DvtCSSStyle.prototype._setColorAttr=function(a,b){var c=DvtCSSStyle._toColorVal(b);c?this._setStyleAttr(a,c):DvtCSSStyle._isColorValue(b)&&this._setStyleAttr(a,b)};
DvtCSSStyle._toColorVal=function(a){a=DvtStringUtils.trim(a);return(a=DvtCSSStyle._NAMED_COLOR_MAP[a.toLowerCase()])?a:null};DvtCSSStyle.prototype.setColor=function(a,b){this._setStyleAttr(a,b)};DvtCSSStyle._isValueInEM=function(a){return 0<=a.toLowerCase().indexOf("em")};DvtCSSStyle.prototype._resolveEMx=function(a,b){var c=this.getStyle(a);return c&&DvtCSSStyle._isValueInEM(c)?b?(this._setStyleAttr(a,String(Math.round(parseFloat(c)*parseFloat(b)))+"px"),!0):!1:!0};
DvtCSSStyle.prototype.getAbsoluteFontSize=function(){var a=this.getFontSize();return a&&!DvtCSSStyle._isValueInEM(a)?a:null};DvtCSSStyle.prototype.resolveEM=function(a){var b=this.getFontSize();b&&(DvtCSSStyle._isValueInEM(b)?this._resolveEMx(DvtCSSStyle.FONT_SIZE,a):a=b);for(var b=DvtCSSStyle._numericAttrsList,c=0;c<b.length;c++)if(!this._resolveEMx(b[c],a))return!1;return!0};
DvtCSSStyle.prototype.clone=function(){var a=new DvtCSSStyle,b;for(b in this._styleMap)a._setStyleAttr(b,this.getStyle(b));return a};DvtCSSStyle.prototype.merge=function(a){if(a)for(var b in a._styleMap)this._setStyleAttr(b,a.getStyle(b));return this};DvtCSSStyle.prototype.mergeUnder=function(a){if(a)for(var b in a._styleMap)this.getStyle(b)||this._setStyleAttr(b,a.getStyle(b));return this};
DvtCSSStyle.prototype.toString=function(){var a="",b;for(b in this._styleMap)a+=b+":"+this.getStyle(b)+"; ";return a};
DvtCSSStyle.prototype.getBackgroundImage=function(){var a=this.getStyle(DvtCSSStyle.BACKGROUND_IMAGE),b,c;if(a&&a instanceof DvtCSSGradient)return a;a&&(b=a.indexOf("url("),c=a.lastIndexOf(")"),0==b&&c==a.length-1&&(a=a.substring(4,c)));a&&(b=a.indexOf(DvtCSSStyle._SINGLE_QUOTE),c=a.lastIndexOf(DvtCSSStyle._SINGLE_QUOTE),0==b&&c==a.length-1?a=a.substring(1,c):(b=a.indexOf(DvtCSSStyle._DOUBLE_QUOTE),c=a.lastIndexOf(DvtCSSStyle._DOUBLE_QUOTE),0==b&&c==a.length-1&&(a=a.substring(1,c))));return a};
DvtCSSStyle._isColorValue=function(a){a=DvtStringUtils.trim(a);return 0==a.indexOf("rgb")||0==a.indexOf("#")||DvtCSSStyle._NAMED_COLOR_MAP[a.toLowerCase()]?!0:!1};DvtCSSStyle._isBorderWidthValue=function(a){a=DvtStringUtils.trim(a);return DvtCSSStyle._NAMED_WIDTH_MAP[a]?!0:!isNaN(parseFloat(a))};DvtCSSStyle._parseBorderColorString=function(a,b){b=DvtStringUtils.trim(b);for(var c=[];null!=b&&0<b.length;)b=DvtCSSStyle.parseBorderColor(b,c);return c};
DvtCSSStyle.parseBorderColor=function(a,b){a=DvtStringUtils.trim(a);var c=a.length,d=-1;if(!a)return a;if(0==a.indexOf("rgb"))d=a.indexOf(")")+1,c=a.slice(0,d);else{d=a.indexOf(" ");-1==d&&(d=c);var e=a.slice(0,d);(c=DvtCSSStyle._toColorVal(e))||(c=DvtCSSStyle._parseHexColor(e))}c&&(b.push(c),a=a.slice(d));return a};DvtCSSStyle._parseHexColor=function(a){var b;if(a&&0<a.length){var c=7<a.length;b=Number("0x"+a.substring(1));isNaN(b);b=c?"#"+a.substring(3):a}return b};
DvtCSSStyle.prototype._getSideWidth=function(a,b){var c=this.getStyle(a);c||(c=this.getStyle(b));return DvtCSSStyle.toNumber(c)};DvtCSSStyle.prototype.getFontSize=function(){return this.getStyle(DvtCSSStyle.FONT_SIZE)};DvtCSSStyle.mergeStyles=function(a){var b=new DvtCSSStyle;if(a)for(var c=0;c<a.length;c++)b.merge(a[c]);return b};DvtCSSStyle.prototype.isEmpty=function(){for(var a in this._styleMap)return!1;return!0};
DvtCSSStyle.prototype.isTextAlignEnd=function(a){var b=this.getStyle(DvtCSSStyle.TEXT_ALIGN);return"end"==b?!0:DvtAgent.isRightToLeft(a)?"left"==b:"right"==b};
DvtCSSStyle.prototype.parseBackgroundPosition=function(){var a=this.getStyle(DvtCSSStyle.BACKGROUND_POSITION);if(!a)return null;a=a.split(" ");if(0==a.length)return["0%","0%"];var b=["50%","50%"],c;0<a.length&&(c=DvtStringUtils.trim(a[0]),"left"==c?b[0]="0%":"right"==c?b[0]="100%":"top"==c?b[1]="0%":"bottom"==c?b[1]="100%":"center"!=c&&(b[0]=c));1<a.length&&(c=DvtStringUtils.trim(a[1]),"left"==c?b[0]="0%":"right"==c?b[0]="100%":"top"==c?b[1]="0%":"bottom"==c?b[1]="100%":"center"!=c&&(b[1]=c));return b};
DvtCSSStyle.prototype.getIconUrl=function(){return this.getStyle(DvtCSSStyle.CONTENT)};DvtCSSStyle.prototype.setIconUrl=function(a){this._setStyleAttr(DvtCSSStyle.CONTENT,a)};
DvtCSSStyle.prototype.hashCodeForTextMeasurement=function(){var a="";this.getStyle(DvtCSSStyle.FONT_FAMILY)&&(a+=this.getStyle(DvtCSSStyle.FONT_FAMILY));this.getStyle(DvtCSSStyle.FONT_SIZE)&&(a+=this.getStyle(DvtCSSStyle.FONT_SIZE));this.getStyle(DvtCSSStyle.FONT_STYLE)&&(a+=this.getStyle(DvtCSSStyle.FONT_STYLE));this.getStyle(DvtCSSStyle.FONT_WEIGHT)&&(a+=this.getStyle(DvtCSSStyle.FONT_WEIGHT));return a};DvtCSSStyle.afterSkinAlta=function(a){return null!=a&&a!=DvtCSSStyle.SKIN_FUSION&&a!=DvtCSSStyle.SKIN_SKYROS};
var DvtBaseComponent=function(){};DvtObj.createSubclass(DvtBaseComponent,DvtContainer,"DvtBaseComponent");DvtBaseComponent.prototype.Init=function(a,b,c){DvtBaseComponent.superclass.Init.call(this,a);this._callback=b;this._callbackObj=c;this.Options=this.Defaults=null;this.Height=this.Width=0};DvtBaseComponent.prototype.GetDefaults=function(a){return this.Defaults?this.Defaults.getDefaults(a):{}};
DvtBaseComponent.prototype.GetComponentDescription=function(){return DvtBundle.getTranslation(this.getOptions(),"componentName")};DvtBaseComponent.prototype.IsParentRoot=function(){return this.getParent()==this.getCtx().getStage()};
DvtBaseComponent.prototype.UpdateAriaAttributes=function(){this.IsParentRoot()&&(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DATA_VISUALIZATION"),DvtStringUtils.processAriaLabel(this.GetComponentDescription())])))};DvtBaseComponent.prototype.SetOptions=function(a){};
DvtBaseComponent.prototype.getOptions=function(){this.Options||(this.Options=this.GetDefaults());return this.Options};DvtBaseComponent.prototype.applyOptions=function(a){this.Options&&a&&this.SetOptions(DvtJSONUtils.merge(a,this.Options))};DvtBaseComponent.prototype.render=function(a,b,c){};DvtBaseComponent.prototype.getWidth=function(){return this.Width};DvtBaseComponent.prototype.getHeight=function(){return this.Height};DvtBaseComponent.prototype.highlight=function(a){};
DvtBaseComponent.prototype.select=function(a){};DvtBaseComponent.prototype.__dispatchEvent=function(a){DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,a)};DvtBaseComponent.prototype.getDimensionsWithStroke=function(a){return this.getDimensions(a)};DvtBaseComponent.prototype.__getEventManager=function(){return null};DvtBaseComponent.prototype.getKeyboardFocus=function(){var a=this.__getEventManager();return a?a.getFocus()?a.getFocus().getTargetElem():null:null};
var DvtBaseComponentDefaults=function(){this.Init()};DvtObj.createSubclass(DvtBaseComponentDefaults,DvtObj,"DvtBaseComponentDefaults");DvtBaseComponentDefaults._SKINS=[DvtCSSStyle.SKIN_FUSION,DvtCSSStyle.SKIN_SKYROS,DvtCSSStyle.SKIN_ALTA,DvtCSSStyle.SKIN_NEXT];DvtBaseComponentDefaults.prototype.Init=function(a){this._defaults=a?a:{};this.constructor.defaultsCache||(this.constructor.defaultsCache={})};DvtBaseComponentDefaults.prototype.getBaseSkinName=function(){return DvtCSSStyle.SKIN_NEXT};
DvtBaseComponentDefaults.prototype.calcOptions=function(a){var b=this.getDefaults(a?a.skin:null);return a?DvtJSONUtils.merge(a,b):b};
DvtBaseComponentDefaults.prototype.getDefaults=function(a){a||(a=this.getBaseSkinName());if(this.constructor.defaultsCache[a])return DvtJSONUtils.clone(this.constructor.defaultsCache[a]);for(var b=Math.max(DvtBaseComponentDefaults._SKINS.indexOf(a),0),c=DvtJSONUtils.clone(this._defaults[DvtBaseComponentDefaults._SKINS[0]]),d=1;d<=b;d++)c=DvtJSONUtils.merge(this._defaults[DvtBaseComponentDefaults._SKINS[d]],c);this.constructor.defaultsCache[a]=DvtJSONUtils.clone(c);return c};
var DvtContextMenuItem=function(a,b,c,d){this._event=a;this._text=b;this._disabled=c;this._sepBefore=d};DvtObj.createSubclass(DvtContextMenuItem,DvtObj,"DvtContextMenuItem");DvtContextMenuItem.prototype.getEvent=function(){return this._event};DvtContextMenuItem.prototype.getText=function(){return this._text};DvtContextMenuItem.prototype.isDisabled=function(){return this._disabled};DvtContextMenuItem.prototype.hasSeparatorBefore=function(){return this._sepBefore};
var DvtShowPopupBehavior=function(a,b,c,d){this._popupId=a;this._triggerType=b;this._alignId=c;this._align=d};DvtObj.createSubclass(DvtShowPopupBehavior,DvtObj,"DvtShowPopupBehavior");DvtShowPopupBehavior.TRIGGER_TYPE_ACTION="action";DvtShowPopupBehavior.TRIGGER_TYPE_CLICK="click";DvtShowPopupBehavior.TRIGGER_TYPE_CONTEXT_MENU="contextMenu";DvtShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK="dblClick";DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_HOVER="mouseHover";
DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER="mouseOver";DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_DOWN="mouseDown";DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_MOVE="mouseMove";DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_UP="mouseUp";DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_OUT="mouseOut";DvtShowPopupBehavior.TRIGGER_TYPE_KEY_DOWN="keyDown";DvtShowPopupBehavior.TRIGGER_TYPE_KEY_UP="keyUp";DvtShowPopupBehavior.TRIGGER_TYPE_KEY_PRESS="keyPress";DvtShowPopupBehavior.TRIGGER_TYPE_FOCUS="focus";
DvtShowPopupBehavior.TRIGGER_TYPE_BLUR="blur";DvtShowPopupBehavior.ALIGN_AFTER_START="afterStart";DvtShowPopupBehavior.ALIGN_AFTER_END="afterEnd";DvtShowPopupBehavior.ALIGN_BEFORE_START="beforeStart";DvtShowPopupBehavior.ALIGN_BEFORE_END="beforeEnd";DvtShowPopupBehavior.ALIGN_END_AFTER="endAfter";DvtShowPopupBehavior.ALIGN_END_BEFORE="endBefore";DvtShowPopupBehavior.ALIGN_START_AFTER="startAfter";DvtShowPopupBehavior.ALIGN_START_BEFORE="startBefore";DvtShowPopupBehavior.ALIGN_OVERLAP="overlap";
DvtShowPopupBehavior.createBehaviors=function(a){for(var b=[],c=0;c<a.length;c++)b.push(DvtShowPopupBehavior.newInstance(a[c]));return b};DvtShowPopupBehavior.newInstance=function(a){return new DvtShowPopupBehavior(a.popupId,a.triggerType,a.alignId,a.align)};DvtShowPopupBehavior.prototype.getPopupId=function(){return this._popupId};DvtShowPopupBehavior.prototype.getTriggerType=function(){return this._triggerType};DvtShowPopupBehavior.prototype.getAlignId=function(){return this._alignId};
DvtShowPopupBehavior.prototype.getAlign=function(){return this._align};var DvtClientBehavior=function(a,b){this._type=a;this._triggerType=b;this._props={}};DvtObj.createSubclass(DvtClientBehavior,DvtObj,"DvtClientBehavior");DvtClientBehavior.TRIGGER_TYPE_ACTION="action";DvtClientBehavior.TRIGGER_TYPE_CLICK="click";DvtClientBehavior.TYPE_ROW_DISCLOSURE="DvtRowDisclosureBehavior";DvtClientBehavior.TYPE_DRILL="DvtDrillBehavior";DvtClientBehavior.TYPE_ISOLATE_LEVELS="DvtIsolateLevelsBehavior";
DvtClientBehavior.TYPE_RESTORE="DvtRestoreBehavior";DvtClientBehavior.prototype.getType=function(){return this._type};DvtClientBehavior.prototype.getTriggerType=function(){return this._triggerType};DvtClientBehavior.prototype.setProperty=function(a,b){this._props[a]=b};DvtClientBehavior.prototype.getProperty=function(a){return this._props[a]};DvtClientBehavior.prototype.getProperties=function(){return this._props};
var DvtSimpleScrollbar=function(a,b,c,d){DvtSimpleScrollbar.superclass.Init.call(this,a);this._callback=b;this._callbackObj=c;this._dragTarget=d};DvtObj.createSubclass(DvtSimpleScrollbar,DvtContainer,"DvtSimpleScrollbar");
DvtSimpleScrollbar.prototype.render=function(a,b,c){this._width=b;this._height=c;this._globalMin=a.min;this._globalMax=a.max;this._isHoriz=a.isHorizontal;this._isReversed=a.isReversed;var d=new DvtRect(this.getCtx(),0,0,b,c);d.setSolidFill(a.backgroundColor);d.setPixelHinting(!0);this.addChild(d);this._thumb=new DvtRect(this.getCtx(),0,0,b,c);this._thumb.setSolidFill(a.color);this._thumb.setPixelHinting(!0);this.addChild(this._thumb);this._thumbMin=this._globalMin;this._thumbMax=this._globalMax;a=
DvtAgent.isTouchDevice()?8:4;a=new DvtRect(this.getCtx(),-a,-a,this._width+2*a,this._height+2*a);a.setInvisibleFill();this.addChild(a);a=null!=this._dragTarget;DvtSvgDocumentUtils.addDragListeners(a?this._dragTarget:this,this._onDragStart,this._onDragMove,this._onDragEnd,this,!a);DvtAgent.isTouchDevice()||a||this.addEvtListener(DvtMouseEvent.CLICK,this._onClick,!1,this);this._dragged=!1};
DvtSimpleScrollbar.prototype.setViewportRange=function(a,b){var c=this._getCoord(a),d=this._getCoord(b);this._isHoriz?(this._thumb.setX(Math.min(c,d)),this._thumb.setWidth(Math.abs(d-c))):(this._thumb.setY(Math.min(c,d)),this._thumb.setHeight(Math.abs(d-c)));this._thumbMin=a;this._thumbMax=b};DvtSimpleScrollbar.prototype._getCoord=function(a){a=(a-this._globalMin)/(this._globalMax-this._globalMin);this._isReversed&&(a=1-a);return this._isHoriz?a*this._width:a*this._height};
DvtSimpleScrollbar.prototype._getValue=function(a,b){var c=this.stageToLocal(this.getCtx().pageToStageCoords(a,b)),c=this._isHoriz?c.x/this._width:c.y/this._height;this._isReversed&&(c=1-c);c=Math.min(Math.max(c,0),1);return this._globalMin+c*(this._globalMax-this._globalMin)};DvtSimpleScrollbar.prototype._onClick=function(a){a=this._getValue(a.pageX,a.pageY);if(!(a>=this._thumbMin&&a<=this._thumbMax)){var b=this._thumbMax-this._thumbMin;this._setViewportRange(a-b/2,a+b/2,DvtSimpleScrollbarEvent.SUBTYPE_END)}};
DvtSimpleScrollbar.prototype._onDragStart=function(a){if(a.touches){if(1!=a.touches.length)return!1;a=this._getValue(a.touches[0].pageX,a.touches[0].pageY)}else a=this._getValue(a.pageX,a.pageY);return this._dragTarget||a>=this._thumbMin&&a<=this._thumbMax?(this._dragged=!0,this._prevVal=a,!0):!1};
DvtSimpleScrollbar.prototype._onDragMove=function(a){if(this._dragged){var b;if(a.touches){if(1!=a.touches.length)return;b=this._getValue(a.touches[0].pageX,a.touches[0].pageY)}else b=this._getValue(a.pageX,a.pageY);var c=b-this._prevVal;this._dragTarget&&(c*=-1);this._setViewportRange(this._thumbMin+c,this._thumbMax+c,DvtSimpleScrollbarEvent.SUBTYPE_MOVE);this._prevVal=b;a.preventDefault()}};
DvtSimpleScrollbar.prototype._onDragEnd=function(a){this._dragged&&(a.touches?this._setViewportRange(this._thumbMin,this._thumbMax,DvtSimpleScrollbarEvent.SUBTYPE_END):(a=this._getValue(a.pageX,a.pageY)-this._prevVal,this._setViewportRange(this._thumbMin+a,this._thumbMax+a,DvtSimpleScrollbarEvent.SUBTYPE_END)),this._dragged=!1)};
DvtSimpleScrollbar.prototype._setViewportRange=function(a,b,c){var d=b-a;a<this._globalMin&&(a=this._globalMin,b=this._globalMin+d);b>this._globalMax&&(b=this._globalMax,a=this._globalMax-d);this.setViewportRange(a,b);this._callback&&(a=new DvtSimpleScrollbarEvent(c,a,b),this._callback.call(this._callbackObj,a,this))};
var DvtSimpleScrollableContainer=function(a,b,c,d){DvtSimpleScrollableContainer.superclass.Init.call(this,a);this._contentSize=d?b:c;this._width=b;this._height=c;this._background=new DvtRect(a,0,0,b,c);this._background.setInvisibleFill();this.addChild(this._background);this._container=new DvtContainer(a);this.addChild(this._container);this._isHorizontalScrolling=d;this._isScrollbarVisible=!1;DvtAgent.isTouchDevice()||(DvtAgent.isPlatformGecko()?this.addEvtListener("DOMMouseScroll",this._onMouseWheel,
!1,this):this.addEvtListener(DvtMouseEvent.MOUSEWHEEL,this._onMouseWheel,!1,this))};DvtObj.createSubclass(DvtSimpleScrollableContainer,DvtContainer,"DvtSimpleScrollableContainer");DvtSimpleScrollableContainer._SCROLLBAR_WIDTH=3;DvtSimpleScrollableContainer._SCROLLBAR_GAP=2;DvtSimpleScrollableContainer.prototype.getScrollingPane=function(){return this._container};
DvtSimpleScrollableContainer.prototype.prepareContentPane=function(){var a=this._container.getDimensions();this._contentSize=this._isHorizontalScrolling?a.w+a.x:a.h+a.y;this._contentSize>this._getAvailSize()?(this._contentSize=this._isHorizontalScrolling?this._contentSize+a.x:this._contentSize+a.y,this._maskContainer||(a=new DvtRectangle(0,0,this._width,this._height),this._fadeTop=new DvtMask(new DvtLinearGradientFill(this._isHorizontalScrolling?0:270,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),a),this._fadeBottom=
new DvtMask(new DvtLinearGradientFill(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),a),this._fadeTopBottom=new DvtMask(new DvtLinearGradientFill(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],[0,1,1,0],[0,.1,.9,1]),a),this._maskContainer=new DvtContainer(this.getCtx()),this.addChild(this._maskContainer),a=new DvtClipPath,a.addRect(0,0,this._width,this._height),this._container.setClipPath(a),this._maskContainer.addChild(this._container),this._scrollbar=
new DvtSimpleScrollbar(this.getCtx(),this._handleScrollbar,this,this),this._scrollbarTimer=new DvtTimer(this.getCtx(),100,this._hideScrollbar,this)),this._maskContainer.setMask(this._fadeBottom),a={color:"#9E9E9E",backgroundColor:"#F0F0F0",isHorizontal:this._isHorizontalScrolling,isReversed:!1,min:0,max:this._contentSize},this._isHorizontalScrolling?(this._scrollbar.render(a,this._getScrollbarWidth(),DvtSimpleScrollableContainer._SCROLLBAR_WIDTH),this._scrollbar.setTranslate(DvtSimpleScrollableContainer._SCROLLBAR_GAP,
this._height-(DvtSimpleScrollableContainer._SCROLLBAR_WIDTH+DvtSimpleScrollableContainer._SCROLLBAR_GAP))):(this._scrollbar.render(a,DvtSimpleScrollableContainer._SCROLLBAR_WIDTH,this._getScrollbarWidth()),this._scrollbar.setTranslate(DvtAgent.isRightToLeft(this.getCtx())?DvtSimpleScrollableContainer._SCROLLBAR_GAP:this._width-(DvtSimpleScrollableContainer._SCROLLBAR_WIDTH+DvtSimpleScrollableContainer._SCROLLBAR_GAP),DvtSimpleScrollableContainer._SCROLLBAR_GAP)),this._scrollbar.setViewportRange(0,
this._getAvailSize()),DvtAgent.isEnvironmentTest()||this._scrollbar.setAlpha(0),this.addChild(this._scrollbar)):(this.addChild(this._container),this.removeChild(this._maskContainer),this.removeChild(this._scrollbar))};DvtSimpleScrollableContainer.prototype._getScrollbarWidth=function(){return(this._isHorizontalScrolling?this._width:this._height)-2*DvtSimpleScrollableContainer._SCROLLBAR_GAP};
DvtSimpleScrollableContainer.prototype._getAvailSize=function(){return this._isHorizontalScrolling?this._width:this._height};DvtSimpleScrollableContainer.prototype._hideScrollbar=function(a){this._isScrollbarVisible&&(this._isScrollbarVisible=!1,this._scrollbarTimer.reset(),this._fadeOutAnim=new DvtAnimFadeOut(this.getCtx(),this._scrollbar,.2),this._fadeOutAnim.play())};
DvtSimpleScrollableContainer.prototype._showScrollbar=function(a){this._isScrollbarVisible?this._scrollbarTimer.reset():(this._fadeOutAnim&&(this._fadeOutAnim.stop(!0),this._fadeOutAnim=null),this._scrollbar.setAlpha(1),this._isScrollbarVisible=!0);this._scrollbarTimer.start()};DvtSimpleScrollableContainer.prototype._updateFade=function(a){0==a?this._maskContainer.setMask(this._fadeBottom):a+this._getAvailSize()>=this._contentSize?this._maskContainer.setMask(this._fadeTop):this._maskContainer.setMask(this._fadeTopBottom)};
DvtSimpleScrollableContainer.prototype._onMouseWheel=function(a){if(!(this._contentSize<=this._getAvailSize())){this._showScrollbar();var b=null!=a.wheelDelta?a.wheelDelta:0;DvtAgent.isPlatformGecko()&&(b*=-1);var b=-1*(this._isHorizontalScrolling?this._container.getTranslateX():this._container.getTranslateY())-4*b,c=Math.max(this._contentSize-this._getAvailSize(),0),b=Math.max(Math.min(b,c),0);this._isHorizontalScrolling?(this._container.setTranslateX(-1*b),this._scrollbar.setViewportRange(b+this._width,
b)):(this._container.setTranslateY(-1*b),this._scrollbar.setViewportRange(b,b+this._height));this._updateFade(b);a.preventDefault()}};DvtSimpleScrollableContainer.prototype._handleScrollbar=function(a){this._showScrollbar();this._isHorizontalScrolling?this._container.setTranslateX(-1*a.getNewMin()):this._container.setTranslateY(-1*a.getNewMin());this._updateFade(a.getNewMin())};DvtSimpleScrollableContainer.prototype.getWidth=function(){return this._width};
DvtSimpleScrollableContainer.prototype.getHeight=function(){return this._height};
DvtSimpleScrollableContainer.prototype.scrollIntoView=function(a){if(!(this._contentSize<=this._getAvailSize())){a=a.getDimensions(a.getParent());var b=this._container.getDimensions(),c;if(this._isHorizontalScrolling){var d=-1*this._container.getTranslateX(),e=a.x-b.x;a=a.x+a.w-this._width+b.x;d<a?(this._container.setTranslateX(-1*a),this._scrollbar.setViewportRange(a+this._width,a),c=a):d>e&&(this._container.setTranslateX(-1*e),this._scrollbar.setViewportRange(e+this._width,e),c=e)}else d=-1*this._container.getTranslateY(),
e=a.y-b.y,a=a.y+a.h-this._height+b.y,d<a?(this._container.setTranslateY(-1*a),this._scrollbar.setViewportRange(a,a+this._height),c=a):d>e&&(this._container.setTranslateY(-1*e),this._scrollbar.setViewportRange(e,e+this._height),c=e);void 0!=c&&this._updateFade(c)}};var DvtDragRecognizer=function(){};DvtObj.createSubclass(DvtDragRecognizer,DvtObj,"DvtDragRecognizer");DvtDragRecognizer.prototype.prepDrag=function(){};DvtDragRecognizer.prototype.abortPrep=function(){};
DvtDragRecognizer.prototype.recognizeDrag=function(){return!0};var DvtDragSource=function(a){this.Init(a)};DvtObj.createSubclass(DvtDragSource,DvtObj,"DvtDragSource");DvtDragSource.DRAG_FEEDBACK_MARGIN=2;DvtDragSource.prototype.Init=function(a){this._context=a;this._dragCoords=this._dragObj=this._dragCandidate=null};DvtDragSource.prototype.getDragCandidate=function(){return this._dragCandidate};
DvtDragSource.prototype.setDragCandidate=function(a){this._dragCandidate=a&&a.isDragAvailable&&a.getDragTransferable?a:null};DvtDragSource.prototype.isDragAvailable=function(a){return null!=this._dragCandidate?this._dragCandidate.isDragAvailable(a):null};DvtDragSource.prototype.getDragTransferable=function(a,b){return this._dragCandidate?(this._dragObj=this._dragCandidate,this._dragCoords={x:a,y:b},this._dragCandidate.getDragTransferable(a,b)):null};
DvtDragSource.prototype.getDragOverFeedback=function(a,b){this._context.getTooltipManager().hideTooltip();var c=this.getDragObject();return c&&c.getDragFeedback?c.getDragFeedback(a,b):null};DvtDragSource.prototype.getDragContext=function(a,b){return this._dragObj&&this._dragObj.getDragContext?this._dragObj.getDragContext(a,b):null};DvtDragSource.prototype.getDragObject=function(){return this._dragObj};DvtDragSource.prototype.getDragCoords=function(){return this._dragCoords};
DvtDragSource.prototype.getDragOffset=function(a,b){var c=null,d=this.getDragOverFeedback(a,b);if(d){var e=DvtDnDUtils.getDragFeedbackBounds(d,this._context.getStage()),g=this.getDragObject();g&&g.afterDragOverFeedback&&g.afterDragOverFeedback(d);e&&(c={},c.x=a-e.x,c.y=b-e.y,c.x+=DvtDragSource.DRAG_FEEDBACK_MARGIN,c.y+=DvtDragSource.DRAG_FEEDBACK_MARGIN)}return c};DvtDragSource.prototype.getPointerOffset=function(a,b){return{x:0,y:0}};
DvtDragSource.prototype.initiateDrag=function(){var a=this.getTouchManager();DvtAgent.isTouchDevice()&&a&&a.cancelTouchHold()};DvtDragSource.prototype.dragDropEnd=function(){this._dragCoords=this._dragObj=this._dragCandidate=null};DvtDragSource.prototype.setTouchManager=function(a){this._touchManager=a};DvtDragSource.prototype.getTouchManager=function(){return this._touchManager};var DvtDropTarget=function(){};DvtObj.createSubclass(DvtDropTarget,DvtObj,"DvtDropTarget");
DvtDropTarget.prototype.acceptDrag=function(a,b,c,d){return null};DvtDropTarget.prototype.dragEnter=function(){};DvtDropTarget.prototype.dragExit=function(){};DvtDropTarget.prototype.getDropSite=function(a,b){return null};var DvtButton=function(a,b,c,d,e,g,h,k){this.Init(a,b,c,d,e,g,h,k)};DvtObj.createSubclass(DvtButton,DvtContainer,"DvtButton");DvtButton.STATE_ENABLED=0;DvtButton.STATE_OVER=1;DvtButton.STATE_DOWN=2;DvtButton.STATE_DISABLED=3;DvtButton.NO_EVENT_LISTENERS=!0;
DvtButton.prototype.Init=function(a,b,c,d,e,g,h,k){DvtButton.superclass.Init.call(this,a,null,g);this.setCallback(h,k);this._bDuringInit=!0;this.setUpState(b);this.setOverState(c);this.setDownState(d);e&&this.setDisabledState(e);this.setEnabled(!0);this.drawUpState();this._tooltip=null;this._bDuringInit=this._bToggled=this._bToggleEnabled=!1};DvtButton.prototype.isEnabled=function(){return this._enabled};
DvtButton.prototype.setEnabled=function(a){if(this._enabled!=a){this._enabled=a;var b=DvtAgent.isTouchDevice()?DvtTouchEvent.TOUCHSTART:DvtMouseEvent.CLICK;a?(this.addEvtListener(DvtMouseEvent.MOUSEOVER,this._mouseOverHandler,!1,this),this.addEvtListener(DvtMouseEvent.MOUSEOUT,this._mouseOutHandler,!1,this),this.addEvtListener(DvtMouseEvent.MOUSEDOWN,this._mouseDownHandler,!1,this),this.addEvtListener(DvtMouseEvent.MOUSEUP,this._mouseUpHandler,!1,this),this.addEvtListener(b,this._clickHandler,!1,
this),this.setCursor(DvtSelectionEffectUtils.getSelectingCursor())):(this.removeEvtListener(DvtMouseEvent.MOUSEOVER,this._mouseOverHandler,!1,this),this.removeEvtListener(DvtMouseEvent.MOUSEOUT,this._mouseOutHandler,!1,this),this.removeEvtListener(DvtMouseEvent.MOUSEDOWN,this._mouseDownHandler,!1,this),this.removeEvtListener(DvtMouseEvent.MOUSEUP,this._mouseUpHandler,!1,this),this.removeEvtListener(b,this._clickHandler,!1,this),this.setCursor(null))}};
DvtButton.prototype._mouseOverHandler=function(a){this._bToggled?this.drawOverDownState():this.drawOverState()};DvtButton.prototype._mouseOutHandler=function(a){this._bToggled?this.drawDownState():this.drawUpState()};DvtButton.prototype._mouseDownHandler=function(a){this.drawDownState();a.stopPropagation()};
DvtButton.prototype._mouseUpHandler=function(a){this._bToggled?DvtAgent.isTouchDevice()?this.drawDownState():this.drawOverDownState():DvtAgent.isTouchDevice()?this.drawUpState():this.drawOverState();a.stopPropagation()};
DvtButton.prototype._clickHandler=function(a){this._bToggleEnabled&&((this._bToggled=!this._bToggled)?DvtAgent.isTouchDevice()?this.drawDownState():this.drawOverDownState():DvtAgent.isTouchDevice()?this.drawUpState():this.drawOverState());this._callback&&(this._callback.call(this._callbackObj,a,this),a.stopPropagation(),a.preventDefault())};
DvtButton.prototype.drawUpState=function(){this._enableButton(this.upState,!0);this._enableButton(this.downState,!1);this._enableButton(this.overState,!1);this._enableButton(this.disabledState,!1);this._enableButton(this.overDownState,!1)};DvtButton.prototype.drawOverState=function(){this._enableButton(this.upState,!1);this._enableButton(this.downState,!1);this._enableButton(this.overState,!0);this._enableButton(this.disabledState,!1);this._enableButton(this.overDownState,!1)};
DvtButton.prototype.drawDownState=function(){this._enableButton(this.upState,!1);this._enableButton(this.downState,!0);this._enableButton(this.overState,!1);this._enableButton(this.disabledState,!1);this._enableButton(this.overDownState,!1)};DvtButton.prototype.drawDisabledState=function(){this._enableButton(this.upState,!1);this._enableButton(this.overState,!1);this._enableButton(this.downState,!1);this._enableButton(this.disabledState,!0);this._enableButton(this.overDownState,!1)};
DvtButton.prototype.drawOverDownState=function(){this.overDownState?(this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!0)):this.drawDownState()};DvtButton.prototype._enableButton=function(a,b){a&&a.setAlpha(b?1:0)};
DvtButton.prototype._enableMouseEvents=function(a,b){a.setMouseEnabled&&a.setMouseEnabled(b);for(var c=a.firstChild;null!=c;)this._enableMouseEvents(c,b),c=c.nextSibling};
DvtButton.prototype.setUpState=function(a){if(!this.upState||this.upState!=a){var b=!1;if(this.upState)b=this._isButtonEnabled(this.upState),this.removeChild(this.upState);else if(!this._bDuringInit){var c=!1,d=!1,e=!1;this.downState&&(c=this._isButtonEnabled(this.downState));this.overState&&(d=this._isButtonEnabled(this.overState));this.disabledState&&(e=this._isButtonEnabled(this.disabledState));c||d||e||(b=!0)}a&&this.addChild(a);this.upState=a;this._enableButton(this.upState,b)}};
DvtButton.prototype.setDownState=function(a){if(!this.downState||this.downState!=a){var b=!1;this.downState&&(b=this._isButtonEnabled(this.downState),this.removeChild(this.downState));a&&this.addChild(a);this.downState=a;this._enableButton(this.downState,b)}};
DvtButton.prototype.setOverState=function(a){if(!this.overState||this.overState!=a){var b=!1;this.overState&&(b=this._isButtonEnabled(this.overState),this.removeChild(this.overState));a&&this.addChild(a);this.overState=a;this._enableButton(this.overState,b)}};
DvtButton.prototype.setDisabledState=function(a){if(!this.disabledState||this.disabledState==a){var b=!1;this.disabledState&&(b=this._isButtonEnabled(this.disabledState),this.removeChild(this.disabledState));a&&this.addChild(a);this.disabledState=a;this._enableButton(this.disabledState,b)}};
DvtButton.prototype.setOverDownState=function(a){if(!this.overDownState||this.overDownState==a){var b=!1;this.overDownState&&(b=this._isButtonEnabled(this.overDownState),this.removeChild(this.overDownState));a&&this.addChild(a);this.overDownState=a;this._enableButton(this.overDownState,b)}};DvtButton.prototype.setCallback=function(a,b){this._callback=a;this._callbackObj=b};DvtButton.prototype.setTooltip=function(a){this._tooltip=a};DvtButton.prototype.getTooltip=function(){return this._tooltip};
DvtButton.prototype.isClickEventPropagationStopped=function(){return!0};DvtButton.prototype.initState=function(){this.isEnabled()?this.drawUpState():this.drawDisabledState()};
DvtButton.prototype.setSize=function(a,b){var c=this.upState;c&&(c.setWidth&&a&&c.setWidth(a),c.setHeight&&b&&c.setHeight(b));if(c=this.downState)c.setWidth&&a&&c.setWidth(a),c.setHeight&&b&&c.setHeight(b);if(c=this.overState)c.setWidth&&a&&c.setWidth(a),c.setHeight&&b&&c.setHeight(b);if(c=this.disabledState)c.setWidth&&a&&c.setWidth(a),c.setHeight&&b&&c.setHeight(b)};
DvtButton.prototype.rightAlign=function(a,b,c){b=a-b;var d=this.upState;d&&a&&(c?d.setTranslateX(b):this._setChildX(d,b));(d=this.downState)&&a&&(c?d.setTranslateX(b):this._setChildX(d,b));(d=this.overState)&&a&&(c?d.setTranslateX(b):this._setChildX(d,b));(a=this.disabledState)&&(c?a.setTranslateX(b):this._setChildX(a,b))};DvtButton.prototype._setChildX=function(a,b){for(var c=0;c<a.getNumChildren();c++){var d=a.getChildAt(c);d instanceof DvtDisplayable&&d.setTranslateX(b)}};
DvtButton.prototype.setToggleEnabled=function(a){this._bToggleEnabled=a};DvtButton.prototype.isToggleEnabled=function(){return this._bToggleEnabled};DvtButton.prototype.setToggled=function(a){this._bToggleEnabled&&((this._bToggled=a)?this.drawDownState():this.drawUpState())};DvtButton.prototype.isToggled=function(){return this._bToggled};DvtButton.prototype._isButtonEnabled=function(a){var b=!1;a&&(b=0<a.getAlpha()?!0:!1);return b};DvtButton.prototype.getUpState=function(){return this.upState};
DvtButton.prototype.getDownState=function(){return this.downState};DvtButton.prototype.getOverState=function(){return this.overState};DvtButton.prototype.showKeyboardFocusEffect=function(){this._keyboardFocusEffect||(this._keyboardFocusEffect=this.CreateKeyboardFocusEffect());this._keyboardFocusEffect.show();this._isShowingKeyboardFocusEffect=!0;this.getCtx().setActiveElement(this)};
DvtButton.prototype.hideKeyboardFocusEffect=function(){this._keyboardFocusEffect&&this._keyboardFocusEffect.hide();this._isShowingKeyboardFocusEffect=!1};DvtButton.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect};DvtButton.prototype.CreateKeyboardFocusEffect=function(){return new DvtKeyboardFocusEffect(this.getCtx(),this,this.getDimensions(),null,null,!0)};
DvtButton.prototype.handleKeyboardEvent=function(a){var b=a.keyCode;b!=DvtKeyboardEvent.ENTER&&b!=DvtKeyboardEvent.SPACE||!this._callback||(this._callback.call(this._callbackObj,a,this),a.stopPropagation(),a.preventDefault())};var DvtTransientButton=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtTransientButton,DvtButton,"DvtTransientButton");DvtTransientButton._DEFAULT_RADIUS=16;DvtTransientButton._DEFAULT_FILL_COLOR="#ffffff";
DvtTransientButton._DEFAULT_BORDER_COLOR="#d6d7d8";
DvtTransientButton.prototype.Init=function(a,b,c,d,e,g,h){DvtTransientButton.superclass.Init.call(this,a,b,c,d,e,null,h,g);a=a.getStage();a.addEvtListener(DvtFocusEvent.FOCUS,this._onFocus,!0,this);a.addEvtListener(DvtFocusEvent.BLUR,this._onBlur,!0,this);DvtAgent.isTouchDevice()||(DvtAgent.isPlatformIE()?(a.addEvtListener("mouseenter",this._onMouseOver,!1,this),a.addEvtListener("mouseleave",this._onMouseOut,!1,this)):(a.addEvtListener(DvtMouseEvent.MOUSEOVER,this._onMouseOver,!1,this),a.addEvtListener(DvtMouseEvent.MOUSEOUT,
this._onMouseOut,!1,this)))};DvtTransientButton.getStateFromURL=function(a,b){var c=DvtTransientButton._DEFAULT_RADIUS,d=c/2,e=new DvtCircle(a,c,c,c);e.setSolidFill(DvtTransientButton._DEFAULT_FILL_COLOR);e.setSolidStroke(DvtTransientButton._DEFAULT_BORDER_COLOR);c=new DvtImage(a,b,d,d,c,c);e.addChild(c);return e};DvtTransientButton.prototype.show=function(){this.setAlpha(1)};DvtTransientButton.prototype.hide=function(){this.setAlpha(0)};
DvtTransientButton.prototype._onFocus=function(a){this._isFocused=!0;this.show()};DvtTransientButton.prototype._onBlur=function(a){this._isFocused=!1;this._isMouseOver||this.hide()};DvtTransientButton.prototype._onMouseOver=function(a){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop();this._isMouseOver=!0;this.show()};
DvtTransientButton.prototype._onMouseOut=function(a){this._mouseOutTimer||(this._mouseOutTimer=new DvtTimer(this.getCtx(),10,this._onMouseOutTimerEnd,this,1));this._mouseOutTimer.reset();this._mouseOutTimer.start()};DvtTransientButton.prototype._onMouseOutTimerEnd=function(){this._isMouseOver=!1;this._isFocused||this.hide()};var DvtLogicalObject=function(){};DvtObj.createSubclass(DvtLogicalObject,DvtObj,"DvtLogicalObject");DvtLogicalObject.prototype.getDisplayables=function(){};
DvtLogicalObject.prototype.getAriaLabel=function(){};var DvtTooltipSource=function(){};DvtObj.createSubclass(DvtTooltipSource,DvtObj,"DvtTooltipSource");DvtTooltipSource.prototype.getTooltip=function(a,b,c){};DvtTooltipSource.prototype.getDatatip=function(a,b,c){};DvtTooltipSource.prototype.getDatatipColor=function(){};var DvtSelectable=function(){};DvtObj.createSubclass(DvtSelectable,DvtObj,"DvtSelectable");DvtSelectable.prototype.isSelectable=function(){};DvtSelectable.prototype.isSelected=function(){};
DvtSelectable.prototype.setSelected=function(a,b){};DvtSelectable.prototype.showHoverEffect=function(){};DvtSelectable.prototype.hideHoverEffect=function(){};var DvtComponentKeyboardHandler=function(){};DvtComponentKeyboardHandler.prototype.handleKeyboardEvent=function(a){};DvtComponentKeyboardHandler.prototype.hideKeyboardFocusEffect=function(){};var DvtKeyboardNavigable=function(){};DvtObj.createSubclass(DvtKeyboardNavigable,DvtObj,"DvtKeyboardNavigable");
DvtKeyboardNavigable.prototype.getNextNavigable=function(a){};DvtKeyboardNavigable.prototype.getTargetElem=function(){};DvtKeyboardNavigable.prototype.getKeyboardBoundingBox=function(a){};DvtKeyboardNavigable.prototype.showKeyboardFocusEffect=function(){};DvtKeyboardNavigable.prototype.hideKeyboardFocusEffect=function(){};DvtKeyboardNavigable.prototype.isShowingKeyboardFocusEffect=function(){};DvtKeyboardNavigable.prototype.getContextMenuLocation=function(){};
DvtKeyboardNavigable.prototype.getKeyboardTooltipLocation=function(){};var DvtCategoricalObject=function(){};DvtObj.createSubclass(DvtCategoricalObject,DvtObj,"DvtCategoricalObject");DvtCategoricalObject.prototype.getCategories=function(){};DvtCategoricalObject.prototype.highlight=function(a,b){};var DvtContextMenuSource=function(){};DvtObj.createSubclass(DvtContextMenuSource,DvtObj,"DvtContextMenuSource");DvtContextMenuSource.prototype.getContextMenuLocation=function(){};var DvtPopupSource=function(){};
DvtObj.createSubclass(DvtPopupSource,DvtObj,"DvtPopupSource");DvtPopupSource.prototype.getId=function(){};DvtPopupSource.prototype.getShowPopupBehaviors=function(){};var DvtZOrderManager=function(){};DvtObj.createSubclass(DvtZOrderManager,DvtObj,"DvtZOrderManager");DvtZOrderManager.prototype.bringToFrontOfSelection=function(a){};DvtZOrderManager.prototype.pushToBackOfSelection=function(a){};DvtZOrderManager.prototype.setNumFrontObjs=function(a){};var DvtAutomation=function(a){};
DvtObj.createSubclass(DvtAutomation,DvtObj,"DvtAutomation");DvtAutomation.TOOLTIP_SUBID="tooltip";DvtAutomation.prototype.getSubIdForDomElement=function(a){var b=DvtAutomation._findDisplayable(a);return!b||b instanceof Array?a&&this.IsTooltipElement(a)?DvtAutomation.TOOLTIP_SUBID:null:this.GetSubIdForDomElement(b)};DvtAutomation.prototype.GetSubIdForDomElement=function(a){return null};DvtAutomation.prototype.getDomElementForSubId=function(a){return null};
DvtAutomation._findDisplayable=function(a){for(;a;){if(a._obj)return a._obj;a=a.parentNode}return null};DvtAutomation.prototype.GetTooltipElement=function(a,b){if(a){var c=a.getCtx().getTooltipManager(b).getTooltipElem();return"hidden"==c.style.visibility?null:c}return null};DvtAutomation.prototype.IsTooltipElement=function(a){return(a=a.getAttribute("id"))&&0==a.indexOf(DvtHtmlTooltipManager._TOOLTIP_DIV_ID)?!0:!1};var DvtSimpleObjPeer=function(a,b,c,d){this.Init(a,b,c,d)};
DvtObj.createSubclass(DvtSimpleObjPeer,DvtObj,"DvtSimpleObjPeer");DvtSimpleObjPeer.prototype.Init=function(a,b,c,d){this._tooltip=a;this._datatip=b;this._datatipColor=c;this._params=d};DvtSimpleObjPeer.prototype.setTooltip=function(a){this._tooltip=a};DvtSimpleObjPeer.prototype.setDatatip=function(a){this._datatip=a};DvtSimpleObjPeer.prototype.setDatatipColor=function(a){this._datatipColor=a};DvtSimpleObjPeer.prototype.getParams=function(){return this._params};
DvtSimpleObjPeer.prototype.getTooltip=function(a){return this._tooltip};DvtSimpleObjPeer.prototype.getDatatip=function(a){return this._datatip};DvtSimpleObjPeer.prototype.getDatatipColor=function(a){return this._datatipColor};var DvtAgent=function(){};DvtObj.createSubclass(DvtAgent,DvtObj,"DvtAgent");DvtAgent.UNKNOWN_VERSION=-1;DvtAgent.IE_PLATFORM="ie";DvtAgent.GECKO_PLATFORM="gecko";DvtAgent.WEBKIT_PLATFORM="webkit";DvtAgent.UNKNOWN_PLATFORM="unknown";DvtAgent.WINDOWS_OS="Windows";
DvtAgent.SOLARIS_OS="Solaris";DvtAgent.MAC_OS="Mac";DvtAgent.UNKNOWN_OS="Unknown";DvtAgent.FOCUS_COLOR_DEFAULT="#0645AD";DvtAgent.FOCUS_COLOR_IE="#090909";DvtAgent.deferAriaCreation=function(){return!DvtAgent.isTouchDevice()&&!DvtAgent.isEnvironmentTest()};DvtAgent.getDevicePixelRatio=function(){DvtAgent._initialize();return DvtAgent._devicePixelRatio};DvtAgent.getElementPosition=function(a){return DvtAgent.isPlatformIE()?DvtAgent._getElementPositionIE(a):DvtAgent._getElementPositionDefault(a)};
DvtAgent.getPlatform=function(){DvtAgent._initialize();return DvtAgent._platform};DvtAgent.getOS=function(){DvtAgent._initialize();return DvtAgent._os};DvtAgent.getVersion=function(){DvtAgent._initialize();return DvtAgent._version};DvtAgent.isBrowserChrome=function(){DvtAgent._initialize();return DvtAgent._bChrome};DvtAgent.isBrowserSafari=function(){return DvtAgent.isPlatformWebkit()&&!DvtAgent.isBrowserChrome()};DvtAgent.isPlatformGecko=function(){return DvtAgent.getPlatform()==DvtAgent.GECKO_PLATFORM};
DvtAgent.isPlatformIE=function(){return DvtAgent.getPlatform()==DvtAgent.IE_PLATFORM};DvtAgent.isPlatformWebkit=function(){return DvtAgent.getPlatform()==DvtAgent.WEBKIT_PLATFORM};DvtAgent.isRightToLeft=function(a){DvtAgent._initialize();return a&&null!=a.getReadingDirection()?"rtl"==a.getReadingDirection():DvtAgent._bRtl};DvtAgent.isTouchDevice=function(){DvtAgent._initialize();return DvtAgent._bTouchDevice};DvtAgent.setEnvironment=function(a){DvtAgent._environment=a};
DvtAgent.isEnvironmentTest=function(){return"test"==DvtAgent._environment};DvtAgent.isEnvironmentBatik=function(){return"batik"==DvtAgent._environment};DvtAgent.isEnvironmentBrowser=function(){return!DvtAgent.isEnvironmentTest()&&!DvtAgent.isEnvironmentBatik()};DvtAgent.setHighContrast=function(a){DvtAgent._highContrast=a};DvtAgent.isHighContrast=function(){return!0===DvtAgent._highContrast};
DvtAgent.workaroundFirefoxRepaint=function(a){if(DvtAgent.isPlatformGecko()){var b=a.getParent();if(b){var c=b.getChildIndex(a);b.removeChildAt(c);b.addChildAt(a,c)}}};
DvtAgent._initialize=function(){if(!DvtAgent._bInitialized){var a=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():null;DvtAgent._os=DvtAgent._determineOS(a);DvtAgent._platform=DvtAgent._determinePlatform(a);DvtAgent._bChrome=a&&-1!=a.indexOf("chrome/")&&-1===a.indexOf("edge");DvtAgent._version=DvtAgent._determineVersion(a,DvtAgent._platform);DvtAgent._bRtl=document&&document.documentElement?"rtl"==document.documentElement.dir:!1;DvtAgent._bTouchDevice=DvtAgent._platform==DvtAgent.WEBKIT_PLATFORM&&
a&&(-1!=a.indexOf("mobile")||-1!=a.indexOf("android"));DvtAgent._devicePixelRatio=window&&null!=window.devicePixelRatio?window.devicePixelRatio:1;DvtAgent._bInitialized=!0}};DvtAgent._determineOS=function(a){if(a){if(-1!=a.indexOf("win"))return DvtAgent.WINDOWS_OS;if(-1!=a.indexOf("mac"))return DvtAgent.MAC_OS;if(-1!=a.indexOf("sunos"))return DvtAgent.SOLARIS_OS}return DvtAgent.UNKNOWN_OS};
DvtAgent._determinePlatform=function(a){if(a&&-1==a.indexOf("opera")){if(-1!=a.indexOf("trident")||-1!=a.indexOf("msie")||-1!=a.indexOf("edge"))return DvtAgent.IE_PLATFORM;if(-1!=a.indexOf("applewebkit")||-1!=a.indexOf("safari"))return DvtAgent.WEBKIT_PLATFORM;if(-1!=a.indexOf("gecko/"))return DvtAgent.GECKO_PLATFORM}return DvtAgent.UNKNOWN_PLATFORM};
DvtAgent._determineVersion=function(a,b){if(a){if(b==DvtAgent.GECKO_PLATFORM)return DvtAgent._parseFloatVersion(a,/rv:(\d+[.]\d+)/);if(b==DvtAgent.IE_PLATFORM){var c=DvtAgent._parseFloatVersion(a,/trident\/(\d+[.]\d+)/);if(c!=DvtAgent.UNKNOWN_VERSION)return c+4;c=DvtAgent._parseFloatVersion(a,/edge\/(\d+[.]\d+)/);if(c!=DvtAgent.UNKNOWN_VERSION)return c;c=DvtAgent._parseFloatVersion(a,/msie (\d+\.\d+);/);return c!=DvtAgent.UNKNOWN_VERSION?c:DvtAgent._parseFloatVersion(a,/msie (\d+\.\d+)b;/)}if(b==
DvtAgent.WEBKIT_PLATFORM)return DvtAgent._bChrome?DvtAgent._parseFloatVersion(a,/chrome\/(\d+([.]\d+)*)/):DvtAgent._parseFloatVersion(a,/applewebkit\/(\d+([.]\d+)*)/)}return DvtAgent.UNKNOWN_VERSION};DvtAgent._parseFloatVersion=function(a,b){try{var c=a.match(b);return c&&c[1]?parseFloat(c[1]):DvtAgent.UNKNOWN_VERSION}catch(d){return console.error("DvtAgent._parseFloatVersion error: "),console.error(d),DvtAgent.UNKNOWN_VERSION}};
DvtAgent._getElementPositionDefault=function(a){var b=a.getBoundingClientRect(),c=Math.round(b.top),b=b.left,d=a.ownerDocument.documentElement;a=a.ownerDocument.body;b+=d.scrollLeft||a.scrollLeft;c+=d.scrollTop||a.scrollTop;return new DvtPoint(b,c)};DvtAgent._getElementPositionIE=function(a){var b=a.getBoundingClientRect(),c=b.top,b=b.left;a=a.ownerDocument.documentElement;b-=a.clientLeft-a.scrollLeft;c-=a.clientTop-a.scrollTop;return new DvtPoint(b,c)};
DvtAgent.getFocusColor=function(){DvtAgent._initialize();if(!DvtAgent._focusColor){var a;if(DvtAgent.isPlatformWebkit()&&!DvtAgent.isEnvironmentTest()){var b=document.getElementsByTagName("body")[0],c=document.createElement("div");b.appendChild(c);c.style.outline="-webkit-focus-ring-color";a=window.getComputedStyle(c).getPropertyValue("outline-color");b.removeChild(c)}else DvtAgent.isPlatformIE()&&(a=DvtAgent.FOCUS_COLOR_IE);DvtAgent._focusColor=a?a:DvtAgent.FOCUS_COLOR_DEFAULT}return DvtAgent._focusColor};
var DvtBundle=function(){};DvtBundle._localizedStrings={};DvtBundle._defaultStrings={};DvtObj.createSubclass(DvtBundle,DvtObj,"DvtBundle");DvtBundle.SUBCOMPONENT_PREFIX="DvtSubcomponentBundle";DvtBundle.AFCOMPONENT_PREFIX="DvtAfComponentBundle";DvtBundle.UTIL_PREFIX="DvtUtilBundle";DvtBundle.CHART_PREFIX="DvtChartBundle";DvtBundle.GAUGE_PREFIX="DvtGaugeBundle";DvtBundle.TREEMAP_PREFIX="DvtTreemapBundle";DvtBundle.SUNBURST_PREFIX="DvtSunburstBundle";DvtBundle.NBOX_PREFIX="DvtNBoxBundle";
DvtBundle.HIERARCHYVIEWER_PREFIX="DvtHierarchyViewerBundle";DvtBundle.DIAGRAM_PREFIX="DvtDiagramBundle";DvtBundle.TAGCLOUD_PREFIX="DvtTagCloudBundle";DvtBundle.TIMELINE_PREFIX="DvtTimelineBundle";DvtBundle.addLocalizedStrings=function(a){for(var b in a)DvtBundle._localizedStrings[b]=a[b]};DvtBundle.addDefaultStrings=function(a,b){for(var c in b)DvtBundle._defaultStrings[a+"."+c]=b[c]};DvtBundle.format=function(a,b){return a.replace(/\{(\d+)\}/g,function(a,d){return b[d]})};
DvtBundle.getTranslatedString=function(a,b,c){a=a+"."+b;(b=DvtBundle._localizedStrings[a])||(b=DvtBundle._defaultStrings[a]);b&&null!==c&&void 0!==c&&(b=c instanceof Array?DvtBundle.format(b,c):DvtBundle.format(b,[c]));return b};DvtBundle.getTranslation=function(a,b,c,d,e){a=a&&a.translations?a.translations[b]:null;a||(c=c+"."+d,(a=DvtBundle._localizedStrings[c])||(a=DvtBundle._defaultStrings[c]));a&&null!==e&&void 0!==e&&(a=e instanceof Array?DvtBundle.format(a,e):DvtBundle.format(a,[e]));return a};
var DvtCache=function(a){this.Init(a)};DvtObj.createSubclass(DvtCache,DvtObj,"DvtCache");DvtCache._TARGET_SIZE=1E3;DvtCache._BUFFER_SIZE=.5;DvtCache.prototype.Init=function(a){this._targetSize=null!=a?a:DvtCache._TARGET_SIZE;this._maxSize=Math.ceil(this._targetSize*(1+DvtCache._BUFFER_SIZE));this._cache={};this._lruArray=[];this._misses=this._hits=0};DvtCache.prototype.get=function(a){a=this._cache[a];if(null!=a)return this._hits++,a;this._misses++;return null};
DvtCache.prototype.put=function(a,b){var c=null!=this._cache[a];this._cache[a]=b;if(c)c=DvtArrayUtils.getIndex(this._lruArray,a),this._lruArray.splice(c,1),this._lruArray.push(a);else if(this._lruArray.push(a),this._lruArray.length>this._maxSize)for(var c=this._lruArray.splice(0,this._maxSize-this._targetSize),d=0;d<c.length;d++)delete this._cache[c[d]]};
DvtCache.prototype.toString=function(){var a="Cache Size: "+this._lruArray.length,a=a+("\nHits: "+this._hits),a=a+("\nMisses: "+this._misses);return a+="\nHit %: "+Math.round(1E4*this._hits/(this._hits+this._misses))/100};var DvtContextMenuHandler=function(a,b){this._context=a;this._menus=b};DvtObj.createSubclass(DvtContextMenuHandler,DvtObj,"DvtContextMenuHandler");DvtContextMenuHandler.TYPE_BODY_CONTEXT_MENU="bodyContextMenu";DvtContextMenuHandler.TYPE_CONTEXT_MENU="contextMenu";
DvtContextMenuHandler.TYPE_MULTI_SELECT_CONTEXT_MENU="multiSelectContextMenu";DvtContextMenuHandler._ATTR_MENU_CONTAINER_TYPE="t";DvtContextMenuHandler._ATTR_MENU_CONTAINER_POPUP_ID="id";DvtContextMenuHandler.prototype.show=function(a,b){for(var c=0;c<this._menus.length;c++){var d=this._menus[c];if(b==d[DvtContextMenuHandler._ATTR_MENU_CONTAINER_TYPE])return c=d[DvtContextMenuHandler._ATTR_MENU_CONTAINER_POPUP_ID],new DvtContextMenuEvent(a.getNativeEvent(),c)}return null};
var DvtPopupBehaviorHandler=function(a,b,c){this._context=a;this._callback=b;this._callbackObj=c;this._behavior=this._mouseTarget=this._popupPosition=null;this._hoverPopupShown=!1;this._hoverTimer=new DvtTimer(a,500,this._onHoverDelay,this,1);this._overTimer=new DvtTimer(a,500,this._onOverDelay,this,1)};DvtObj.createSubclass(DvtPopupBehaviorHandler,DvtObj,"DvtPopupBehaviorHandler");
DvtPopupBehaviorHandler.prototype.processPopupHelper=function(a,b,c,d,e){var g=!1;if(a&&b&&0<b.length)for(var h=0;h<b.length;h++){var k=b[h];k&&-1!=c.indexOf(k.getTriggerType())&&(this.HidePopup(e),this._behavior=k,g=this._createShowPopupEvent(a,k,d),DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,g),g=!0)}return g};
DvtPopupBehaviorHandler.prototype.processMousePopup=function(a,b,c,d,e,g){if(a===this._mouseTarget)return!0;if(a&&b&&0<b.length)for(var h=0;h<b.length;h++){var k=b[h],m=k?k.getTriggerType():null;m==DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_HOVER&&(m=DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER);if(g==m)return this.HidePopup(e),this._mouseTarget=a,this._behavior=k,this._hoverDisplayable=d,this._popupPosition=c,g==DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_HOVER||g==DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER?
k.getTriggerType()==DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_HOVER?this._hoverTimer.start():this._overTimer.start():this._onOverDelay(),!0}return!1};DvtPopupBehaviorHandler.prototype.processMouseOut=function(a,b,c){var d=!1;b&&(d=1>b.length);!this._mouseTarget||!this._behavior||a!==this._mouseTarget&&!d||b&&this._hoverDisplayable&&-1<DvtArrayUtils.getIndex(b,this._hoverDisplayable)||this.HidePopup(c)};
DvtPopupBehaviorHandler.prototype.HidePopup=function(a){this._hoverPopupShown?(a=new DvtHidePopupEvent(this._behavior.getPopupId(),a.getNativeEvent().relatedTarget),DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,a)):this._hoverTimer.stop();this._behavior=this._mouseTarget=null;this._hoverPopupShown=!1;this._hoverDisplayable=null};DvtPopupBehaviorHandler.prototype.processMouseMove=function(a){this._popupPosition=a};
DvtPopupBehaviorHandler.prototype._createShowPopupEvent=function(a,b,c){var d=b,e=b;(b=d.getAlign()&&!d.getAlignId())&&(e=new DvtShowPopupBehavior(d.getPopupId(),d.getTriggerType(),null,null));e=a.getPopupBounds?a.getPopupBounds(e):null;b&&!e?(c=this._context.pageToStageCoords(c.x,c.y),e=new DvtRectangle(c.x,c.y-5,1,5)):e&&(d=new DvtShowPopupBehavior(d.getPopupId(),d.getTriggerType(),null,d.getAlign()));d=new DvtShowPopupEvent(d,e,null,d.getTriggerType());DvtEventManager._addContextInfo(a,d);return d};
DvtPopupBehaviorHandler.prototype._onHoverDelay=function(){if(this._mouseTarget&&this._behavior){this._hoverPopupShown=!0;var a=this._createShowPopupEvent(this._mouseTarget,this._behavior,this._popupPosition);DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,a)}};
DvtPopupBehaviorHandler.prototype._onOverDelay=function(){if(this._mouseTarget&&this._behavior){var a=this._createShowPopupEvent(this._mouseTarget,this._behavior,this._popupPosition);DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,a)}};DvtPopupBehaviorHandler.prototype.hasPopup=function(a,b){if(!a||!a.getShowPopupBehaviors)return!1;var c=a.getShowPopupBehaviors();if(c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&-1!=b.indexOf(e.getTriggerType()))return!0}return!1};
var DvtClientBehaviorHandler=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtClientBehaviorHandler,DvtObj,"DvtClientBehaviorHandler");DvtClientBehaviorHandler.prototype.Init=function(a,b,c){this._context=a;this._callback=b;this._callbackObj=c};
DvtClientBehaviorHandler.prototype.processClick=function(a,b){var c=!1;if(a&&b&&0<b.length)for(var d=0;d<b.length;d++){var e=b[d];!e||e.getTriggerType()!=DvtClientBehavior.TRIGGER_TYPE_ACTION&&e.getTriggerType()!=DvtClientBehavior.TRIGGER_TYPE_CLICK||(c=this.CreateClientBehaviorEvent(a,e),DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,null,c),c=!0)}return c};
DvtClientBehaviorHandler.prototype.CreateClientBehaviorEvent=function(a,b){var c=new DvtClientBehaviorEvent(b);DvtEventManager._addContextInfo(a,c);return c};var DvtSelectionHandler=function(a){this.Init(a)};DvtObj.createSubclass(DvtSelectionHandler,DvtObj,"DvtSelectionHandler");DvtSelectionHandler.TYPE_SINGLE="s";DvtSelectionHandler.TYPE_MULTIPLE="m";DvtSelectionHandler.prototype.Init=function(a){this._selection=[];this._type=a?a:DvtSelectionHandler.TYPE_SINGLE;this._hiddenSelectedIds=[]};
DvtSelectionHandler.prototype.getType=function(){return this._type};DvtSelectionHandler.prototype.getSelectedCount=function(){return this._selection.length};DvtSelectionHandler.prototype.getSelection=function(){return this._selection.slice(0)};DvtSelectionHandler.prototype.getSelectedIds=function(){for(var a=[],b=0;b<this._selection.length;b++)a.push(this._selection[b].getId());return a.concat(this._hiddenSelectedIds)};
DvtSelectionHandler.prototype.processInitialSelections=function(a,b){this.clearSelection(!0);if(a&&b)for(var c=0;c<a.length;c++){for(var d=!0,e=0;e<b.length;e++){var g=b[e].getId();if(null!=g&&DvtSelectionHandler._isEquals(a[c],g)&&b[e].isSelectable&&b[e].isSelectable()){this._addToSelection(b[e],!0,!0);d=!1;break}}d&&this._hiddenSelectedIds.push(a[c])}};
DvtSelectionHandler.prototype.processClick=function(a,b){if(a&&a.isUnrelatedToSelection&&a.isUnrelatedToSelection())return!1;var c=!1;b&&this._type==DvtSelectionHandler.TYPE_MULTIPLE?a&&a.isSelectable&&a.isSelectable()&&(c=a.isSelected()?this.removeFromSelection(a):this._addToSelection(a,!0)):c=a&&a.isSelectable&&a.isSelectable()?this._addToSelection(a,!1):this.clearSelection();return c};
DvtSelectionHandler.prototype.processGroupSelection=function(a,b){b||this.clearSelection();for(var c,d=0;d<a.length;d++)(c=a[d])&&c.isUnrelatedToSelection&&c.isUnrelatedToSelection()||this._addToSelection(c,!0)};DvtSelectionHandler.prototype.processMouseOver=function(a){a&&a.isSelectable&&a.isSelectable()&&a.showHoverEffect&&a.showHoverEffect()};DvtSelectionHandler.prototype.processMouseOut=function(a){a&&a.isSelectable&&a.isSelectable()&&a.hideHoverEffect&&a.hideHoverEffect()};
DvtSelectionHandler.prototype._addToSelection=function(a,b,c){if(a.isSelected()||a.isSelectable&&!a.isSelectable())return!1;b||this.clearSelection(c);a.setSelected(!0,c);this._selection.push(a);return!0};DvtSelectionHandler.prototype.removeFromSelection=function(a){if(!a.isSelected())return!1;a.setSelected(!1);for(var b=0;b<this._selection.length;b++)if(this._selection[b]==a){this._selection.splice(b,1);break}return!0};
DvtSelectionHandler.prototype.clearSelection=function(a){if(0>=this._selection.length&&0>=this._hiddenSelectedIds.length)return!1;for(;0<this._selection.length;)this._selection.pop().setSelected(!1,a);this._hiddenSelectedIds.length=0;return!0};DvtSelectionHandler._isEquals=function(a,b){return a==b?!0:a instanceof String?!1:a&&a.equals?a.equals(b):!1};var DvtKeyboardHandler=function(a){this.Init(a)};DvtObj.createSubclass(DvtKeyboardHandler,DvtObj,"DvtKeyboardHandler");
DvtKeyboardHandler._OPTIMAL_ANGLE1=15/180*Math.PI;DvtKeyboardHandler._OPTIMAL_ANGLE2=40/180*Math.PI;DvtKeyboardHandler._SUBOPTIMAL_ANGLE_PENALTY1=2;DvtKeyboardHandler._SUBOPTIMAL_ANGLE_PENALTY2=6;DvtKeyboardHandler.prototype.Init=function(a){this._eventManager=a};
DvtKeyboardHandler.prototype.processKeyDown=function(a){var b=this._eventManager.getFocus();if(b&&(this.isNavigationEvent(a)||this.isMultiSelectEvent(a))){DvtEventManager.consumeEvent(a);var c=b.getNextNavigable(a);c!=b&&(c&&this._showPopupHelper(c,[DvtShowPopupBehavior.TRIGGER_TYPE_FOCUS],a),this._showPopupHelper(b,[DvtShowPopupBehavior.TRIGGER_TYPE_BLUR],a));return c}a.keyCode!=DvtKeyboardEvent.TAB&&b&&this._showPopupHelper(b,[DvtShowPopupBehavior.TRIGGER_TYPE_KEY_DOWN],a);return null};
DvtKeyboardHandler.prototype.processKeyUp=function(a,b){var c=this._eventManager.getFocus();c&&a.keyCode==DvtKeyboardEvent.TAB?this._showPopupHelper(c,[DvtShowPopupBehavior.TRIGGER_TYPE_FOCUS],a):!c||this.isNavigationEvent(a)||this.isMultiSelectEvent(a)||this._showPopupHelper(c,b,a)};
DvtKeyboardHandler.getNextNavigable=function(a,b,c,d){var e=null,g=0,h=0;b=b.keyCode;if(!a)return!c||1>c.length?null:c[0];for(var k=a.getKeyboardBoundingBox(),m=0;m<c.length;m++){var n=c[m];a!==n&&(h=n.getKeyboardBoundingBox(),d||DvtKeyboardHandler._isInBounds(k,h,b))&&(h=DvtKeyboardHandler._computeDelta(k,h,b),(b==DvtKeyboardEvent.UP_ARROW||b==DvtKeyboardEvent.LEFT_ARROW)&&0>h&&(!e||h>g)||(b==DvtKeyboardEvent.DOWN_ARROW||b==DvtKeyboardEvent.RIGHT_ARROW)&&0<h&&(!e||h<g))&&(e=n,g=h)}return e?e:a};
DvtKeyboardHandler.prototype._showPopupHelper=function(a,b,c){var d=this._eventManager.getCtx(),e=a.getKeyboardBoundingBox(d.getStage()).getCenter(),d=d.stageToPageCoords(e.x,e.y),e=a.getShowPopupBehaviors?a.getShowPopupBehaviors():null;return this._eventManager.getPopupHandler().processPopupHelper(a,e,b,d,c)};
DvtKeyboardHandler.prototype.getDefaultNavigable=function(a){if(!a||0>=a.length)return null;for(var b=a[0],c=b.getKeyboardBoundingBox(),d,e,g=1;g<a.length;g++)if(d=a[g],e=d.getKeyboardBoundingBox(),(e.x==c.x&&e.y<c.y||e.x<c.x)&&!DvtAgent.isRightToLeft(this._eventManager.getCtx())||(e.x+e.w==c.x+c.w&&e.y<c.y||e.x+e.w>c.x+c.w)&&DvtAgent.isRightToLeft(this._eventManager.getCtx()))b=d,c=b.getKeyboardBoundingBox();return b};DvtKeyboardHandler.prototype.isNavigationEvent=function(a){switch(a.keyCode){case DvtKeyboardEvent.UP_ARROW:case DvtKeyboardEvent.DOWN_ARROW:case DvtKeyboardEvent.LEFT_ARROW:case DvtKeyboardEvent.RIGHT_ARROW:return!0}return!1};
DvtKeyboardHandler.prototype.isSelectionEvent=function(a){return!1};DvtKeyboardHandler.prototype.isMultiSelectEvent=function(a){return!1};DvtKeyboardHandler.prototype.isContextMenuEvent=function(a){return a.keyCode==DvtKeyboardEvent.M&&a.altKey&&a.ctrlKey};
DvtKeyboardHandler._isInBounds=function(a,b,c){if(c==DvtKeyboardEvent.UP_ARROW||c==DvtKeyboardEvent.DOWN_ARROW){c=a.x;a=c+a.w;var d=b.x;return!(c>=d+b.w||a<=d)}if(c==DvtKeyboardEvent.LEFT_ARROW||c==DvtKeyboardEvent.RIGHT_ARROW)return c=a.y,a=c+a.h,d=b.y,!(c>=d+b.h||a<=d)};
DvtKeyboardHandler._computeDelta=function(a,b,c){var d=0,e=a.getCenter().x;a=a.getCenter().y;var g=b.getCenter().x;b=b.getCenter().y;if(c==DvtKeyboardEvent.UP_ARROW||c==DvtKeyboardEvent.DOWN_ARROW)d=b-a;else if(c==DvtKeyboardEvent.LEFT_ARROW||c==DvtKeyboardEvent.RIGHT_ARROW)d=g-e;return d};
DvtKeyboardHandler.getNextAdjacentNavigable=function(a,b,c){b=b.keyCode;if(!c)return null;if(!a)return c[0];for(var d=a,e=Number.MAX_VALUE,g=!1,h=0;h<c.length;h++){var k=c[h];if(k!==a&&DvtKeyboardHandler._isValidDestination(k,a,b)){var m=DvtKeyboardHandler._calcInContact(k,a,b);if(!g||m){var n=DvtKeyboardHandler._calcDistanceAngleWeighted(k,a,b);if(!g&&m||n<e&&(g&&m||!g))e=n,d=k,g=m}}}return d};
DvtKeyboardHandler._calcInContact=function(a,b,c){a=a.getKeyboardBoundingBox();b=b.getKeyboardBoundingBox();switch(c){case DvtKeyboardEvent.UP_ARROW:return DvtKeyboardHandler._isVerticallyAligned(a,b)&&(b.y<=a.y+a.h||DvtKeyboardHandler._areEqualWithinTolerance(b.y,a.y+a.h));case DvtKeyboardEvent.DOWN_ARROW:return DvtKeyboardHandler._isVerticallyAligned(a,b)&&(a.y<=b.y+b.h||DvtKeyboardHandler._areEqualWithinTolerance(a.y,b.y+b.h));case DvtKeyboardEvent.RIGHT_ARROW:return DvtKeyboardHandler._isHorizontallyAligned(a,
b)&&(a.x<=b.x+b.w||DvtKeyboardHandler._areEqualWithinTolerance(a.x,b.x+b.w));case DvtKeyboardEvent.LEFT_ARROW:return DvtKeyboardHandler._isHorizontallyAligned(a,b)&&(b.x<=a.x+a.w||DvtKeyboardHandler._areEqualWithinTolerance(b.x,a.x+a.w))}return!1};DvtKeyboardHandler._isVerticallyAligned=function(a,b){return a.x>=b.x&&a.x<=b.x+b.w||b.x>=a.x&&b.x<=a.x+a.w};DvtKeyboardHandler._isHorizontallyAligned=function(a,b){return a.y>=b.y&&a.y<=b.y+b.h||b.y>=a.y&&b.y<=a.y+a.h};
DvtKeyboardHandler._calcDistanceAngleWeighted=function(a,b,c){var d=a.getKeyboardBoundingBox();a=d.x+d.w/2;var d=d.y+d.h/2,e=b.getKeyboardBoundingBox();b=e.y+e.h/2;a=Math.abs(a-(e.x+e.w/2));b=Math.abs(d-b);d=Math.atan2(b,a);a=Math.sqrt(a*a+b*b);if(d>DvtKeyboardHandler._OPTIMAL_ANGLE1&&(c==DvtKeyboardEvent.RIGHT_ARROW||c==DvtKeyboardEvent.LEFT_ARROW)||d<DvtMath.HALF_PI-DvtKeyboardHandler._OPTIMAL_ANGLE1&&(c==DvtKeyboardEvent.UP_ARROW||c==DvtKeyboardEvent.DOWN_ARROW))a=d>DvtKeyboardHandler._OPTIMAL_ANGLE2&&
(c==DvtKeyboardEvent.RIGHT_ARROW||c==DvtKeyboardEvent.LEFT_ARROW)||d<DvtMath.HALF_PI-DvtKeyboardHandler._OPTIMAL_ANGLE2&&(c==DvtKeyboardEvent.UP_ARROW||c==DvtKeyboardEvent.DOWN_ARROW)?a*DvtKeyboardHandler._SUBOPTIMAL_ANGLE_PENALTY2:a*DvtKeyboardHandler._SUBOPTIMAL_ANGLE_PENALTY1;return a};
DvtKeyboardHandler._isValidDestination=function(a,b,c){a=a.getKeyboardBoundingBox();b=b.getKeyboardBoundingBox();switch(c){case DvtKeyboardEvent.UP_ARROW:return a.y<b.y||DvtKeyboardHandler._areEqualWithinTolerance(a.y,b.y);case DvtKeyboardEvent.DOWN_ARROW:return a.y>b.y||DvtKeyboardHandler._areEqualWithinTolerance(a.y,b.y);case DvtKeyboardEvent.RIGHT_ARROW:return a.x>b.x||DvtKeyboardHandler._areEqualWithinTolerance(a.x,b.x);case DvtKeyboardEvent.LEFT_ARROW:return a.x<b.x||DvtKeyboardHandler._areEqualWithinTolerance(a.x,
b.x)}return!0};DvtKeyboardHandler._areEqualWithinTolerance=function(a,b){return 1E-7>=Math.abs(a-b)};var DvtMarqueeHandler=function(a,b,c,d,e,g,h,k,m){this.Init(a,b,c,d,e,g,h,k,m)};DvtObj.createSubclass(DvtMarqueeHandler,DvtObj,"DvtMarqueeHandler");
DvtMarqueeHandler.prototype.Init=function(a,b,c,d,e,g,h,k,m){this._context=a.getCtx();this._container=a;this._bounds=b;this._fill=d;this._stroke=e;this._allowHoriz=null==g?!0:g;this._allowVert=null==h?!0:h;this._horizBounds=k;this._vertBounds=m;this._glassPane=new DvtRect(this._context,c.x,c.y,c.w,c.h);this._glassPane.setInvisibleFill();this._resizeVert=this._resizeHoriz=this._marqueeDrawn=this._marqueeOn=!1};
DvtMarqueeHandler.prototype.processDragStart=function(a,b){if(!this._marqueeOn){this._origPt=this._container.stageToLocal(a);this._resizeHoriz=this._allowHoriz;this._resizeVert=this._allowVert;if(!this._bounds.containsPoint(this._origPt.x,this._origPt.y))if(this._vertBounds&&this._vertBounds.containsPoint(this._origPt.x,this._origPt.y))this._resizeHoriz=!1;else if(this._horizBounds&&this._horizBounds.containsPoint(this._origPt.x,this._origPt.y))this._resizeVert=!1;else return null;this._marqueeOn=
!0;this._marquee=null;return this._createMarqueeEvent(DvtMarqueeEvent.SUBTYPE_START,b)}return null};
DvtMarqueeHandler.prototype.processDragMove=function(a,b){if(!this._marqueeOn)return null;this._marqueeDrawn||(this._container.addChild(this._glassPane),this._marquee=new DvtRect(this._context,this._bounds.x,this._bounds.y,this._bounds.w,this._bounds.h),this._resizeHoriz&&(this._marquee.setX(this._origPt.x),this._marquee.setWidth(0)),this._resizeVert&&(this._marquee.setY(this._origPt.y),this._marquee.setHeight(0)),this._marquee.setStroke(this._stroke),this._marquee.setFill(this._fill),this._marquee.setPixelHinting(!0),
this._glassPane.addChild(this._marquee),this._marqueeDrawn=!0);var c=this._container.stageToLocal(a);c.x=Math.max(c.x,this._bounds.x);c.x=Math.min(c.x,this._bounds.x+this._bounds.w);c.y=Math.max(c.y,this._bounds.y);c.y=Math.min(c.y,this._bounds.y+this._bounds.h);this._resizeHoriz&&(this._marquee.setWidth(Math.abs(c.x-this._origPt.x)),c.x<this._origPt.x?this._marquee.setX(c.x):this._marquee.setX(this._origPt.x));this._resizeVert&&(this._marquee.setHeight(Math.abs(c.y-this._origPt.y)),c.y<this._origPt.y?
this._marquee.setY(c.y):this._marquee.setY(this._origPt.y));return this._createMarqueeEvent(DvtMarqueeEvent.SUBTYPE_MOVE,b)};DvtMarqueeHandler.prototype.processDragEnd=function(a,b){return this._marqueeOn&&(this._marqueeOn=!1,this._marqueeDrawn)?(this._glassPane.removeChild(this._marquee),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,this._createMarqueeEvent(DvtMarqueeEvent.SUBTYPE_END,b)):null};
DvtMarqueeHandler.prototype.cancelMarquee=function(){return this._marqueeOn&&(this._marqueeOn=!1,this._marqueeDrawn)?(this._glassPane.removeChild(this._marquee),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,!0):!1};
DvtMarqueeHandler.prototype._createMarqueeEvent=function(a,b){var c=null,d=null,e=null,g=null;this._resizeHoriz&&(c=this._marquee?this._marquee.getX():this._origPt.x,e=this._marquee?this._marquee.getWidth():0);this._resizeVert&&(d=this._marquee?this._marquee.getY():this._origPt.y,g=this._marquee?this._marquee.getHeight():0);return new DvtMarqueeEvent(a,c,d,e,g,b)};
DvtMarqueeHandler.prototype.getCursor=function(a){var b=this._container.stageToLocal(a);a=this._bounds.containsPoint(b.x,b.y);var c=this._vertBounds&&this._vertBounds.containsPoint(b.x,b.y),b=this._horizBounds&&this._horizBounds.containsPoint(b.x,b.y);return a||c||b?"crosshair":"inherit"};var DvtPanZoomHandler=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtPanZoomHandler,DvtObj,"DvtPanZoomHandler");
DvtPanZoomHandler.prototype.Init=function(a,b,c,d){this._context=a.getCtx();this._container=a;this._bounds=b;this._zoomRate=d;this._glassPane=new DvtRect(this._context,c.x,c.y,c.w,c.h);this._glassPane.setInvisibleFill();this._pinchOn=this._glassPaneDrawn=this._panOn=!1};
DvtPanZoomHandler.prototype.processDragStart=function(a){if(!this._panOn){this._lastPt=this._origPt=this._container.stageToLocal(a);if(!this._bounds.containsPoint(this._origPt.x,this._origPt.y))return null;this._panOn=!0;return new DvtPanZoomEvent(DvtPanZoomEvent.SUBTYPE_PAN_START,0,0,0,0,0,0,0,0)}return null};
DvtPanZoomHandler.prototype.processDragMove=function(a){if(!this._panOn)return null;this._glassPaneDrawn||(this._container.addChild(this._glassPane),this._glassPaneDrawn=!0);a=this._container.stageToLocal(a);var b=a.x-this._lastPt.x,c=a.y-this._lastPt.y,d=a.x-this._origPt.x,e=a.y-this._origPt.y;this._lastPt=a;return new DvtPanZoomEvent(DvtPanZoomEvent.SUBTYPE_PAN_MOVE,-b,-b,-c,-c,-d,-d,-e,-e)};
DvtPanZoomHandler.prototype.processDragEnd=function(a){if(this._panOn&&(this._panOn=!1,this._glassPaneDrawn)){this._container.removeChild(this._glassPane);this._glassPaneDrawn=!1;var b=a?this._container.stageToLocal(a):this._lastPt;a=b.x-this._lastPt.x;var c=b.y-this._lastPt.y,d=b.x-this._origPt.x,b=b.y-this._origPt.y;this._lastPt=null;return new DvtPanZoomEvent(DvtPanZoomEvent.SUBTYPE_PAN_END,-a,-a,-c,-c,-d,-d,-b,-b)}return null};
DvtPanZoomHandler.prototype.processMouseWheel=function(a,b){var c=this._container.stageToLocal(a);if(!this._bounds.containsPoint(c.x,c.y))return null;b*=this._zoomRate;var d=b*(c.x-this._bounds.x),e=-b*(this._bounds.x+this._bounds.w-c.x),g=b*(c.y-this._bounds.y),c=-b*(this._bounds.y+this._bounds.h-c.y);return new DvtPanZoomEvent(DvtPanZoomEvent.SUBTYPE_ZOOM,d,e,g,c,d,e,g,c)};
DvtPanZoomHandler.prototype.processPinchStart=function(a,b){if(!this._pinchOn){this._origPt1=this._container.stageToLocal(a);this._origPt2=this._container.stageToLocal(b);this._lastPt1=this._origPt1;this._lastPt2=this._origPt2;if(!this._bounds.containsPoint(this._origPt1.x,this._origPt1.y)||!this._bounds.containsPoint(this._origPt2.x,this._origPt2.y))return null;this._pinchOn=!0;return new DvtPanZoomEvent(DvtPanZoomEvent.SUBTYPE_PINCH_START,0,0,0,0,0,0,0,0)}return null};
DvtPanZoomHandler.prototype.processPinchMove=function(a,b){if(!this._pinchOn)return null;var c=this._container.stageToLocal(a),d=this._container.stageToLocal(b),e=this._computePinchDeltas(c,d,this._lastPt1,this._lastPt2),g=this._computePinchDeltas(c,d,this._origPt1,this._origPt2);this._lastPt1=c;this._lastPt2=d;return new DvtPanZoomEvent(DvtPanZoomEvent.SUBTYPE_PINCH_MOVE,e.dxMin,e.dxMax,e.dyMin,e.dyMax,g.dxMin,g.dxMax,g.dyMin,g.dyMax)};
DvtPanZoomHandler.prototype.processPinchEnd=function(){if(this._pinchOn){this._pinchOn=!1;var a=this._computePinchDeltas(this._lastPt1,this._lastPt2,this._origPt1,this._origPt2);this._lastPt2=this._lastPt1=null;return new DvtPanZoomEvent(DvtPanZoomEvent.SUBTYPE_PINCH_END,0,0,0,0,a.dxMin,a.dxMax,a.dyMin,a.dyMax)}return null};
DvtPanZoomHandler.prototype._computePinchDeltas=function(a,b,c,d){var e=Math.abs(a.x-b.x),g=Math.abs(a.y-b.y),h=Math.abs(c.x-d.x),k=Math.abs(c.y-d.y),h=e>g/2?h/e:1,e=g>e/2?k/g:1,g=(a.x+b.x)/2;b=(a.y+b.y)/2;a=g-(c.x+d.x)/2;c=b-(c.y+d.y)/2;d=(1-h)*(g-this._bounds.x);h=(h-1)*(this._bounds.x+this._bounds.w-g);g=(1-e)*(b-this._bounds.y);e=(e-1)*(this._bounds.y+this._bounds.h-b);return{dxMin:d-a,dxMax:h-a,dyMin:g-c,dyMax:e-c}};
DvtPanZoomHandler.prototype.zoomBy=function(a){var b=(1/a-1)/2;a=-b*this._bounds.w;var c=b*this._bounds.w,d=-b*this._bounds.h,b=b*this._bounds.h;return new DvtPanZoomEvent(DvtPanZoomEvent.SUBTYPE_ZOOM,a,c,d,b,a,c,d,b)};DvtPanZoomHandler.prototype.panBy=function(a,b){var c=a*this._bounds.w*(DvtAgent.isRightToLeft(this._context)?-1:1),d=b*this._bounds.h;return new DvtPanZoomEvent(DvtPanZoomEvent.SUBTYPE_PAN_END,c,c,d,d,c,c,d,d)};
DvtPanZoomHandler.prototype.setPanCursor=function(a,b){DvtAgent.isPlatformIE()||(a&&(this._panUpCursor="url("+a+") 8 8, auto"),b&&(this._panDownCursor="url("+b+") 8 8, auto"))};DvtPanZoomHandler.prototype.getCursor=function(a){return null==a||this.isWithinBounds(a)?this._panOn?this._panDownCursor?this._panDownCursor:"move":this._panUpCursor?this._panUpCursor:"move":"inherit"};
DvtPanZoomHandler.prototype.isWithinBounds=function(a){a=this._container.stageToLocal(a);return this._bounds.containsPoint(a.x,a.y)};var DvtTooltipManager=function(){};DvtObj.createSubclass(DvtTooltipManager,DvtObj,"DvtTooltipManager");DvtTooltipManager.prototype.showDatatip=function(a,b,c,d){};DvtTooltipManager.prototype.showTooltip=function(a,b,c,d,e,g){};DvtTooltipManager.prototype.hideTooltip=function(){};
var DvtCategoryRolloverHandler=function(a,b){this._callback=a;this._source=this._callbackObj=b;this._bHighlightMode=!1;this._highlightModeTimeout=this._hoverDelayCallback=null;this._hoverDelay=DvtCategoryRolloverHandler._HOVER_DELAY};DvtObj.createSubclass(DvtCategoryRolloverHandler,DvtObj,"DvtCategoryRolloverHandler");DvtCategoryRolloverHandler._HOVER_DELAY=50;DvtCategoryRolloverHandler._HOVER_TIMEOUT=1E3;DvtCategoryRolloverHandler._FADE_OUT_OPACITY=.35;
DvtCategoryRolloverHandler.prototype.processEvent=function(a,b,c,d,e){if(a&&b&&0!=b.length){this._hoverDelayCallback&&(clearTimeout(this._hoverDelayCallback),this._hoverDelayCallback=null);var g=a.getType();g==DvtCategoryRolloverEvent.TYPE_OVER?(c=this._bHighlightMode?this._hoverDelay:c,this._hoverDelayCallback=setTimeout(this.GetRolloverCallback(a,b,d,e),c),this._highlightModeTimeout&&(clearInterval(this._highlightModeTimeout),this._highlightModeTimeout=null)):g==DvtCategoryRolloverEvent.TYPE_OUT&&
this._bHighlightMode&&(this._hoverDelayCallback=setTimeout(this.GetRolloutCallback(a,b,d,e),this._hoverDelay))}};DvtCategoryRolloverHandler.prototype.GetRolloverCallback=function(a,b,c,d){return DvtObj.createCallback(this,function(){this._bHighlightMode=!0;DvtCategoryRolloverHandler.highlight(a.categories,b,c,d);this._callback&&this._callback.call(this._callbackObj,a,this._source)})};
DvtCategoryRolloverHandler.prototype.GetRolloutCallback=function(a,b,c,d){return DvtObj.createCallback(this,function(){DvtCategoryRolloverHandler.highlight(a.categories,b,c,d);this.SetHighlightModeTimeout();this._callback&&this._callback.call(this._callbackObj,a,this._source)})};
DvtCategoryRolloverHandler.highlight=function(a,b,c,d){if(b){d=d?d:DvtCategoryRolloverHandler._FADE_OUT_OPACITY;for(var e=0;e<b.length;e++){var g=b[e];if(g&&g.getCategories){var h=c?DvtCategoryRolloverHandler._hasAnyCategory(g,a):DvtCategoryRolloverHandler._hasAllCategories(g,a);DvtCategoryRolloverHandler._highlightObj(g,a&&0<a.length&&!h,d)}}}};
DvtCategoryRolloverHandler._highlightObj=function(a,b,c){c=b?c:1;a.highlight?a.highlight(b,c):(a=a.getDisplayables(),DvtCategoryRolloverHandler._updateAlpha(a,c))};DvtCategoryRolloverHandler._updateAlpha=function(a,b){if(a)for(var c=0;c<a.length;c++)a[c].setAlpha(b)};DvtCategoryRolloverHandler._hasAnyCategory=function(a,b){return a&&a.getCategories?DvtArrayUtils.hasAnyItem(a.getCategories(),b):!1};
DvtCategoryRolloverHandler._hasAllCategories=function(a,b){return a&&a.getCategories?DvtArrayUtils.hasAllItems(a.getCategories(),b):!1};DvtCategoryRolloverHandler.prototype.SetHighlightMode=function(a){this._bHighlightMode=a};DvtCategoryRolloverHandler.prototype.SetHighlightModeTimeout=function(){var a=DvtObj.createCallback(this,function(){this.SetHighlightMode(!1)});this._highlightModeTimeout=setTimeout(a,DvtCategoryRolloverHandler._HOVER_TIMEOUT)};
DvtCategoryRolloverHandler.prototype.setHoverDelay=function(a){this._hoverDelay=a};var DvtHideShowCategoryHandler=function(){};DvtObj.createSubclass(DvtHideShowCategoryHandler,DvtObj,"DvtHideShowCategoryHandler");
DvtHideShowCategoryHandler.processEvent=function(a,b){if(a&&b)for(var c=a.getCategory(),d=a.getType()===DvtCategoryHideShowEvent.TYPE_HIDE,e=0;e<b.length;e++){var g=b[e];if(g&&g.getCategories&&0<=DvtArrayUtils.getIndex(g.getCategories(),c)){var h=g.getDisplayables(h);DvtHideShowCategoryHandler._updateVisible(h,!d)}}};DvtHideShowCategoryHandler._updateVisible=function(a,b){if(a)for(var c=0;c<a.length;c++)a[c].setVisible(b)};var DvtEventManager=function(a,b,c){this.Init(a,b,c)};
DvtObj.createSubclass(DvtEventManager,DvtObj,"DvtEventManager");DvtEventManager.CLEAR_SELECTION_ACTION_TYPE="clearSelectionActionType";DvtEventManager.TOUCH_RESPONSE_TOUCH_START="touchStart";DvtEventManager.TOUCH_RESPONSE_TOUCH_HOLD="touchHold";DvtEventManager.TOUCH_RESPONSE_AUTO="auto";DvtEventManager._TOUCH_RESPONSE_PADDING_CHECK=10;DvtEventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY="tooltipDisplayed";DvtEventManager._EVENT_INFO_CURRENT_TARGET_KEY="currentTarget";
DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY="popupDisplayed";
DvtEventManager.prototype.Init=function(a,b,c){this._context=a;this._callback=b;this._callbackObj=c;this._touchMap={};this._marqueeHandler=this._selectionHandler=null;this.PopupHandler=new DvtPopupBehaviorHandler(a,b,c);this.ClientBehaviorHandler=this.CreateClientBehaviorHandler(a,b,c);this.KeyboardHandler=null;this.RolloverHandler=this.CreateCategoryRolloverHandler(b,c);this.setTooltipsEnabled(!0);a.getStage().getId();this.CustomTooltipManager=this._context.getCustomTooltipManager();this.CustomTooltipManager.addTooltipEventListener(DvtActionTooltipEvent.TOOLTIP_CLOSED_TYPE,
this.OnActionTooltipClosed,this);this.CustomTooltipManager.addTooltipEventListener(DvtActionTooltipEvent.TOOLTIP_STARTED_TYPE,this.OnActionTooltipStarted,this);this.TouchManager=null;DvtAgent.isTouchDevice()&&(this.TouchManager=new DvtTouchManager("touchmanager",this._context));this._focusedObj=null;this._shouldDisplayKeyboardFocus=!1;this._rolloverTypes=[];this._keyboardHandlers=[this];this._currentKeyboardHandlerIdx=-1};DvtEventManager.prototype.getCtx=function(){return this._context};
DvtEventManager.prototype.associate=function(a,b,c){if(a){if(!a._logicalObjects||c)a._logicalObjects=[];a._logicalObjects.push({logicalObject:b,eventManager:this});!DvtAgent.isEnvironmentBrowser()&&a.getImpl().setLogicalObj&&a.getImpl().setLogicalObj(b)}};
DvtEventManager.prototype.addListeners=function(a){a&&(DvtAgent.isTouchDevice()?(this.hideTooltip(),a.addEvtListener(DvtTouchEvent.TOUCHSTART,this.OnTouchStartBubble,!1,this),a.addEvtListener(DvtTouchEvent.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),a.addEvtListener(DvtTouchEvent.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.addTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_START_TYPE,this._preOnComponentTouchHoverStart,this),this.TouchManager.addTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,
this._preOnComponentTouchHoverMove,this),this.TouchManager.addTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_END_TYPE,this._preOnComponentTouchHoverEnd,this),this.TouchManager.addTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,this._preOnComponentTouchHoverOut,this),this.TouchManager.addTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,this._preOnComponentTouchHoverOver,this),this.TouchManager.addTouchEventListener(DvtComponentTouchEvent.TOUCH_CLICK_TYPE,this._preOnComponentTouchClick,
this),this.TouchManager.addTouchEventListener(DvtComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,this._preOnComponentTouchDblClick,this)):(a.addEvtListener(DvtMouseEvent.CLICK,this.PreOnClick,!1,this),a.addEvtListener(DvtMouseEvent.DBLCLICK,this.PreOnDblClick,!1,this),a.addEvtListener("contextmenu",this.PreOnContextMenu,!1,this),a.addEvtListener(DvtMouseEvent.MOUSEMOVE,this.PreOnMouseMove,!1,this),a.addEvtListener(DvtMouseEvent.MOUSEOVER,this.PreOnMouseOver,!1,this),a.addEvtListener(DvtMouseEvent.MOUSEOUT,
this.PreOnMouseOut,!1,this),a.addEvtListener(DvtMouseEvent.MOUSEDOWN,this.PreOnMouseDown,!1,this),a.addEvtListener(DvtMouseEvent.MOUSEUP,this.PreOnMouseUp,!1,this),a.addEvtListener(DvtKeyboardEvent.KEYDOWN,this.OnKeyDown,!1,this),a.addEvtListener(DvtKeyboardEvent.KEYPRESS,this.OnKeyPress,!1,this),a.addEvtListener(DvtKeyboardEvent.KEYUP,this.OnKeyUp,!1,this),a.addEvtListener(DvtFocusEvent.FOCUS,this.OnFocus,!1,this),a.addEvtListener(DvtFocusEvent.BLUR,this.OnBlur,!1,this)))};
DvtEventManager.prototype.removeListeners=function(a){a&&(this.hideTooltip(),DvtAgent.isTouchDevice()?(a.removeEvtListener(DvtTouchEvent.TOUCHSTART,this.OnTouchStartBubble,!1,this),a.removeEvtListener(DvtTouchEvent.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),a.removeEvtListener(DvtTouchEvent.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.removeTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_START_TYPE,this._preOnComponentTouchHoverStart,this),this.TouchManager.removeTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,
this._preOnComponentTouchHoverMove,this),this.TouchManager.removeTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_END_TYPE,this._preOnComponentTouchHoverEnd,this),this.TouchManager.removeTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,this._preOnComponentTouchHoverOut,this),this.TouchManager.removeTouchEventListener(DvtComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,this._preOnComponentTouchHoverOver,this),this.TouchManager.removeTouchEventListener(DvtComponentTouchEvent.TOUCH_CLICK_TYPE,
this._preOnComponentTouchClick,this),this.TouchManager.removeTouchEventListener(DvtComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,this._preOnComponentTouchDblClick,this)):(a.removeEvtListener(DvtMouseEvent.CLICK,this.PreOnClick,!1,this),a.removeEvtListener(DvtMouseEvent.DBLCLICK,this.PreOnDblClick,!1,this),a.removeEvtListener("contextmenu",this.PreOnContextMenu,!1,this),a.removeEvtListener(DvtMouseEvent.MOUSEMOVE,this.PreOnMouseMove,!1,this),a.removeEvtListener(DvtMouseEvent.MOUSEOVER,this.PreOnMouseOver,
!1,this),a.removeEvtListener(DvtMouseEvent.MOUSEOUT,this.PreOnMouseOut,!1,this),a.removeEvtListener(DvtMouseEvent.MOUSEDOWN,this.PreOnMouseDown,!1,this),a.removeEvtListener(DvtMouseEvent.MOUSEUP,this.PreOnMouseUp,!1,this),a.removeEvtListener(DvtKeyboardEvent.KEYDOWN,this.OnKeyDown,!1,this),a.removeEvtListener(DvtKeyboardEvent.KEYUP,this.OnKeyUp,!1,this),a.removeEvtListener(DvtKeyboardEvent.KEYPRESS,this.OnKeyPress,!1,this),a.removeEvtListener(DvtFocusEvent.FOCUS,this.OnFocus,!1,this),a.removeEvtListener(DvtFocusEvent.BLUR,
this.OnBlur,!1,this)))};DvtEventManager.prototype.destroy=function(){this.CustomTooltipManager&&(this.CustomTooltipManager.removeTooltipEventListener(DvtActionTooltipEvent.TOOLTIP_CLOSED_TYPE,this.OnActionTooltipClosed,this),this.CustomTooltipManager.removeTooltipEventListener(DvtActionTooltipEvent.TOOLTIP_STARTED_TYPE,this.OnActionTooltipStarted,this))};DvtEventManager.prototype.PreEventBubble=function(a){this.TouchManager.preEventBubble(a)};
DvtEventManager.prototype.setSelectionHandler=function(a){this._selectionHandler=a};DvtEventManager.prototype.getSelectionHandler=function(a){return this._selectionHandler};DvtEventManager.prototype.getPopupHandler=function(){return this.PopupHandler};DvtEventManager.prototype.setMarqueeHandler=function(a){this._marqueeHandler=a};DvtEventManager.prototype.setDragSource=function(a){this.DragSource=a;DvtAgent.isTouchDevice()&&this.DragSource.setTouchManager(this.TouchManager)};
DvtEventManager.prototype.setContextMenuHandler=function(a){this.ContextMenuHandler=a};DvtEventManager.prototype.setKeyboardHandler=function(a){DvtAgent.isTouchDevice()||(this.KeyboardHandler=a)};DvtEventManager.prototype.getKeyboardHandler=function(){return this.KeyboardHandler};
DvtEventManager.prototype.setFocusObj=function(a){var b=this.getFocus();a!=b&&(this.setFocus(a),b&&b.hideKeyboardFocusEffect(),this.ShowKeyboardFocusByDefault()&&a.showKeyboardFocusEffect(),-1<this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length&&(a=this._keyboardHandlers[this._currentKeyboardHandlerIdx],a!=this&&a.hideKeyboardFocusEffect()));this.setCurrentKeyboardHandler(this)};
DvtEventManager.prototype.setFocus=function(a){this.KeyboardHandler&&(this._focusedObj=a)};DvtEventManager.prototype.getFocus=function(){return this.KeyboardHandler?this._focusedObj:null};
DvtEventManager.prototype.setFocused=function(a){var b=this.getFocus();b&&this.KeyboardHandler&&(a?this._shouldDisplayKeyboardFocus&&0<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length&&this._keyboardHandlers[this._currentKeyboardHandlerIdx]===this&&b.showKeyboardFocusEffect():b.hideKeyboardFocusEffect());a||(this._shouldDisplayKeyboardFocus=!1)};DvtEventManager.prototype.ShowKeyboardFocusByDefault=function(){return!1};
DvtEventManager.prototype.setTooltipsEnabled=function(a){this._tooltipsEnabled=a};DvtEventManager.prototype.getTooltipsEnabled=function(a){return this._tooltipsEnabled};DvtEventManager.prototype.GetLogicalObject=function(a,b){var c=this.GetLogicalObjectAndDisplayable(a,b);return c?c.logicalObject:null};
DvtEventManager.prototype.GetLogicalObjectAndDisplayable=function(a,b){for(var c=a;c;){if(c._logicalObjects)for(var d=0;d<c._logicalObjects.length;d++){var e=c._logicalObjects[d];if(e.eventManager==this)return d={},d.logicalObject=e.logicalObject,d.displayable=c,d}c=b?null:c.getParent()}return null};DvtEventManager.prototype._getShowPopupBehaviors=function(a){if(a&&a.getShowPopupBehaviors)return a.getShowPopupBehaviors()};DvtEventManager.prototype._getClientBehaviors=function(a){if(a&&a.getClientBehaviors)return a.getClientBehaviors()};
DvtEventManager.prototype.GetContextMenuType=function(a){a=(a=this.getSelectionHandler(a))?a.getSelection().length:0;return 0>=a?DvtContextMenuHandler.TYPE_BODY_CONTEXT_MENU:1==a?DvtContextMenuHandler.TYPE_CONTEXT_MENU:DvtContextMenuHandler.TYPE_MULTI_SELECT_CONTEXT_MENU};DvtEventManager.prototype.GetTooltipColor=function(a,b,c){if(a&&a.getDatatipColor)return a.getDatatipColor()};DvtEventManager.prototype.FireEvent=function(a,b){this._callback&&this._callback.call(this._callbackObj,a,b)};
DvtEventManager.prototype.FireUIEvent=function(a,b){};DvtEventManager.prototype.fireSelectionEvent=function(a){if(a=this.getSelectionHandler(a))a=a.getSelectedIds(),a=new DvtSelectionEvent(a),this._callback.call(this._callbackObj,a)};
DvtEventManager.prototype.PreOnClick=function(a){if(this.IsDoubleClickable(a)){if(this._clickTimer&&this._clickTimer.isRunning()){var b=this._savedClickEvent;if(a.pageX==b.pageX&&a.pageY==b.pageY)return;this._clickTimer.stop();this._onClickTimerEnd()}this._savedClickEvent=a;this._clickTimer||(this._clickTimer=new DvtTimer(this._context,250,this._onClickTimerEnd,this,1));this._clickTimer.reset();this._clickTimer.start()}else this._propagateEvent(DvtMouseEvent.CLICK,a,this.OnClick)};
DvtEventManager.prototype._onClickTimerEnd=function(){var a=this._savedClickEvent;this._savedClickEvent=null;a&&this._propagateEvent(DvtMouseEvent.CLICK,a,this.OnClick)};
DvtEventManager.prototype.OnClick=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));this.OnClickInternal(a);this.ProcessSelectionEventHelper(b,a.ctrlKey);this._shouldDisplayKeyboardFocus=!1;if(b){if(this.KeyboardHandler&&b.getNextNavigable){var c=b.getNextNavigable(a);this.setFocusObj(c)}c=!1;this._hasEventInfo(a)&&(c=this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY));c||(c=new DvtPoint(a.pageX,a.pageY),(c=this.PopupHandler.processPopupHelper(b,this._getShowPopupBehaviors(b),
[DvtShowPopupBehavior.TRIGGER_TYPE_ACTION,DvtShowPopupBehavior.TRIGGER_TYPE_CLICK],c,a))&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0));c||(a=this._getClientBehaviors(b))&&(c=this.ClientBehaviorHandler.processClick(b,a));!c&&b.isCommandComponent&&b.isCommandComponent()&&(a=new DvtActionEvent(DvtActionEvent.SUBTYPE_ACTION,b.getId()),DvtEventManager._addContextInfo(b,a),this._callback.call(this._callbackObj,a));this.FireUIEvent(DvtComponentUIEvent.TYPE_CLICK,b)}};
DvtEventManager.prototype.IsDoubleClickable=function(a){var b=a.target;for(a=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b;){var c=this.GetLogicalObject(b,!0);if(c){if(c.isDoubleClickable&&c.isDoubleClickable()||this.PopupHandler.hasPopup(a,[DvtShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK]))return!0;if(!this.IsPropagationEnabled(DvtMouseEvent.DBLCLICK,null,b))break}b=b.getParent()}return!1};
DvtEventManager.prototype.ProcessSelectionEventHelper=function(a,b){var c=this.getSelectionHandler(a);c&&c.processClick(a,b)&&this.fireSelectionEvent(a)};DvtEventManager.prototype.PreOnDblClick=function(a){this._propagateEvent(DvtMouseEvent.DBLCLICK,a,this.OnDblClick)};
DvtEventManager.prototype.OnDblClick=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));if(this._clickTimer&&this._clickTimer.isRunning())this._clickTimer.stop(),this._savedClickEvent=null;else if(DvtAgent.isPlatformIE()){if(!b)return;if(!(b.isDoubleClickable&&b.isDoubleClickable()||this.PopupHandler.hasPopup(b,[DvtShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK]))){this.OnClick(a);return}}this.OnDblClickInternal(a);if(b){var c=!1;this._hasEventInfo(a)&&(c=this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY));
c||(c=new DvtPoint(a.pageX,a.pageY),(c=this.PopupHandler.processPopupHelper(b,this._getShowPopupBehaviors(b),[DvtShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK],c,a))&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0))}};DvtEventManager.prototype.PreOnContextMenu=function(a){this._propagateEvent("contextmenu",a,this.OnContextMenu)};
DvtEventManager.prototype.OnContextMenu=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&b.getNextNavigable&&this.setFocus(b);this._onContextMenuHelper(a,b)};
DvtEventManager.prototype._onContextMenuHelper=function(a,b){this.OnContextMenuInternal(a);this._processActionPopup(this.GetCurrentTargetForEvent(a),new DvtPoint(a.pageX,a.pageY))&&a.preventDefault();b&&b.isSelectable&&b.isSelectable()&&this.ProcessSelectionEventHelper(b,a.ctrlKey);if(this.ContextMenuHandler){var c=this.GetContextMenuType(b);this.ProcessContextMenuHandler(a,c)}else this.ProcessContextMenuPopup(a,b)};
DvtEventManager.prototype.ProcessContextMenuHandler=function(a,b){var c=this.ContextMenuHandler.show(a,b);return c?(this._context.getTooltipManager().hideTooltip(),this.PopupHandler.HidePopup(a),this._callback.call(this._callbackObj,c),!0):!1};
DvtEventManager.prototype.ProcessContextMenuPopup=function(a,b){var c=!1;this._hasEventInfo(a)&&(c=this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY));if(!c){var d=this._getShowPopupBehaviors(b);if(d){var e;DvtAgent.isTouchDevice()?(e=a.touch,c=e.pageX,e=e.pageY):(c=a.pageX,e=a.pageY);c=new DvtPoint(c,e);c=this.PopupHandler.processPopupHelper(b,d,[DvtShowPopupBehavior.TRIGGER_TYPE_CONTEXT_MENU],c,a)}c&&(this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),a.preventDefault())}};
DvtEventManager.prototype.OnKeyDown=function(a){this._bKeyDown=!0;var b=a.keyCode,c=!1,d,e;d=0>this._currentKeyboardHandlerIdx||this._currentKeyboardHandlerIdx>this._keyboardHandlers.length?b==DvtKeyboardEvent.TAB&&a.shiftKey?this._keyboardHandlers.length-1:0:this._currentKeyboardHandlerIdx;e=b==DvtKeyboardEvent.TAB&&a.shiftKey?-1:1;for(d;0<=d&&d<this._keyboardHandlers.length&&!c;d+=e)if(c=this._keyboardHandlers[d],c=c===this?this.ProcessKeyboardEvent(a):c.handleKeyboardEvent(a))this._currentKeyboardHandlerIdx=
d;c||a.keyCode!=DvtKeyboardEvent.UP_ARROW&&a.keyCode!=DvtKeyboardEvent.DOWN_ARROW&&a.keyCode!=DvtKeyboardEvent.LEFT_ARROW&&a.keyCode!=DvtKeyboardEvent.RIGHT_ARROW||DvtEventManager.consumeEvent(a);c||b!=DvtKeyboardEvent.TAB||(this._currentKeyboardHandlerIdx=-1);return c};DvtEventManager.prototype.handleKeyboardEvent=function(a){return this.OnKeyDown(a)};DvtEventManager.prototype.hideKeyboardFocusEffect=function(){var a=this.getFocus();a&&a.isShowingKeyboardFocusEffect()&&a.hideKeyboardFocusEffect()};
DvtEventManager.prototype.ProcessKeyboardEvent=function(a){if(!this.KeyboardHandler)return!1;this.hideTooltip();var b=this.getFocus(),c=null;if(a.keyCode==DvtKeyboardEvent.TAB&&b){if(b.isShowingKeyboardFocusEffect())return b.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(a,b,!1),(b=a.shiftKey?this._context.previousKeyboardFocus():this._context.nextKeyboardFocus())?(b.FireListener(a,!1),DvtEventManager.consumeEvent(a),!0):!1;this.ShowFocusEffect(a,b);this.ProcessRolloverEvent(a,b,!0);DvtEventManager.consumeEvent(a);
return!0}return b&&this.KeyboardHandler.isContextMenuEvent(a)?(b.getContextMenuLocation?c=b.getContextMenuLocation():(c=b.getKeyboardBoundingBox(),c=DvtAgent.isRightToLeft(this._context)?new DvtPoint(c.x,c.y):new DvtPoint(c.x+c.w,c.y)),a=this.GenerateMouseEventFromKeyboardEvent(a,this._context.getStage(),c.x,c.y),a.ctrlKey=!1,this._onContextMenuHelper(a,b),!0):(c=this.KeyboardHandler.processKeyDown(a))?(this.setFocus(c),this._shouldDisplayKeyboardFocus=!0,b&&(b.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(a,
b,!1)),this.KeyboardHandler.isSelectionEvent(a)?this.ProcessSelectionEventHelper(c,a.shiftKey):this.KeyboardHandler.isMultiSelectEvent(a)&&this.ProcessSelectionEventHelper(c,a.ctrlKey),this.ShowFocusEffect(a,c),this.ProcessRolloverEvent(a,c,!0),!0):!1};
DvtEventManager.prototype.ShowFocusEffect=function(a,b){b.showKeyboardFocusEffect();var c=b.getKeyboardTooltipLocation?b.getKeyboardTooltipLocation():b.getKeyboardBoundingBox(this.getCtx().getStage()).getCenter(),c=this.getCtx().stageToPageCoords(c.x,c.y);this.ProcessObjectTooltip(a,c.x,c.y,b,b.getTargetElem());this.UpdateActiveElement(b)};
DvtEventManager.prototype.GenerateMouseEventFromKeyboardEvent=function(a,b,c,d){return DvtSvgEventFactory.generateMouseEventFromKeyboardEvent(a,this._context,DvtMouseEvent.CLICK,b,c,d)};DvtEventManager.prototype.OnKeyUp=function(a){this._bKeyDown=!1;!0===this._handleExternalKeyboardFocus&&a.keyCode==DvtKeyboardEvent.TAB&&(this._handleExternalKeyboardFocus=!1,this._callbackObj.dispatchDisplayableEvent(DvtKeyboardEvent.KEYDOWN,a));this.KeyboardHandler.processKeyUp(a,[DvtShowPopupBehavior.TRIGGER_TYPE_KEY_UP])};
DvtEventManager.prototype.OnKeyPress=function(a){this.KeyboardHandler.processKeyUp(a,[DvtShowPopupBehavior.TRIGGER_TYPE_KEY_PRESS])};DvtEventManager.prototype.PreOnMouseMove=function(a){this._propagateEvent(DvtMouseEvent.MOUSEMOVE,a,this.OnMouseMove)};
DvtEventManager.prototype.OnMouseMove=function(a){var b=a.pageX,c=a.pageY,d=this._context.pageToStageCoords(b,c);this._marqueeHandler&&(d=this._marqueeHandler.processDragMove(d,a.ctrlKey))&&this._callback.call(this._callbackObj,d);var e=this.GetCurrentTargetForEvent(a);if(d=this.GetLogicalObject(e))this.ProcessObjectTooltip(a,b,c,d,e),b=new DvtPoint(b,c),this.PopupHandler.processMouseMove(b),this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)||(c=this.GetLogicalObjectAndDisplayable(e))&&
this.PopupHandler.processMousePopup(d,this._getShowPopupBehaviors(d),b,c.displayable,a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_MOVE)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),this.DragSource&&!a.dragSourceSet&&this.IsDragCandidate(d)&&(this.DragSource.setDragCandidate(d),a.dragSourceSet=!0)};DvtEventManager.prototype.PreOnMouseOver=function(a){this._propagateEvent(DvtMouseEvent.MOUSEOVER,a,this.OnMouseOver);this._handlePreOverEvent(a)};
DvtEventManager.prototype._getDisplayableHierarchy=function(a,b,c){for(var d=[];a;){var e=!0;b&&(e=b.call(c,a));e&&d.unshift(a);a=a.getParent()}return d};DvtEventManager.prototype._getRolloverHierarchy=function(a){return this._getDisplayableHierarchy(a,this._isRolloverType,this)};DvtEventManager.prototype._isRolloverType=function(a){if(a=this.GetLogicalObject(a,!0))for(var b=0;b<this._rolloverTypes.length;b++)if(a instanceof this._rolloverTypes[b])return!0;return!1};
DvtEventManager.prototype.addRolloverType=function(a){this._rolloverTypes.push(a)};DvtEventManager.prototype.removeRolloverType=function(a){a=this._rolloverTypes.indexOf(a);-1!=a&&this._rolloverTypes.splice(a,1)};DvtEventManager.prototype.OnRollOver=function(a){};
DvtEventManager.prototype.OnMouseOver=function(a){var b=this.GetCurrentTargetForEvent(a),c=this.GetLogicalObjectAndDisplayable(b),d=null;c&&(d=c.logicalObject);var e=new DvtPoint(a.pageX,a.pageY);if(d){var g=this.getSelectionHandler(d);g&&g.processMouseOver(d);this.ProcessRolloverEvent(a,d,!0);this.FireUIEvent(DvtComponentUIEvent.TYPE_ROLL_OVER,d);this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)||c&&this.PopupHandler.processMousePopup(d,this._getShowPopupBehaviors(d),e,c.displayable,
a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0);this.UpdateActiveElement(d,b)}};DvtEventManager.prototype.PreOnMouseOut=function(a){this._handlePreOutEvent(DvtMouseEvent.MOUSEOUT,a,this.OnMouseOut)};DvtEventManager.prototype.OnRollOut=function(a){};
DvtEventManager.prototype.OnMouseOut=function(a){var b=this.GetCurrentTargetForEvent(a),c=this.GetLogicalObject(b);if(c){var d=this.GetLogicalObject(a.relatedTarget);c!=d&&((d=this.getSelectionHandler(c))&&d.processMouseOut(c),this.ProcessRolloverEvent(a,c,!1),this.FireUIEvent(DvtComponentUIEvent.TYPE_ROLL_OUT,c),this.hideTooltip(),this.DragSource&&!a.dragSourceSet&&(this.DragSource.setDragCandidate(null),a.dragSourceSet=!0),this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)||(d=
new DvtPoint(a.pageX,a.pageY),(b=this.GetLogicalObjectAndDisplayable(b))&&this.PopupHandler.processMousePopup(c,this._getShowPopupBehaviors(c),d,b.displayable,a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_OUT)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)))}};DvtEventManager.prototype.PreOnMouseDown=function(a){this._propagateEvent(DvtMouseEvent.MOUSEDOWN,a,this.OnMouseDown)};
DvtEventManager.prototype.OnMouseDown=function(a){this.isInActionPopup()&&this.CustomTooltipManager.closeActionTooltip();if(this._marqueeHandler){var b=this._context.pageToStageCoords(a.pageX,a.pageY);(b=this._marqueeHandler.processDragStart(b,a.ctrlKey))&&this._callback.call(this._callbackObj,b)}var c=this.GetCurrentTargetForEvent(a),b=this.GetLogicalObject(c);this.DragSource&&!a.dragSourceSet&&this.IsDragCandidate(b)&&(this.DragSource.setDragCandidate(b),a.dragSourceSet=!0);if(!this.GetEventInfo(a,
DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var d=new DvtPoint(a.pageX,a.pageY);(c=this.GetLogicalObjectAndDisplayable(c))&&this.PopupHandler.processMousePopup(b,this._getShowPopupBehaviors(b),d,c.displayable,a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_DOWN)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}};DvtEventManager.prototype.PreOnMouseUp=function(a){this._propagateEvent(DvtMouseEvent.MOUSEUP,a,this.OnMouseUp)};
DvtEventManager.prototype.OnMouseUp=function(a){if(this._marqueeHandler){var b=this._context.pageToStageCoords(a.pageX,a.pageY);(b=this._marqueeHandler.processDragEnd(b,a.ctrlKey))&&this._callback.call(this._callbackObj,b)}var c=this.GetCurrentTargetForEvent(a),b=this.GetLogicalObject(c);if(!this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)){var d=new DvtPoint(a.pageX,a.pageY);(c=this.GetLogicalObjectAndDisplayable(c))&&this.PopupHandler.processMousePopup(b,this._getShowPopupBehaviors(b),
d,c.displayable,a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_UP)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}};DvtEventManager.prototype._processTouchTooltip=function(a){var b=this.TouchManager.getTooltipInfo(),c=b.touchIds,b=b.tooltipTarget;this.GetEventInfo(a,DvtEventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||0!=c.length&&b?(c=this.TouchManager.calcAveragePosition(c),b=this.GetLogicalObject(b),this.ProcessObjectTooltip(a,c.x,c.y,b,null)):this.hideTooltip()};
DvtEventManager.prototype.OnTouchStartBubble=function(a){this.PreEventBubble(a);a.isInitialTouch()&&(this._popupJustClosed=!1);if(this.DragSource){var b=this.GetLogicalObject(a.target);!a.dragSourceSet&&this.IsDragCandidate(b)&&(this.DragSource.setDragCandidate(b),a.dragSourceSet=!0)}this.isInActionPopup()&&(this.CustomTooltipManager.closeActionTooltip(),this.TouchManager.resetTouchHold());this.HandleImmediateTouchStartInternal(a);this.TouchManager.fireLogicalEvents(a);this.TouchManager.postEventBubble(a);
this._isTouchResponseTouchStart()?(this._touchResponseHandled=!0,this.TouchManager.processAssociatedTouchAttempt(a,DvtEventManager.TOUCH_RESPONSE_TOUCH_START,this._saveTouchStart,this)):(this._touchResponseHandled=!1,this._processTouchTooltip(a))};DvtEventManager.prototype.OnTouchMoveBubble=function(a){this.PreEventBubble(a);this.TouchManager&&(this._prevActionClear=!1,this.HandleImmediateTouchMoveInternal(a),this.TouchManager.fireLogicalEvents(a),this.TouchManager.postEventBubble(a),this._processTouchTooltip(a))};
DvtEventManager.prototype._handleTouchEndTimer=function(){for(var a=0;a<this._touchEndTimer.length;a++){var b=this._touchEndTimer[a];b.timer.stop();b=b.event;this.TouchManager&&(this.HandleImmediateTouchEndInternal(b),this.TouchManager.fireLogicalEvents(b),this.TouchManager.postEventBubble(b))}this.DragSource&&!b.dragSourceSet&&(this.DragSource.setDragCandidate(null),b.dragSourceSet=!0);this._touchEndTimer=[]};
DvtEventManager.prototype.OnTouchEndBubble=function(a){this.PreEventBubble(a);var b=new DvtTimer(this._context,0,this._handleTouchEndTimer,this,1);this._touchEndTimer||(this._touchEndTimer=[]);this._touchEndTimer.push({event:a,timer:b});b.start()};DvtEventManager.prototype.HandleImmediateTouchStartInternal=function(a){};DvtEventManager.prototype.HandleImmediateTouchMoveInternal=function(a){};DvtEventManager.prototype.HandleImmediateTouchEndInternal=function(a){};
DvtEventManager.prototype._preOnComponentTouchHoverStart=function(a){this._propagateEvent(DvtComponentTouchEvent.TOUCH_HOVER_START_TYPE,a,this.OnComponentTouchHoverStart)};DvtEventManager.prototype.OnComponentTouchHoverStart=function(a){this.HandleTouchHoverStartInternal(a);this._touchResponseHandled||this.HandleTouchActionsStart(a)};DvtEventManager.prototype._preOnComponentTouchHoverMove=function(a){this._propagateEvent(DvtComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,a,this.OnComponentTouchHoverMove)};
DvtEventManager.prototype.OnComponentTouchHoverMove=function(a){this.HandleTouchHoverMoveInternal(a);this._touchResponseHandled||this.HandleTouchActionsMove(a)};DvtEventManager.prototype._preOnComponentTouchHoverEnd=function(a){this._propagateEvent(DvtComponentTouchEvent.TOUCH_HOVER_END_TYPE,a,this.OnComponentTouchHoverEnd)};
DvtEventManager.prototype.OnComponentTouchHoverEnd=function(a){var b=this.GetCurrentTargetForEvent(a),b=this.GetLogicalObject(b);this.HandleTouchHoverEndInternal(a);this.ProcessTouchContextMenu(a,b);if(this._callbackObj instanceof DvtBaseComponent){var b=this.getCtx().getStageAbsolutePosition(),c=a.touch.pageX,d=a.touch.pageY;c<=b.x+this._callbackObj.getWidth()&&c>=b.x&&d<=b.y+this._callbackObj.getHeight()&&d>=b.y&&this._callback.call(this._callbackObj,a)}this._touchResponseHandled||this.HandleTouchActionsEnd(a)};
DvtEventManager.prototype._preOnComponentTouchHoverOut=function(a){this._handlePreOutEvent(DvtComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,a,this.OnComponentTouchHoverOut)};DvtEventManager.prototype.OnComponentTouchHoverOut=function(a){this.HandleTouchHoverOutInternal(a);this._touchResponseHandled||this.HandleTouchActionsOut(a)};DvtEventManager.prototype._preOnComponentTouchHoverOver=function(a){this._propagateEvent(DvtComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,a,this.OnComponentTouchHoverOver);this._handlePreOverEvent(a)};
DvtEventManager.prototype.OnComponentTouchHoverOver=function(a){this.HandleTouchHoverOverInternal(a);this._touchResponseHandled||this.HandleTouchActionsOver(a)};DvtEventManager.prototype._preOnComponentTouchDblClick=function(a){this._propagateEvent(DvtComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,a,this.OnComponentTouchDblClick)};
DvtEventManager.prototype.OnComponentTouchDblClick=function(a){var b=this.GetCurrentTargetForEvent(a),c=a.touch,b=this.GetLogicalObject(b),c=new DvtPoint(c.pageX,c.pageY),d=!1;this._hasEventInfo(a)&&(d=this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY));d||this.PopupHandler.processPopupHelper(b,this._getShowPopupBehaviors(b),[DvtShowPopupBehavior.TRIGGER_TYPE_DBL_CLICK],c,a)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0);this.HandleTouchDblClickInternal(a)};
DvtEventManager.prototype._preOnComponentTouchClick=function(a){this._propagateEvent(DvtComponentTouchEvent.TOUCH_CLICK_TYPE,a,this.OnComponentTouchClick)};
DvtEventManager.prototype.OnComponentTouchClick=function(a){var b=this.GetCurrentTargetForEvent(a),c=a.touch,d=this.GetLogicalObject(b),e=new DvtPoint(c.pageX,c.pageY),g=!1;this._hasEventInfo(a)&&(g=this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY));!g&&this.PopupHandler.processPopupHelper(d,this._getShowPopupBehaviors(d),[DvtShowPopupBehavior.TRIGGER_TYPE_ACTION,DvtShowPopupBehavior.TRIGGER_TYPE_CLICK],e,a)&&(this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,
!0),g=!0);g||(e=this._getClientBehaviors(d))&&this.ProcessClientBehaviorForTouch(d,e);this.FireUIEvent(DvtComponentUIEvent.TYPE_CLICK,d);this.HandleTouchClickInternal(a)||(this._isTouchResponseTouchStart()||this._processTouchSelection(d),this._popupJustClosed||this._processTouchSelectionClear(d),this.CustomTooltipManager.displayActionPopup()&&(this.UpdateActionTooltipLaunchedFeedback(b,new DvtPoint(c.pageX,c.pageY)),this.CustomTooltipManager.startActionPopupAtPosition(c.pageX,c.pageY,b)),d&&!g&&d.isCommandComponent&&
d.isCommandComponent()&&(a=new DvtActionEvent(DvtActionEvent.SUBTYPE_ACTION,d.getId()),DvtEventManager._addContextInfo(d,a),this._callback.call(this._callbackObj,a)))};DvtEventManager.prototype._processTouchSelection=function(a){var b=!1;(b=this.getSelectionHandler(a))&&a&&a.isSelectable&&a.isSelectable()&&(b=b.processClick(a,!0))&&this.fireSelectionEvent(a);this._prevActionClear=!1};
DvtEventManager.prototype._processTouchSelectionClear=function(a){var b=!1;if((b=this.getSelectionHandler(a))&&!(a&&a.isSelectable&&a.isSelectable())&&!this._prevActionClear){var c=!1;this.isClearMenuAllowed()&&b.getType()==DvtSelectionHandler.TYPE_MULTIPLE&&1<b.getSelectedCount()&&(c=!0);c?this.addClearAllActionItem():(b=b.processClick(null,!1))&&this.fireSelectionEvent(a)}};
DvtEventManager.prototype.OnActionTooltipClosed=function(a){a=a.target;this._popupJustClosed=!0;this._isInActionPopup=!1;this.CustomTooltipManager.getActionTooltip().containsMenuId(DvtEventManager.CLEAR_SELECTION_ACTION_TYPE)&&(this._prevActionClear=!0);this.CustomTooltipManager.clearActionTooltip();this.UpdateActionTooltipClosedFeedback(a)};DvtEventManager.prototype.OnActionTooltipStarted=function(a){this._isInActionPopup=!0};
DvtEventManager.prototype._getTooltipInfo=function(a,b,c,d){var e=null,g=!1;b&&b.getDatatip&&(e=b.getDatatip(a,c,d))&&(g=!0);!e&&b&&b.getTooltip&&(e=b.getTooltip(a,c,d));return{text:e,isDatatip:g}};
DvtEventManager.prototype._processShowTooltip=function(a,b,c,d){if(this.getTooltipsEnabled(b)){var e=this._context.pageToStageCoords(c,d),g=e.x,e=e.y,h=this._getTooltipInfo(a,b,g,e);a=h.isDatatip;if(h=h.text)return this.CustomTooltipManager.clearActionTooltip(),b=this.GetTooltipColor(b,g,e),g=this._context.getTooltipManager(),a?g.showDatatip(c,d,h,b):g.showTooltip(c,d,h,null,!0,b),this.TooltipLaunched(h,b),!0}this.hideTooltip();return!1};
DvtEventManager.prototype.hideTooltip=function(){var a=this._context.getTooltipManager();a&&a.hideTooltip();this.TooltipHidden()};
DvtEventManager.prototype.ProcessTouchContextMenu=function(a,b){if(this.ContextMenuHandler){var c=this.GetContextMenuType(b),d=!1;b&&b.isSelected&&b.isSelected()?d=!0:(b&&b.isSelectable&&b.isSelectable()||(c=DvtContextMenuHandler.TYPE_BODY_CONTEXT_MENU),c==DvtContextMenuHandler.TYPE_BODY_CONTEXT_MENU&&(d=!0));return d?this.ProcessContextMenuHandler(a,c):!1}this.ProcessContextMenuPopup(a,b)};
DvtEventManager.prototype._processActionPopup=function(a,b){if(this.CustomTooltipManager.displayActionPopup())return this.SetupTouchTooltip(a),this.UpdateActionPopupShownFeedback(a),this.CustomTooltipManager.startActionPopupAtPosition(b.x,b.y,a),!0;this.UpdateActionPopupHiddenFeedback(a);return!1};DvtEventManager.prototype.TooltipLaunched=function(a,b){};DvtEventManager.prototype.TooltipHidden=function(){};
DvtEventManager.prototype.SetupTouchTooltip=function(a){var b=this.GetLogicalObject(a);a=this.CustomTooltipManager.getActionTooltip();null==a.getTooltipBorderColor()&&(b=this.GetTooltipColor(b),a.setTooltipBorderColor(b))};DvtEventManager.prototype.OnContextMenuInternal=function(a){};DvtEventManager.prototype.OnClickInternal=function(a){};DvtEventManager.prototype.OnDblClickInternal=function(a){};DvtEventManager.prototype.HandleTouchHoverStartInternal=function(a){};
DvtEventManager.prototype.HandleTouchHoverMoveInternal=function(a){};DvtEventManager.prototype.HandleTouchHoverEndInternal=function(a){};DvtEventManager.prototype.HandleTouchHoverOverInternal=function(a){};DvtEventManager.prototype.HandleTouchHoverOutInternal=function(a){};DvtEventManager.prototype.HandleTouchClickInternal=function(a){return!1};DvtEventManager.prototype.HandleTouchDblClickInternal=function(a){};DvtEventManager.prototype.UpdateActionPopupShownFeedback=function(a){};
DvtEventManager.prototype.UpdateActionPopupHiddenFeedback=function(a){};DvtEventManager.prototype.UpdateActionTooltipClosedFeedback=function(a){};DvtEventManager.prototype.UpdateActionTooltipLaunchedFeedback=function(a,b){};DvtEventManager.prototype.isInActionPopup=function(){return this._isInActionPopup};DvtEventManager.prototype.GetClearSelectionText=function(){return DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"CLEAR_SELECTION")};
DvtEventManager.prototype.addClearAllActionItem=function(){this.addActionTooltipMenuItem(DvtEventManager.CLEAR_SELECTION_ACTION_TYPE,this.GetClearSelectionText(),this._actionTooltipClearListener,this);var a=this.CustomTooltipManager.getActionTooltip();a&&a.setTooltipBorderColor(DvtCustomTooltip.DEFAULT_BORDER_COLOR)};DvtEventManager.prototype.isClearMenuAllowed=function(){return!0};
DvtEventManager.prototype.addActionTooltipMenuItem=function(a,b,c,d){this.CustomTooltipManager.getActionTooltip().addMenuItem(new DvtCustomTooltipItem(this._context,a,b,c,d))};DvtEventManager.prototype.ContextMenuItemListener=function(a){a=a.menuItem.getEvent();this._callback.call(this._callbackObj,a)};DvtEventManager.prototype._actionTooltipClearListener=function(a){a=this.GetLogicalObject(a.target);this.getSelectionHandler(a).processClick(null,!1)&&this.fireSelectionEvent(a)};
DvtEventManager.prototype._actionTooltipSelectListener=function(a){a=this.GetLogicalObject(a.target);this.getSelectionHandler(a).processClick(a,!0)&&this.fireSelectionEvent(a)};DvtEventManager.consumeEvent=function(a){a&&(a.preventDefault(),a.stopPropagation())};DvtEventManager._addContextInfo=function(a,b){if(a.getContextCallback&&a.getContextCallbackObj){var c=a.getContextCallback(),d=a.getContextCallbackObj();c&&d&&c.call(d,b)}else b.addParam(DvtBaseComponentEvent.CLIENT_ROW_KEY,a.getId())};
DvtEventManager.prototype.IsPropagationEnabled=function(a,b,c){return!1};DvtEventManager.prototype.GetCurrentTargetForEvent=function(a){var b=this.GetEventInfo(a,DvtEventManager._EVENT_INFO_CURRENT_TARGET_KEY);return b?b:a.target};
DvtEventManager.prototype._propagateEvent=function(a,b,c){if(this.GetLogicalObject(b.target)){var d=b.target;try{for(;d&&(!this.GetLogicalObject(d,!0)||(this.SetEventInfo(b,DvtEventManager._EVENT_INFO_CURRENT_TARGET_KEY,d),c.call(this,b),this.IsPropagationEnabled(a,b,d)));)d=d.getParent()}finally{this.SetEventInfo(b,DvtEventManager._EVENT_INFO_CURRENT_TARGET_KEY,null)}}else c.call(this,b)};
DvtEventManager.prototype.ConsumesClick=function(a){return a.isSelectable&&a.isSelectable()||a.isClickEventPropagationStopped&&a.isClickEventPropagationStopped()||this._hasClickPopup(a)||this._hasClickClientBehavior(a)};DvtEventManager.prototype._hasClickPopup=function(a){return this.PopupHandler.hasPopup(a,[DvtShowPopupBehavior.TRIGGER_TYPE_ACTION,DvtShowPopupBehavior.TRIGGER_TYPE_CLICK])};DvtEventManager.prototype.addComponentKeyboardHandler=function(a){a&&this._keyboardHandlers.push(a)};
DvtEventManager.prototype.addComponentKeyboardHandlerAt=function(a,b){b>this._keyboardHandlers.length||!a||(this._keyboardHandlers.splice(b,0,a),b<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx++)};DvtEventManager.prototype.removeComponentKeyboardHandler=function(a){a&&(a=this._findHandler(a),-1<a&&(this._currentKeyboardHandlerIdx==a&&0==a?this._currentKeyboardHandlerIdx=0:a<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx--,this._keyboardHandlers.splice(a,1)))};
DvtEventManager.prototype._findHandler=function(a){for(var b=-1,c=this._keyboardHandlers.length,d=0;d<c;d++)this._keyboardHandlers[d]===a&&(b=d);return b};DvtEventManager.prototype.setCurrentKeyboardHandler=function(a){a=this._findHandler(a);0<=a&&(this._currentKeyboardHandlerIdx=a)};
DvtEventManager.prototype._hasClickClientBehavior=function(a){if(a=this._getClientBehaviors(a))for(var b=0;b<a.length;b++){var c=a[b];if(c&&(c.getTriggerType()==DvtClientBehavior.TRIGGER_TYPE_ACTION||c.getTriggerType()==DvtClientBehavior.TRIGGER_TYPE_CLICK))return!0}return!1};DvtEventManager.prototype.CreateClientBehaviorHandler=function(a,b,c){return new DvtClientBehaviorHandler(a,b,c)};
DvtEventManager.prototype.ProcessClientBehaviorForTouch=function(a,b){return this.ClientBehaviorHandler.processClick(a,b)};DvtEventManager.prototype.IsDragCandidate=function(a){return!0};DvtEventManager._getActiveElementId=function(){return"_dvtActiveElement"+Math.floor(1E9*Math.random())};
DvtEventManager.prototype.UpdateActiveElement=function(a,b){b||(b=a.getDisplayable?a.getDisplayable():a.getDisplayables?a.getDisplayables()[0]:a);if(b instanceof DvtDisplayable){if(a.getAriaLabel){var c=a.getAriaLabel();c&&b.setAriaProperty("label",c)}else for(;!b.getAriaRole()&&b.getParent();)b=b.getParent();b!=this.getCtx().getStage()&&this.getCtx().setActiveElement(b)}};
DvtEventManager.prototype._handlePreOverEvent=function(a){var b=this._getRolloverHierarchy(a.target),c=this._getRolloverHierarchy(a.relatedTarget);if(0<b.length&&(b=b[b.length-1],b!=(0==c.length?null:c[c.length-1])))try{this.SetEventInfo(a,DvtEventManager._EVENT_INFO_CURRENT_TARGET_KEY,b),this.OnRollOver(a)}finally{this.SetEventInfo(a,DvtEventManager._EVENT_INFO_CURRENT_TARGET_KEY,null)}};
DvtEventManager.prototype._handlePreOutEvent=function(a,b,c){var d=this.GetLogicalObject(b.relatedTarget),e=b.target;try{var g=this._getRolloverHierarchy(b.target),h=this._getRolloverHierarchy(b.relatedTarget);if(0<g.length){var k=g[g.length-1];k!=(0==h.length?null:h[h.length-1])&&(this.SetEventInfo(b,DvtEventManager._EVENT_INFO_CURRENT_TARGET_KEY,k),this.OnRollOut(b))}var m=this.GetLogicalObject(e);if(m)for(this.PopupHandler.processMouseOut(m,this._getDisplayableHierarchy(b.relatedTarget),b);e;){var n=
this.GetLogicalObject(e,!0);if(n){if(d===n)break;this.SetEventInfo(b,DvtEventManager._EVENT_INFO_CURRENT_TARGET_KEY,e);c.call(this,b);if(!this.IsPropagationEnabled(a,b,e))break}e=e.getParent()}else c.call(this,b)}finally{this.SetEventInfo(b,DvtEventManager._EVENT_INFO_CURRENT_TARGET_KEY,null),b.relatedTarget instanceof DvtDisplayable||this._context.clearStageAbsolutePosition()}};DvtEventManager.prototype.getTouchManager=function(){return this.TouchManager};DvtEventManager.prototype.endDrag=function(){return null};
DvtEventManager.prototype._hasEventInfo=function(a){return null==a?!1:a.getNativeEvent()._eventInfo?!0:!1};DvtEventManager.prototype.GetEventInfo=function(a,b){if(!this._hasEventInfo(a)||null==b)return null;var c;this.StoreInfoByEventType(b)?(c=a.type?a.type:a.getType(),c=a.getNativeEvent()._eventInfo[c]):c=a.getNativeEvent()._eventInfo;return c?c[b]:null};
DvtEventManager.prototype.SetEventInfo=function(a,b,c){if(null!=a&&null!=b){var d=a.getNativeEvent();d._eventInfo||(d._eventInfo={});this.StoreInfoByEventType(b)?(a=a.type?a.type:a.getType(),d._eventInfo[a]||(d._eventInfo[a]={}),d._eventInfo[a][b]=c):d._eventInfo[b]=c}};DvtEventManager.prototype.StoreInfoByEventType=function(a){return a==DvtEventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY?!1:!0};
DvtEventManager.prototype.ProcessObjectTooltip=function(a,b,c,d,e){this.GetEventInfo(a,DvtEventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||this._processShowTooltip(e,d,b,c)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY,!0)};DvtEventManager.prototype._resetExternalKeyboardFocus=function(){this._handleExternalKeyboardFocus=!1};
DvtEventManager.prototype.OnFocus=function(a){this._handleExternalKeyboardFocus=!1;this._bKeyDown||a.isPropagationStopped()||(this._handleExternalKeyboardFocus=!0,this._keyboardFocusTimer||(this._keyboardFocusTimer=new DvtTimer(this._context,200,this._resetExternalKeyboardFocus,this,1)),this._keyboardFocusTimer.reset(),this._keyboardFocusTimer.start(),a.stopPropagation())};DvtEventManager.prototype.OnBlur=function(a){this._bKeyDown=!1;(a=this.getFocus())&&a.isShowingKeyboardFocusEffect()&&a.hideKeyboardFocusEffect()};
DvtEventManager.prototype.ProcessRolloverEvent=function(a,b,c){};DvtEventManager.prototype.CreateCategoryRolloverHandler=function(a,b){return new DvtCategoryRolloverHandler(a,b)};DvtEventManager.prototype.GetTouchResponse=function(){return DvtEventManager.TOUCH_RESPONSE_TOUCH_START};
DvtEventManager.prototype._isTouchResponseTouchStart=function(){var a=this.GetTouchResponse();if(a===DvtEventManager.TOUCH_RESPONSE_TOUCH_START)return!0;if(a===DvtEventManager.TOUCH_RESPONSE_TOUCH_HOLD)return!1;for(a=this.getCtx().getSvgDocument().parentElement.parentElement;a&&"HTML"!==a.nodeName;){var b=window.getComputedStyle(a);if("hidden"!==b.overflow&&(a.scrollWidth>a.clientWidth+DvtEventManager._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==b["overflow-x"]||a.scrollHeight>a.clientHeight+DvtEventManager._TOUCH_RESPONSE_PADDING_CHECK&&
"hidden"!==b["overflow-y"]))return!1;a=a.parentElement}return!0};DvtEventManager.prototype._saveTouchStart=function(a,b){1>=this.TouchManager.getTouchIdsForObj(DvtEventManager.TOUCH_RESPONSE_TOUCH_START).length&&(this.TouchManager.saveProcessedTouch(b.identifier,DvtTouchManager.HOVER_TOUCH_KEY,null,DvtTouchManager.HOVER_TOUCH_KEY,DvtTouchManager.HOVER_TOUCH_KEY,this.HandleTouchActionsMove,this.HandleTouchActionsEnd,this),this.HandleTouchActionsStart(a))};
DvtEventManager.prototype.HandleTouchActionsStart=function(a){var b=this.GetCurrentTargetForEvent(a),c=this.GetLogicalObject(b),d=a instanceof DvtComponentTouchEvent?a.touch:a.touches[0],e=d.pageX,b=d.pageY;a instanceof DvtComponentTouchEvent||(this._touchMap[d.identifier]||(this._touchMap[d.identifier]={}),this._touchMap[d.identifier][DvtTouchManager.PREV_HOVER_OBJ]=null,c&&this.HandleTouchActionsOver(a),this._touchMap[d.identifier][DvtTouchManager.PREV_HOVER_OBJ]=c);this._marqueeHandler&&(d=this._context.pageToStageCoords(e,
b),d=this._marqueeHandler.processDragStart(d))&&(a.preventDefault(),this._callback.call(this._callbackObj,d));c&&this.ProcessRolloverEvent(a,c,!0);this._processTouchTooltip(a);this._prevActionClear=!1;this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)||(e=new DvtPoint(e,b),b=this.GetCurrentTargetForEvent(a),(b=this.GetLogicalObjectAndDisplayable(b))&&this.PopupHandler.processMousePopup(c,this._getShowPopupBehaviors(c),e,b.displayable,a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_DOWN)&&
this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0))};
DvtEventManager.prototype.HandleTouchActionsMove=function(a){var b=a instanceof DvtComponentTouchEvent?a.touch:a.touches[0],c,d;if(a instanceof DvtComponentTouchEvent)c=this.GetCurrentTargetForEvent(a),d=this.GetLogicalObject(c);else{a.preventDefault();c=DvtSvgDocumentUtils.elementFromTouch(b);d=this.GetLogicalObject(c);var e=this._touchMap[b.identifier][DvtTouchManager.PREV_HOVER_OBJ];if(e!=d){if(e){var g;e.getDisplayable?g=e.getDisplayable():e.getDisplayables&&(g=e.getDisplayables()[0]);g&&(a.target=
g,this.HandleTouchActionsOut(a,b))}a.target=c;d&&this.HandleTouchActionsOver(a)}this._touchMap[b.identifier][DvtTouchManager.PREV_HOVER_OBJ]=d}e=this._context.pageToStageCoords(b.pageX,b.pageY);this._marqueeHandler&&(e=this._marqueeHandler.processDragMove(e,a.ctrlKey))&&(a.preventDefault(),this._callback.call(this._callbackObj,e));d&&this.ProcessRolloverEvent(a,d,!0);b=new DvtPoint(b.pageX,b.pageY);this.PopupHandler.processMouseMove(b);this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)||
(c=this.GetLogicalObjectAndDisplayable(c))&&this.PopupHandler.processMousePopup(d,this._getShowPopupBehaviors(d),b,c.displayable,a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_MOVE)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)};
DvtEventManager.prototype.HandleTouchActionsEnd=function(a,b){var c,d;if(a instanceof DvtComponentTouchEvent)c=this.GetCurrentTargetForEvent(a),d=this.GetLogicalObject(c),b=a.touch;else{a.preventDefault();c=DvtSvgDocumentUtils.elementFromTouch(b);d=this.GetLogicalObject(c);var e;d&&(d.getDisplayable?e=d.getDisplayable():d.getDisplayables&&(e=d.getDisplayables()[0]));e&&(a.target=e,this.HandleTouchActionsOut(a,b));this._touchMap[b.identifier][DvtTouchManager.PREV_HOVER_OBJ]=null}e=b.pageX;var g=b.pageY,
h=this._context.pageToStageCoords(e,g);this._marqueeHandler&&(h=this._marqueeHandler.processDragEnd(h,a.ctrlKey))&&(a.preventDefault(),this._callback.call(this._callbackObj,h));this._processTouchSelection(d);this._processActionPopup(c,new DvtPoint(e,g));this.FireUIEvent(DvtComponentUIEvent.TYPE_ROLL_OUT,d);this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)||(e=new DvtPoint(e,g),(c=this.GetLogicalObjectAndDisplayable(c))&&this.PopupHandler.processMousePopup(d,this._getShowPopupBehaviors(d),
e,c.displayable,a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_UP)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0))};
DvtEventManager.prototype.HandleTouchActionsOver=function(a){var b=this.GetCurrentTargetForEvent(a),c=this.GetLogicalObject(b),d=a instanceof DvtComponentTouchEvent?a.touch:a.touches[0],d=new DvtPoint(d.pageX,d.pageY);c&&this.ProcessRolloverEvent(a,c,!0);var e=this.getSelectionHandler(c);e&&e.processMouseOver(c);this.FireUIEvent(DvtComponentUIEvent.TYPE_ROLL_OVER,c);(b=this.GetLogicalObjectAndDisplayable(b))&&this.PopupHandler.processMousePopup(c,this._getShowPopupBehaviors(c),d,b.displayable,a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_OVER)&&
this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)};
DvtEventManager.prototype.HandleTouchActionsOut=function(a,b){var c=this.GetCurrentTargetForEvent(a),d=this.GetLogicalObject(c);a instanceof DvtComponentTouchEvent&&(b=a.touch);d&&this.ProcessRolloverEvent(a,d,!1);var e=this.getSelectionHandler(d);e&&e.processMouseOut(d);this.FireUIEvent(DvtComponentUIEvent.TYPE_ROLL_OUT,d);this.GetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY)||(e=new DvtPoint(b.pageX,b.pageY),(c=this.GetLogicalObjectAndDisplayable(c))&&this.PopupHandler.processMousePopup(d,
this._getShowPopupBehaviors(d),e,c.displayable,a,DvtShowPopupBehavior.TRIGGER_TYPE_MOUSE_OUT)&&this.SetEventInfo(a,DvtEventManager._EVENT_INFO_POPUP_DISPLAYED_KEY,!0))};var DvtCustomTooltipManager=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtCustomTooltipManager,DvtObj,"DvtCustomTooltipManager");DvtCustomTooltipManager.prototype.Init=function(a,b){this._context=a;this._id=b;this._actionTooltip=new DvtCustomTooltip(this._context,this._id+"ActionPopup")};
DvtCustomTooltipManager.prototype.GetRichTooltipManager=function(){if(!this._RichTooltipManager){var a=this._id+"Tooltip";this._RichTooltipManager=this._context.getImplFactory().newRichTooltipManager(a);this._RichTooltipManager.InitializeTooltipElem();(a=this._RichTooltipManager.GetStoredContext())&&(new DvtCustomTooltipEventHandler(a,this,null,null)).addListeners(this._actionTooltip)}return this._RichTooltipManager};
DvtCustomTooltipManager.prototype.clearActionTooltip=function(){this._actionTooltip&&this._actionTooltip.clearContent()};DvtCustomTooltipManager.prototype.getActionTooltip=function(){return this._actionTooltip};DvtCustomTooltipManager.prototype.hideTooltip=function(){this.clearActionTooltip();this._RichTooltipManager&&this._RichTooltipManager.hideTooltip()};
DvtCustomTooltipManager.prototype.closeActionTooltip=function(){var a=new DvtActionTooltipEvent(DvtActionTooltipEvent.TOOLTIP_CLOSED_TYPE,this._actionPopupObj);this.FireListener(a);this._actionPopupObj=null;this.hideTooltip()};DvtCustomTooltipManager.prototype.showDatatip=function(a,b,c,d){var e=this.getActionTooltip();c=DvtCustomTooltipManager._formatTextString(c);e.setTooltipText(c);null!=d&&e.setTooltipBorderColor(d);this.GetRichTooltipManager().showRichElement(a,b,e,!0)};
DvtCustomTooltipManager.prototype.showTextAtPosition=function(a,b,c,d,e,g){g=this.getActionTooltip();c=DvtCustomTooltipManager._formatTextString(c);g.setTooltipText(c);null!=d&&g.setTooltipBorderColor(d);this.GetRichTooltipManager().showRichElement(a,b,g,e)};DvtCustomTooltipManager.prototype.displayActionPopup=function(){var a=this.getActionTooltip();return a&&a.hasMenuItems()?!0:!1};
DvtCustomTooltipManager.prototype.startActionPopupAtPosition=function(a,b,c,d){if(d=this.getActionTooltip())this.GetRichTooltipManager().showRichElementAtPosition(a,b,d,!0,!1),a=new DvtActionTooltipEvent(DvtActionTooltipEvent.TOOLTIP_STARTED_TYPE,c),this.FireListener(a),this._actionPopupObj=c};DvtCustomTooltipManager.prototype.addTooltipEventListener=function(a,b,c){a=this._getListeners(a,!0);a.push(b);a.push(c)};
DvtCustomTooltipManager.prototype.removeTooltipEventListener=function(a,b,c){a=this._getListeners(a,!1);if(null!==a)for(var d=0;d<a.length;d+=2)if(a[d]===b&&a[d+1]===c){a.splice(d,2);break}};DvtCustomTooltipManager.prototype._getListeners=function(a,b){if(!this._listenerObj)if(b)this._listenerObj={};else return null;var c=this._listenerObj[a];!c&&b&&(c=[],this._listenerObj[a]=c);return c};
DvtCustomTooltipManager.prototype.FireListener=function(a){var b=this._getListeners(a.getType(),!1);if(b)for(var c=0;c<b.length;c+=2)b[c].call(b[c+1],a)};DvtCustomTooltipManager._formatTextString=function(a){var b="";if(!a)return b;a=a.replace(/\n/g,"\x3cbr\x3e");if(a=a.split("\x3cbr\x3e")){for(var c=[],d=0;d<a.length;d++){var e=a[d];null!=e&&""!=e&&c.push(e)}for(d=0;d<c.length;d++)b+=c[d],d<c.length-1&&(b+="\n")}return b};
var DvtCustomTooltipEventHandler=function(a,b,c,d){this._customTooltipManager=b;this.Init(a,c,d)};DvtObj.createSubclass(DvtCustomTooltipEventHandler,DvtEventManager,"DvtCustomTooltipEventHandler");DvtCustomTooltipEventHandler.prototype.OnClickInternal=function(a){this._handleMenuClick(a.target)};DvtCustomTooltipEventHandler.prototype.HandleImmediateTouchStartInternal=function(a,b){a.blockTouchHold();this._handleMenuClick(a.target)};DvtCustomTooltipEventHandler.prototype.HandleTouchClickInternal=function(a){this._handleMenuClick(a.target)};
DvtCustomTooltipEventHandler.prototype._handleMenuClick=function(a){var b=this._customTooltipManager._actionPopupObj;if(a=a._menu){var c=!0;a instanceof DvtContextMenuTooltipItem&&a._menuItem.isDisabled()&&(c=!1);c&&(this._customTooltipManager.closeActionTooltip(),a.FireActionTooltipItem(b))}};var DvtCustomTooltip=function(a,b){this._Init(a,b)};DvtObj.createSubclass(DvtCustomTooltip,DvtContainer,"DvtCustomTooltip");DvtCustomTooltip.DEFAULT_BORDER_COLOR="gray";
DvtCustomTooltip.DEFAULT_BACKGROUND_COLOR="#ffffff";DvtCustomTooltip.TOOLTIP_ONLY="tooltipOnly";DvtCustomTooltip.MENU_ONLY="menuOnly";DvtCustomTooltip.MENU_AND_TOOLTIP="menuAndTooltip";DvtCustomTooltip.EMPTY="empty";DvtCustomTooltip.MENU_PADDING_LEFT=21;DvtCustomTooltip.MENU_PADDING_RIGHT=10;
DvtCustomTooltip.prototype._Init=function(a,b){this._context=a;this.getImpl()||this.setImpl(a.getImplFactory().newContainer("customTT"));DvtCustomTooltip.superclass.Init.call(this,a);this._tooltipBorderColor=this._tooltipText=null;this._menuFontSize=11;this._tooltipFill=new DvtSolidFill(DvtCustomTooltip.DEFAULT_BACKGROUND_COLOR);this._fontSize=11;this._includePointer=!1;this._pointerLocation=new DvtPoint(0,0)};DvtCustomTooltip.prototype.setIncludePointer=function(a){this._includePointer=a};
DvtCustomTooltip.prototype.getRootDisplayable=function(){return this};DvtCustomTooltip.prototype.UpdateTooltipSize=function(a,b){this._displayWidth=a;this._displayHeight=b};DvtCustomTooltip.prototype.getDisplayWidth=function(){return this._displayWidth};DvtCustomTooltip.prototype.getDisplayHeight=function(){return this._displayHeight};DvtCustomTooltip.prototype.clearContent=function(){this.clearMenuItems();this.setTooltipBorderColor(null);this.setTooltipText(null)};
DvtCustomTooltip.prototype.setMenuFontSize=function(a){this._menuFontSize=a};DvtCustomTooltip.prototype.setTooltipBorderColor=function(a){this._tooltipBorderColor=a};DvtCustomTooltip.prototype.getTooltipBorderColor=function(){return this._tooltipBorderColor};DvtCustomTooltip.prototype.setTooltipFill=function(a){this._tooltipFill=a};DvtCustomTooltip.prototype.setTooltipText=function(a){this._tooltipText=a};DvtCustomTooltip.prototype.getTooltipText=function(){return this._tooltipText};
DvtCustomTooltip.prototype.addMenuItem=function(a){this.getMenuItems().push(a)};DvtCustomTooltip.prototype.hasMenuItems=function(){var a=this.getMenuItems();return a&&0<a.length};DvtCustomTooltip.prototype.clearMenuItems=function(){this._menuItems&&(this._menuItems=[])};DvtCustomTooltip.prototype.getMenuItems=function(){this._menuItems||(this._menuItems=[]);return this._menuItems};
DvtCustomTooltip.prototype.containsMenuId=function(a){for(var b=this.getMenuItems(),c=0;c<b.length;c++)if(b[c].getId()==a)return!0;return!1};DvtCustomTooltip.prototype.getTooltipType=function(){return this.hasMenuItems()?DvtCustomTooltip.MENU_ONLY:DvtCustomTooltip.EMPTY};
DvtCustomTooltip.prototype.Render=function(){var a=this.getRootDisplayable();a.removeChildren();var b=this.getTooltipType();if(b!=DvtCustomTooltip.EMPTY){var c=4,d=2;this._includePointer&&(d=3,c=10);var e=this.hasMenuItems(),g=c+d/2,h=0,k=0;b==DvtCustomTooltip.TOOLTIP_ONLY?a.setAlpha(.9):a.setAlpha(1);var m=[],n=[];b==DvtCustomTooltip.MENU_AND_TOOLTIP?h+=5:b==DvtCustomTooltip.MENU_ONLY&&(h+=2.5);if(e)for(var t=this.getMenuItems(),e=0;e<t.length;e++){var u=t[e],v=new DvtOutputText(this._context,u.getText(),
0,0,null);v.alignBottom();v.setFontSize(this._menuFontSize);u instanceof DvtContextMenuTooltipItem&&u._menuItem.isDisabled()&&v.setAlpha(.5);v._menu=u;u=v.measureDimensions();u.y=g+h;var w=u.w;n.push(u);k=Math.max(w+DvtCustomTooltip.MENU_PADDING_LEFT+DvtCustomTooltip.MENU_PADDING_RIGHT,k);v.setY(u.y);h+=u.h;e<t.length-1&&(h+=5);m.push(v);v.alignLeft();v.alignTop()}if(b==DvtCustomTooltip.MENU_ONLY||b==DvtCustomTooltip.MENU_AND_TOOLTIP)h+=2.5;e=k+2*c;b=e+d;g=g+h+c+d/2;this._cursorText&&this._cursorText.setTranslateX(c+
d/2);k=12;t=this._pointerLocation.x>b;c=-this._pointerLocation.x;h=this._pointerLocation.y;this._includePointer?(g/2<k&&(k=g/3),v=Math.max(h+d,g+d),t?(this.UpdateTooltipSize(this._pointerLocation.x,v),v=d/2):(this.UpdateTooltipSize(b+c+d,v),v=d/2+c),a.setTranslate(v,d/2)):(this.UpdateTooltipSize(b+d,g+d),a.setTranslate(d/2,d/2));d=new DvtRect(this._context,0,0,b,g);this._includePointer&&(d=g/2,t?(t=new DvtPoint(0,0),v=new DvtPoint(b,0),u=new DvtPoint(b,d),w=new DvtPoint(this._pointerLocation.x,h),
k=new DvtPoint(b,d+k),c=new DvtPoint(b,g),d=new DvtPoint(0,g),d=DvtPathUtils.moveTo(t.x+5,t.y)+DvtPathUtils.lineTo(v.x-5,v.y)+DvtPathUtils.arcTo(5,5,Math.PI/2,1,v.x,v.y+5)+DvtPathUtils.lineTo(u.x,u.y)+DvtPathUtils.lineTo(w.x,w.y)+DvtPathUtils.lineTo(k.x,k.y)+DvtPathUtils.lineTo(c.x,c.y-5)+DvtPathUtils.arcTo(5,5,Math.PI/2,1,c.x-5,c.y)+DvtPathUtils.lineTo(d.x+5,d.y)+DvtPathUtils.arcTo(5,5,Math.PI/2,1,d.x,d.y-5)+DvtPathUtils.lineTo(0,5)+DvtPathUtils.arcTo(5,5,Math.PI/2,1,5,0)+DvtPathUtils.closePath()):
(t=new DvtPoint(0,0),v=new DvtPoint(b,0),u=new DvtPoint(b,g),w=new DvtPoint(0,g),k=new DvtPoint(0,d+k),c=new DvtPoint(-c,h),d=new DvtPoint(0,d),d=DvtPathUtils.moveTo(t.x+5,t.y)+DvtPathUtils.lineTo(v.x-5,v.y)+DvtPathUtils.arcTo(5,5,Math.PI/2,1,v.x,v.y+5)+DvtPathUtils.lineTo(u.x,u.y-5)+DvtPathUtils.arcTo(5,5,Math.PI/2,1,u.x-5,u.y)+DvtPathUtils.lineTo(w.x+5,w.y)+DvtPathUtils.arcTo(5,5,Math.PI/2,1,w.x,w.y-5)+DvtPathUtils.lineTo(k.x,k.y)+DvtPathUtils.lineTo(c.x,c.y)+DvtPathUtils.lineTo(d.x,d.y)+DvtPathUtils.lineTo(0,
5)+DvtPathUtils.arcTo(5,5,Math.PI/2,1,5,0)+DvtPathUtils.closePath()),d=new DvtPath(this._context,d,null));d.setSolidStroke("rgb(229,232,238)");this._tooltipFill||(this._tooltipFill=new DvtSolidFill(DvtCustomTooltip.DEFAULT_BACKGROUND_COLOR));d.setFill(this._tooltipFill);a.addChildAt(d,0);d=.95*e;g=(b-d)/2;for(e=0;e<m.length;e++)c=m[e],a.addChild(c),c._menu&&(h=new DvtRectangle(0,n[e].y-2.5,b,n[e].h+5),h=new DvtRect(this._context,h.x,h.y,h.w,h.h),h.setInvisibleFill(),h._menu=c._menu,a.addChild(h),
0<e&&(h=c._menu._menuItem,m[e-1]._menu instanceof DvtContextMenuTooltipItem&&h.hasSeparatorBefore()&&(h=new DvtSolidFill("gray",.5),this.renderDivider(a,g,n[e].y-2.5,d,h)))),c.setTranslateX(DvtCustomTooltip.MENU_PADDING_LEFT)}};DvtCustomTooltip.prototype.renderDivider=function(a,b,c,d,e){b=new DvtRect(this._context,b,c,d,1);b.setFill(e);a.addChild(b)};var DvtCustomTooltipItem=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtCustomTooltipItem,DvtObj,"DvtCustomTooltipItem");
DvtCustomTooltipItem.prototype.Init=function(a,b,c,d,e){this._context=a;this._id=b;this._text=c;this._listener=d;this._listenerObj=e};DvtCustomTooltipItem.prototype.getId=function(){return this._id};DvtCustomTooltipItem.prototype.getText=function(){return this._text};
DvtCustomTooltipItem.prototype.FireActionTooltipItem=function(a){if(this._listenerObj&&this._listener){var b={};b.target=a;b.menuItem=this._menuItem;this._menuItemTimer=new DvtTimer(this._context,1,this._handleMenuTimer,this);this._menuItemTimer.evt=b;this._menuItemTimer.start()}};DvtCustomTooltipItem.prototype._handleMenuTimer=function(){this._menuItemTimer&&this._menuItemTimer.stop();this._listener.call(this._listenerObj,this._menuItemTimer.evt)};
var DvtContextMenuTooltipItem=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtContextMenuTooltipItem,DvtCustomTooltipItem,"DvtContextMenuTooltipItem");DvtContextMenuTooltipItem.prototype.Init=function(a,b,c,d,e){DvtContextMenuTooltipItem.superclass.Init.call(this,a,b,e.getText(),c,d);this._menuItem=e};var DvtDnDUtils=function(){};DvtObj.createSubclass(DvtDnDUtils,DvtObj,"DvtDnDUtils");
DvtDnDUtils.getDragFeedbackBounds=function(a,b){if(!a)return null;var c=null;if(!(a instanceof Array))c=a.getDimensions(b?b:a.getParent());else if(0<a.length)for(var c=a[0].getDimensions(b?b:a[0].getParent()),d=1;d<a.length;d++){var e=a[d],e=e.getDimensions(b?b:e.getParent());e.x<c.x&&(c.w+=c.x-e.x,c.x=e.x);e.y<c.y&&(c.h+=c.y-e.y,c.y=e.y);e.x+e.w>c.x+c.w&&(c.w=e.x+e.w-c.x);e.y+e.h>c.y+c.h&&(c.h=e.y+e.h-c.y)}return c};var DvtXmlParser=function(a){this._impl||(this._impl=a.getImplFactory().newParser())};
DvtObj.createSubclass(DvtXmlParser,DvtObj,"DvtXmlParser");DvtXmlParser.prototype.parse=function(a){return this._impl&&this._impl.parse?this._impl.parse(a):null};var DvtXmlNode=function(){};DvtObj.createSubclass(DvtXmlNode,DvtObj,"DvtXmlNode");DvtXmlNode.prototype.getAttr=function(a){return null};DvtXmlNode.prototype.getChildNodes=function(){return[]};DvtXmlNode.prototype.getChild=function(a){var b=this.getChildNodes();return null!=b&&b.length>a?b[a]:null};DvtXmlNode.prototype.getFirstChild=function(){return this.getChild(0)};
DvtXmlNode.prototype.getName=function(){return null};DvtXmlNode.prototype.getAttributes=function(){return null};DvtXmlNode.prototype.getAllChildNodes=function(){return[]};DvtXmlNode.prototype.getNodeValue=function(){return null};DvtXmlNode.prototype.getTextContent=function(){return null};DvtXmlNode.prototype.getElementsByTagName=function(a){return null};var DvtHtmlTooltipManager=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtHtmlTooltipManager,DvtTooltipManager,"DvtHtmlTooltipManager");
DvtHtmlTooltipManager._TOOLTIP_DIV_ID="_dvtTooltip";DvtHtmlTooltipManager._SHOW_DELAY=500;DvtHtmlTooltipManager._BORDER_COLOR="#9ba2b0";DvtHtmlTooltipManager._FONT_COLOR="#383a47";DvtHtmlTooltipManager._VIEWPORT_BUFFER=15;DvtHtmlTooltipManager.prototype.Init=function(a,b){this._context=a;this._domElementId=b?b:DvtHtmlTooltipManager._TOOLTIP_DIV_ID;this._isTooltip=!0};
DvtHtmlTooltipManager.prototype.showDatatip=function(a,b,c,d,e){null==e&&(e=!0);this._isTooltip=!1;this._showTextAtPosition(a,b,c,d,e,this._context.getDatatipStyleClass())};
DvtHtmlTooltipManager.prototype._showTextAtPosition=function(a,b,c,d,e,g){var h,k=this.getTooltipElem();if("string"==typeof c){for(;k.hasChildNodes();)k.removeChild(k.firstChild);c=c.replace(/(<|&#60;)/g,"\x26lt;");c=c.replace(/(>|&#62;)/g,"\x26gt;");c=DvtHtmlTooltipManager._restoreTag(c,"b");c=DvtHtmlTooltipManager._restoreTag(c,"i");c=DvtHtmlTooltipManager._restoreTag(c,"table");c=DvtHtmlTooltipManager._restoreTag(c,"tr");c=DvtHtmlTooltipManager._restoreTag(c,"td");c=c.replace(/\n/g,"\x3cbr\x3e");
c=c.replace(/\\n/g,"\x3cbr\x3e");c=c.replace(/&#92;n/g,"\x3cbr\x3e");c=DvtHtmlTooltipManager._restoreTag(c,"br");c=c.replace(/ /g,"\x26nbsp;");c=c.replace(/~&nbsp;~/g," ");h=document.createElement("span");h.style.visibility="inherit";h.style.width=null;h.style.height=null;h.innerHTML=c}else 1!=c&&(h=c);this._isCustomClassName||(k.className=g);this._isCustomClassName=!1;d||(d=DvtHtmlTooltipManager._BORDER_COLOR);this._isCustomBorderColor||(k.style.borderColor=d);this._isCustomBorderColor=!1;k.style.position=
"absolute";k.style.zIndex=2147483647;null!=h&&k.appendChild(h);this.PostElement(k,a,b,!0,e)};DvtHtmlTooltipManager.prototype.PostElement=function(a,b,c,d,e){a.style["pointer-events"]=d?"none":"auto";a.style.width=null;a.style.height=null;e?(d=this._getOffsets(a),this.positionTip(b+d.x,c+d.y,b,c)):this.positionTip(b,c,b,c);a.style.visibility="visible";(b=this._context.getTooltipAttachedCallback())&&b(a)};
DvtHtmlTooltipManager.prototype.hideTooltip=function(){this.clearTooltip();this._timerIsRunning=this._tooltipDisplayed=!1;var a=document.getElementById(this._domElementId);a&&(a.style.visibility="hidden",a.style.width="0px",a.style.height="0px",DvtAgent.isRightToLeft(this._context)?a.style.left=a.style.right:a.style.left="0px",a.style.top="0px")};DvtHtmlTooltipManager.prototype.getTooltipElem=function(){var a=document.getElementById(this._domElementId);a||(a=this.InitializeTooltipElem());return a};
DvtHtmlTooltipManager.prototype.InitializeTooltipElem=function(){var a=document.createElement("div");a.id=this._domElementId;a.style.visibility="hidden";document.body.appendChild(a);this.InitContent(a);return a};DvtHtmlTooltipManager.prototype.InitContent=function(a){};
DvtHtmlTooltipManager.prototype.showTooltip=function(a,b,c,d,e,g){c&&0!=c.length&&(this._x=a,this._y=b,this._text=c,this._trackMouse=e,this._timerIsRunning||(a=document.createElement("span"),a.className="OraDVTTooltipText",a.innerHTML=c,a.style.color=DvtHtmlTooltipManager._FONT_COLOR,g||(g=DvtHtmlTooltipManager._BORDER_COLOR),this.getTooltipElem().style.borderColor=g,DvtAgent.isTouchDevice()||this._tooltipDisplayed&&this._trackMouse?this._displayTooltip(this._x,this._y,this._text,this._borderColor):
(this._timerIsRunning=!0,this._showTimerId=window.setTimeout(DvtObj.createCallback(this,this._handleShowTimer),DvtHtmlTooltipManager._SHOW_DELAY))))};DvtHtmlTooltipManager.prototype.clearTooltip=function(){this._showTimerId&&(window.clearTimeout(this._showTimerId),this._trackMouse=this._text=this._y=this._x=this._showTimerId=void 0);this._hideTimerId&&(window.clearTimeout(this._hideTimerId),this._hideTimerId=void 0)};
DvtHtmlTooltipManager.prototype._handleShowTimer=function(a){this._timerIsRunning=!1;this._displayTooltip(this._x,this._y,this._text,this._borderColor);this._tooltipDisplayed=!0};DvtHtmlTooltipManager.prototype._displayTooltip=function(a,b,c,d){this._isTooltip=!0;this._showTextAtPosition(a,b,c,d,!0,this._context.getTooltipStyleClass())};
DvtHtmlTooltipManager.prototype._getOffsets=function(a){a=this.getTooltipBounds(a);if(DvtAgent.isTouchDevice())return new DvtPoint(0-a.w/2,-30-a.h);var b=-8-a.h,c=8;this._isTooltip&&(b=22,c=0);DvtAgent.isRightToLeft(this._context)&&(c=-c-a.w);return new DvtPoint(c,b)};DvtHtmlTooltipManager.prototype.getTooltipBounds=function(){var a=this.getTooltipElem();a.style.height="auto";return new DvtRectangle(parseInt(a.style.left),parseInt(a.style.top),a.offsetWidth,a.offsetHeight)};
DvtHtmlTooltipManager.prototype.positionTip=function(a,b){var c=this.getTooltipElem(),d=this.getTooltipBounds(),e=d.w,d=d.h,g=new DvtRectangle(window.pageXOffset+DvtHtmlTooltipManager._VIEWPORT_BUFFER,window.pageYOffset+DvtHtmlTooltipManager._VIEWPORT_BUFFER,window.innerWidth-2*DvtHtmlTooltipManager._VIEWPORT_BUFFER,window.innerHeight-2*DvtHtmlTooltipManager._VIEWPORT_BUFFER),h=a;a+e>g.x+g.w?h=g.x+g.w-e-c.clientLeft:a<g.x&&(h=g.x);e=b;b<g.y?e=g.y:b+d>g.y+g.h&&(e=g.y+g.h-d);c.style.left=h+"px";c.style.top=
e+"px"};DvtHtmlTooltipManager.prototype.getCustomTooltip=function(a,b){for(var c=this.getTooltipElem();c.hasChildNodes();)c.removeChild(c.firstChild);b.parentElement=c;c.className="";c.style.borderColor="";var d=a(b);c.className&&(this._isCustomClassName=!0);c.style.borderColor&&(this._isCustomBorderColor=!0);return!d&&c.hasChildNodes()?!0:d};DvtHtmlTooltipManager._restoreTag=function(a,b){return a.replace(new RegExp("\x26lt;(/?)"+b+"([^\x26]*)(/?)\x26gt;","g"),"\x3c$1"+b+"$2$3\x3e")};
DvtHtmlTooltipManager.createStartTag=function(a,b){return("\x3c"+a+' style\x3d"'+b.toString()+'"\x3e').replace(/ /g,"~ ~")};var DvtHtmlKeyboardListenerUtils=function(){};DvtObj.createSubclass(DvtHtmlKeyboardListenerUtils,DvtObj,"DvtHtmlKeyboardListenerUtils");DvtHtmlKeyboardListenerUtils.ATTR_IGNORE_EVENTS_FROM_TARGET="_dvtIgnoreEventsFromTarget";DvtHtmlKeyboardListenerUtils.getListener=function(a){return a?DvtHtmlKeyboardListenerUtils._captureListener:DvtHtmlKeyboardListenerUtils._bubbleListener};
DvtHtmlKeyboardListenerUtils._bubbleListener=function(a){if(!DvtHtmlKeyboardListenerUtils._checkIgnoreTarget(a)){var b;if(this._currentObj)b=DvtSvgEventFactory.newEvent(a,this._currentObj.getObj().getCtx()),this._currentObj.getObj().FireListener(b,!1);else if(this._obj&&this._obj instanceof Array){var c,d,e=this._obj.length;for(c=0;c<e;c++)d=this._obj[c],b=DvtSvgEventFactory.newEvent(a,d.getObj().getCtx()),d.getObj().FireListener(b,!1)}}};
DvtHtmlKeyboardListenerUtils._captureListener=function(a){if(!DvtHtmlKeyboardListenerUtils._checkIgnoreTarget(a)){var b;this._currentObj&&(b=DvtSvgEventFactory.newEvent(a,this._currentObj.getObj().getCtx()),this._currentObj.getObj().FireListener(b,!0));if(this._obj&&this._obj instanceof Array){var c,d,e=this._obj.length;for(c=0;c<e;c++)d=this._obj[c],b=DvtSvgEventFactory.newEvent(a,d.getObj().getCtx()),d.getObj().FireListener(b,!0)}}};
DvtHtmlKeyboardListenerUtils._checkIgnoreTarget=function(a){return a&&a.target&&a.target[DvtHtmlKeyboardListenerUtils.ATTR_IGNORE_EVENTS_FROM_TARGET]?!0:!1};var DvtDomXmlParser=function(){this._parser=new DOMParser};DvtObj.createSubclass(DvtDomXmlParser,DvtObj,"DvtDomXmlParser");DvtDomXmlParser.prototype.parse=function(a){a=this._parser.parseFromString(a,"text/xml").documentElement;return new DvtDomXmlNode(a)};var DvtDomXmlNode=function(a){this._node=a};
DvtObj.createSubclass(DvtDomXmlNode,DvtXmlNode,"DvtDomXmlNode");DvtDomXmlNode.prototype.getAttr=function(a){return this._node.getAttribute(a)};DvtDomXmlNode.prototype.getChildNodes=function(){for(var a=[],b=this._node.firstChild;null!=b;)1==b.nodeType&&a.push(new DvtDomXmlNode(b)),b=b.nextSibling;return a};DvtDomXmlNode.prototype.getName=function(){return this._node.nodeName};
DvtDomXmlNode.prototype.getAttributes=function(){for(var a=[],b=this._node.attributes.length,c=0;c<b;c++){var d=this._node.attributes[c];d.name&&"undefined"!=typeof d.value&&null!=d.value&&a.push({name:d.name,value:d.value})}return a};DvtDomXmlNode.prototype.getAllChildNodes=function(){for(var a=[],b=this._node.firstChild;null!=b;)a.push(new DvtDomXmlNode(b)),b=b.nextSibling;return a};DvtDomXmlNode.prototype.getNodeValue=function(){return this._node.nodeValue};
DvtDomXmlNode.prototype.getTextContent=function(){return this._node.textContent};DvtDomXmlNode.prototype.getElementsByTagName=function(a){var b=[];if(a=this._node.getElementsByTagName(a))for(var c=0;c<a.length;c++)b.push(new DvtDomXmlNode(a[c]));return b};var DvtOptionChangeEvent=function(a,b,c){this.Init(DvtOptionChangeEvent.TYPE);this.key=a;this.value=b;this.optionMetadata=c};DvtObj.createSubclass(DvtOptionChangeEvent,DvtBaseComponentEvent,"DvtOptionChangeEvent");DvtOptionChangeEvent.TYPE="optionChange";
var DvtSelectionEvent=function(a){this.Init(a)};DvtObj.createSubclass(DvtSelectionEvent,DvtBaseComponentEvent,"DvtSelectionEvent");DvtSelectionEvent.TYPE="selection";DvtSelectionEvent.TYPE_INPUT="selectionInput";DvtSelectionEvent.prototype.Init=function(a,b){DvtSelectionEvent.superclass.Init.call(this,b?b:DvtSelectionEvent.TYPE);this._selection=a};DvtSelectionEvent.prototype.getSelection=function(){return this._selection};
var DvtValueChangeEvent=function(a,b,c){this.Init(!1===c?DvtValueChangeEvent.TYPE_INPUT:DvtValueChangeEvent.TYPE);this._oldValue=a;this._newValue=b};DvtObj.createSubclass(DvtValueChangeEvent,DvtBaseComponentEvent,"DvtValueChangeEvent");DvtValueChangeEvent.TYPE="valueChange";DvtValueChangeEvent.TYPE_INPUT="valueChangeInput";DvtValueChangeEvent.prototype.getOldValue=function(){return this._oldValue};DvtValueChangeEvent.prototype.getNewValue=function(){return this._newValue};
var DvtShowPopupEvent=function(a,b,c,d){this.Init(DvtShowPopupEvent.TYPE);this._showPopupBehavior=a;this._launcherBounds=b;this._launcherId=c;this.triggerType=d};DvtObj.createSubclass(DvtShowPopupEvent,DvtBaseComponentEvent,"DvtShowPopupEvent");DvtShowPopupEvent.TYPE="showPopup";DvtShowPopupEvent.prototype.getShowPopupBehavior=function(){return this._showPopupBehavior};DvtShowPopupEvent.prototype.getLauncherBounds=function(){return this._launcherBounds};DvtShowPopupEvent.prototype.getLauncherId=function(){return this._launcherId};
DvtShowPopupEvent.prototype.setLauncherId=function(a){this._launcherId=a};var DvtHidePopupEvent=function(a,b){this.Init(DvtHidePopupEvent.TYPE);this._popupId=a;this._relatedTarget=b};DvtObj.createSubclass(DvtHidePopupEvent,DvtBaseComponentEvent,"DvtHidePopupEvent");DvtHidePopupEvent.TYPE="hidePopup";DvtHidePopupEvent.prototype.getPopupId=function(){return this._popupId};DvtHidePopupEvent.prototype.getRelatedTarget=function(){return this._relatedTarget};
var DvtClientBehaviorEvent=function(a){this.Init(DvtClientBehaviorEvent.TYPE);this._clientBehavior=a};DvtObj.createSubclass(DvtClientBehaviorEvent,DvtBaseComponentEvent,"DvtClientBehaviorEvent");DvtClientBehaviorEvent.TYPE="clientBehavior";DvtClientBehaviorEvent.prototype.getClientBehavior=function(){return this._clientBehavior};var DvtComponentUIEvent=function(a,b){DvtComponentUIEvent.superclass.Init.call(this,a);this.params=b?b:{}};
DvtObj.createSubclass(DvtComponentUIEvent,DvtBaseComponentEvent,"DvtComponentUIEvent");DvtComponentUIEvent.TYPE_CLICK="click";DvtComponentUIEvent.TYPE_ROLL_OUT="rollOut";DvtComponentUIEvent.TYPE_ROLL_OVER="rollOver";var DvtContextMenuEvent=function(a,b){this.Init(DvtContextMenuEvent.TYPE);this._nativeEvent=a;this._menuId=b};DvtObj.createSubclass(DvtContextMenuEvent,DvtBaseComponentEvent,"DvtContextMenuEvent");DvtContextMenuEvent.TYPE="contextMenu";DvtContextMenuEvent.prototype.getNativeEvent=function(){return this._nativeEvent};
DvtContextMenuEvent.prototype.getMenuId=function(){return this._menuId};var DvtContextMenuSelectEvent=function(a,b,c,d){this.Init(DvtContextMenuSelectEvent.TYPE);this._menuType=a;this._clientId=b;this._destination=c;this._targetFrame=d};DvtObj.createSubclass(DvtContextMenuSelectEvent,DvtBaseComponentEvent,"DvtContextMenuSelectEvent");DvtContextMenuSelectEvent.TYPE="contextMenuSelect";DvtContextMenuSelectEvent.prototype.getMenuType=function(){return this._menuType};
DvtContextMenuSelectEvent.prototype.getClientId=function(){return this._clientId};DvtContextMenuSelectEvent.prototype.getDestination=function(){return this._destination};DvtContextMenuSelectEvent.prototype.getTargetFrame=function(){return this._targetFrame};var DvtDrillReplaceEvent=function(a){this.Init(DvtDrillReplaceEvent.TYPE);this._id=a};DvtObj.createSubclass(DvtDrillReplaceEvent,DvtBaseComponentEvent,"DvtDrillReplaceEvent");DvtDrillReplaceEvent.TYPE="drillReplace";
DvtDrillReplaceEvent.prototype.getId=function(){return this._id};var DvtCategoryRolloverEvent=function(a,b){this.Init(a);b=(this._category=b)||[];this.categories=b instanceof Array?b:[b]};DvtObj.createSubclass(DvtCategoryRolloverEvent,DvtBaseComponentEvent,"DvtCategoryRolloverEvent");DvtCategoryRolloverEvent.TYPE_OVER="categoryRollOver";DvtCategoryRolloverEvent.TYPE_OUT="categoryRollOut";DvtCategoryRolloverEvent.prototype.getCategory=function(){return this._category};
var DvtCategoryHideShowEvent=function(a,b){this.Init(a);this._category=b};DvtObj.createSubclass(DvtCategoryHideShowEvent,DvtBaseComponentEvent,"DvtCategoryHideShowEvent");DvtCategoryHideShowEvent.TYPE_HIDE="hideCategory";DvtCategoryHideShowEvent.TYPE_SHOW="showCategory";DvtCategoryHideShowEvent.prototype.getCategory=function(){return this._category};
var DvtPanEvent=function(a,b,c,d,e,g){this.Init(DvtPanEvent.TYPE);this.type=this.getType();this._subtype=a;this._newX=b;this._newY=c;this._oldX=d;this._oldY=e;this._animator=g};DvtObj.createSubclass(DvtPanEvent,DvtBaseComponentEvent,"DvtPanEvent");DvtPanEvent.TYPE="dvtPan";DvtPanEvent.SUBTYPE_DRAG_PAN_BEGIN="dragPanBegin";DvtPanEvent.SUBTYPE_DRAG_PAN_END="dragPanEnd";DvtPanEvent.SUBTYPE_PANNED="panned";DvtPanEvent.SUBTYPE_PANNING="panning";DvtPanEvent.SUBTYPE_ELASTIC_ANIM_BEGIN="elasticAnimBegin";
DvtPanEvent.SUBTYPE_ELASTIC_ANIM_END="elasticAnimEnd";DvtPanEvent.prototype.getSubType=function(){return this._subtype};DvtPanEvent.prototype.getNewX=function(){return this._newX};DvtPanEvent.prototype.getNewY=function(){return this._newY};DvtPanEvent.prototype.getOldX=function(){return this._oldX};DvtPanEvent.prototype.getOldY=function(){return this._oldY};DvtPanEvent.prototype.getAnimator=function(){return this._animator};
var DvtZoomEvent=function(a,b,c,d,e,g,h,k){this.Init(DvtZoomEvent.TYPE);this.type=this.getType();this._subtype=a;this._newZoom=b;this._oldZoom=c;this._animator=d;this._zoomToFitBounds=e;this._centerPoint=g;this._tx=h;this._ty=k};DvtObj.createSubclass(DvtZoomEvent,DvtBaseComponentEvent,"DvtZoomEvent");DvtZoomEvent.TYPE="dvtZoom";DvtZoomEvent.SUBTYPE_ZOOMED="zoomed";DvtZoomEvent.SUBTYPE_ZOOMING="zooming";DvtZoomEvent.SUBTYPE_ZOOM_END="zoomEnd";DvtZoomEvent.SUBTYPE_DRAG_ZOOM_BEGIN="dragZoomBegin";
DvtZoomEvent.SUBTYPE_DRAG_ZOOM_END="dragZoomEnd";DvtZoomEvent.SUBTYPE_ZOOM_AND_CENTER="zoomAndCenter";DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_CALC_BOUNDS="zoomToFitCalcBounds";DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_BEGIN="zoomToFitBegin";DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_END="zoomToFitEnd";DvtZoomEvent.SUBTYPE_ELASTIC_ANIM_BEGIN="elasticAnimBegin";DvtZoomEvent.SUBTYPE_ELASTIC_ANIM_END="elasticAnimEnd";DvtZoomEvent.SUBTYPE_ADJUST_PAN_CONSTRAINTS="adjustPanConstraints";DvtZoomEvent.prototype.getSubType=function(){return this._subtype};
DvtZoomEvent.prototype.getNewZoom=function(){return this._newZoom};DvtZoomEvent.prototype.getOldZoom=function(){return this._oldZoom};DvtZoomEvent.prototype.getAnimator=function(){return this._animator};DvtZoomEvent.prototype.setZoomToFitBounds=function(a){this._zoomToFitBounds=a};DvtZoomEvent.prototype.getZoomToFitBounds=function(){return this._zoomToFitBounds};DvtZoomEvent.prototype.getCenterPoint=function(){return this._centerPoint};DvtZoomEvent.prototype.getTx=function(){return this._tx};
DvtZoomEvent.prototype.getTy=function(){return this._ty};var DvtActionEvent=function(a,b,c){this.Init(DvtActionEvent.TYPE);this.type=this.getType();this._subtype=a;this._commandId=b;this._clientId=c};DvtObj.createSubclass(DvtActionEvent,DvtBaseComponentEvent,"DvtActionEvent");DvtActionEvent.TYPE="dvtAct";DvtActionEvent.SUBTYPE_ACTION="action";DvtActionEvent.SUBTYPE_SET_ANCHOR="setAnchor";DvtActionEvent.prototype.getSubType=function(){return this._subtype};DvtActionEvent.prototype.getCommandId=function(){return this._commandId};
DvtActionEvent.prototype.getClientId=function(){return this._clientId};DvtActionEvent.prototype.setClientId=function(a){this._clientId=a};var DvtDrillEvent=function(a,b,c){this.Init(DvtDrillEvent.TYPE);this._id=a;this._series=b;this._group=c};DvtObj.createSubclass(DvtDrillEvent,DvtBaseComponentEvent,"DvtDrillEvent");DvtDrillEvent.TYPE="dvtDrill";DvtDrillEvent.prototype.getId=function(){return this._id};DvtDrillEvent.prototype.getSeries=function(){return this._series};
DvtDrillEvent.prototype.getGroup=function(){return this._group};var DvtEventDispatcher={};DvtObj.createSubclass(DvtEventDispatcher,DvtObj,"DvtEventDispatcher");DvtEventDispatcher.dispatchEvent=function(a,b,c,d){a&&a&&a.call&&a.call(b,d,c)};var DvtIsolateEvent=function(a){this.Init(DvtIsolateEvent.TYPE);this._isolatedRows=a};DvtObj.createSubclass(DvtIsolateEvent,DvtBaseComponentEvent,"DvtIsolateEvent");DvtIsolateEvent.TYPE="isolate";DvtIsolateEvent.prototype.getIsolatedRows=function(){return this._isolatedRows};
var DvtLogEvent=function(a,b,c){this.Init(DvtLogEvent.TYPE);this._logType=a;this._level=b;this._message=c};DvtObj.createSubclass(DvtLogEvent,DvtBaseComponentEvent,"DvtLogEvent");DvtLogEvent.TYPE="log";DvtLogEvent.PERFORMANCE="performance";DvtLogEvent.LOG="log";DvtLogEvent.prototype.getLogType=function(){return this._logType};DvtLogEvent.prototype.getLevel=function(){return this._level};DvtLogEvent.prototype.getMessage=function(){return this._message};var DvtSetPropertyEvent=function(){this.Init(DvtSetPropertyEvent.TYPE)};
DvtObj.createSubclass(DvtSetPropertyEvent,DvtBaseComponentEvent,"DvtSetPropertyEvent");DvtSetPropertyEvent.TYPE="dvtSetPropertyEvent";var DvtToolkitUtils={};DvtObj.createSubclass(DvtToolkitUtils,DvtObj,"DvtToolkitUtils");DvtToolkitUtils.SVG_NS="http://www.w3.org/2000/svg";DvtToolkitUtils.XLINK_NS="http://www.w3.org/1999/xlink";
DvtToolkitUtils.createSvgDocument=function(a){var b=document.createElementNS(DvtToolkitUtils.SVG_NS,"svg");null!=a&&DvtToolkitUtils.setAttrNullNS(b,"id",a);DvtToolkitUtils.setAttrNullNS(b,"width","100%");DvtToolkitUtils.setAttrNullNS(b,"height","100%");DvtAgent.isPlatformIE()&&DvtToolkitUtils.setAttrNullNS(b,"focusable","false");return b};
DvtToolkitUtils.getDragFeedback=function(a,b){a instanceof Array||(a=[a]);var c=DvtDnDUtils.getDragFeedbackBounds(a,b),d=DvtToolkitUtils._getDragFeedbackSVG(a,c),e={};e.width=c.w+2*DvtDragSource.DRAG_FEEDBACK_MARGIN;e.height=c.h+2*DvtDragSource.DRAG_FEEDBACK_MARGIN;d&&(e.svg=d);return e};
DvtToolkitUtils._getDragFeedbackSVG=function(a,b){var c=DvtToolkitUtils.createSvgDocument("dnd"),d="translate("+(DvtDragSource.DRAG_FEEDBACK_MARGIN-b.x)+","+(DvtDragSource.DRAG_FEEDBACK_MARGIN-b.y)+")",e=DvtSvgShapeUtils.createElement("g");DvtToolkitUtils.setAttrNullNS(e,"transform",d);DvtToolkitUtils.appendChildElem(c,e);for(d=0;d<a.length;d++){var g=a[d],h=g.getImpl().getElem().cloneNode(!0);DvtToolkitUtils.getAttrNullNS(h,"filter")&&DvtToolkitUtils.setAttrNullNS(h,"filter",null);var k=DvtSvgShapeUtils.createElement("g");
DvtToolkitUtils.appendChildElem(e,k);for(var g=g.getPathToStage(),m=null,n=1;n<g.length;n++)m?(m=m.clone(),m.concat(g[n].getMatrix())):m=g[n].getMatrix();m&&(g="matrix("+m.getA()+","+m.getC()+","+m.getB()+","+m.getD()+","+m.getTx()+","+m.getTy()+")",DvtToolkitUtils.setAttrNullNS(k,"transform",g));DvtToolkitUtils.appendChildElem(k,h)}return c};DvtToolkitUtils.addDomEventListener=function(a,b,c,d){a&&a.addEventListener&&a.addEventListener(b,c,d)};
DvtToolkitUtils.removeDomEventListener=function(a,b,c,d){a&&a.removeEventListener&&a.removeEventListener(b,c,d)};DvtToolkitUtils.appendChildElem=function(a,b){return a.appendChild(b)};DvtToolkitUtils.getAttrNS=function(a,b,c){return a.getAttributeNS(b,c)};DvtToolkitUtils.getAttrNullNS=function(a,b){return a.getAttributeNS(null,b)};DvtToolkitUtils.hasAttrNS=function(a,b,c){return a.hasAttributeNS(b,c)};DvtToolkitUtils.hasAttrNullNS=function(a,b){return DvtToolkitUtils.hasAttrNS(a,null,b)};
DvtToolkitUtils.setAttrNS=function(a,b,c,d,e){null!=e&&d==e?DvtToolkitUtils.hasAttrNS(a,b,c)&&(DvtAgent.isPlatformIE()&&10>=DvtAgent.getVersion()||DvtAgent.isBrowserChrome()&&!DvtAgent.isEnvironmentTest()&&34<=DvtAgent.getVersion()&&"text"==a.nodeName&&("x"==c||"y"==c)?a.setAttributeNS(b,c,d):DvtToolkitUtils.removeAttrNS(a,b,c)):a.setAttributeNS(b,c,d)};DvtToolkitUtils.setAttrNullNS=function(a,b,c,d){DvtToolkitUtils.setAttrNS(a,null,b,c,d)};
DvtToolkitUtils.removeAttrNS=function(a,b,c){DvtToolkitUtils.hasAttrNS(a,b,c)&&a.removeAttributeNS(b,c)};DvtToolkitUtils.removeAttrNullNS=function(a,b){DvtToolkitUtils.removeAttrNS(a,null,b)};DvtToolkitUtils.getLinkCallback=function(a,b){return a||b?function(){if(null==a)self.location=b;else{var c=window.open(b,a);c&&c.focus()}}:null};DvtToolkitUtils.roundDecimal=function(a){return DvtAgent.isEnvironmentTest()?Math.round(1E3*a)/1E3:a};
DvtToolkitUtils.getUrlById=function(a){return"url("+((DvtAgent.isPlatformIE()?null!=document.querySelector("base"):document.URL!=document.baseURI)?document.URL+"#":"#")+a+")"};DvtToolkitUtils.setSvgSize=function(a,b,c){a=a.getSvgDocument();DvtToolkitUtils.setAttrNullNS(a,"width",b+"px");DvtToolkitUtils.setAttrNullNS(a,"height",c+"px")};DvtToolkitUtils.getOuterDivSize=function(a){a=a.getSvgDocument().parentNode;a=window.getComputedStyle(a);return new DvtDimension(parseFloat(a.width),parseFloat(a.height))};
DvtBundle.addDefaultStrings(DvtBundle.UTIL_PREFIX,{SCALING_SUFFIX_THOUSAND:"K",SCALING_SUFFIX_MILLION:"M",SCALING_SUFFIX_BILLION:"B",SCALING_SUFFIX_TRILLION:"T",SCALING_SUFFIX_QUADRILLION:"Q",NUMBER_FORMAT_DECIMAL_SEPARATOR:".",NUMBER_FORMAT_GROUPING_SEPARATOR:",",NUMBER_FORMAT_GROUPING_SIZE:3,MONTH_JANUARY:"January",MONTH_FEBRUARY:"February",MONTH_MARCH:"March",MONTH_APRIL:"April",MONTH_MAY:"May",MONTH_JUNE:"June",MONTH_JULY:"July",MONTH_AUGUST:"August",MONTH_SEPTEMBER:"September",MONTH_OCTOBER:"October",
MONTH_NOVEMBER:"November",MONTH_DECEMBER:"December",MONTH_SHORT_JANUARY:"Jan",MONTH_SHORT_FEBRUARY:"Feb",MONTH_SHORT_MARCH:"Mar",MONTH_SHORT_APRIL:"Apr",MONTH_SHORT_MAY:"May",MONTH_SHORT_JUNE:"Jun",MONTH_SHORT_JULY:"Jul",MONTH_SHORT_AUGUST:"Aug",MONTH_SHORT_SEPTEMBER:"Sep",MONTH_SHORT_OCTOBER:"Oct",MONTH_SHORT_NOVEMBER:"Nov",MONTH_SHORT_DECEMBER:"Dec",DAY_MONDAY:"Monday",DAY_TUESDAY:"Tuesday",DAY_WEDNESDAY:"Wednesday",DAY_THURSDAY:"Thursday",DAY_FRIDAY:"Friday",DAY_SATURDAY:"Saturday",DAY_SUNDAY:"Sunday",
DAY_SHORT_MONDAY:"Mon",DAY_SHORT_TUESDAY:"Tue",DAY_SHORT_WEDNESDAY:"Wed",DAY_SHORT_THURSDAY:"Thu",DAY_SHORT_FRIDAY:"Fri",DAY_SHORT_SATURDAY:"Sat",DAY_SHORT_SUNDAY:"Sun",TIME_AM:"AM",TIME_PM:"PM",INVALID_DATA:"Invalid data",NO_DATA:"No data to display",CLEAR_SELECTION:"Clear Selection",EXPAND:"Expand",COLLAPSE:"Collapse",DATA_VISUALIZATION:"Data Visualization",STATE_SELECTED:"Selected",STATE_UNSELECTED:"Unselected",STATE_MAXIMIZED:"Maximized",STATE_MINIMIZED:"Minimized",STATE_EXPANDED:"Expanded",STATE_COLLAPSED:"Collapsed",
STATE_ISOLATED:"Isolated",STATE_HIDDEN:"Hidden",STATE_VISIBLE:"Visible",STATE_DRILLABLE:"Drillable",ARIA_LABEL_STATE_DELIMITER:", ",ARIA_LABEL_DESC_DELIMITER:". ",COLON_SEP_LIST:"{0}: {1}",COUNT_WITH_TOTAL:"{0} of {1}",ZOOM_IN:"Zoom In",ZOOM_OUT:"Zoom Out",CHART:"Chart",DIAGRAM:"Diagram",GAUGE:"Gauge",HIERARCHY_VIEWER:"Hierarchy Viewer",LEGEND:"Legend",NBOX:"{0} Box",PICTOCHART:"Picture Chart",SUNBURST:"Sunburst",TAG_CLOUD:"Tag Cloud",THEMATIC_MAP:"Thematic Map",TIMELINE:"Timeline",TIMELINE_SERIES:"Series",
TREEMAP:"Treemap"});var DvtSvgDocumentUtils=function(){};DvtObj.createSubclass(DvtSvgDocumentUtils,DvtObj,"DvtSvgDocumentUtils");DvtSvgDocumentUtils.elementFromPoint=function(a,b){for(var c=document.elementFromPoint(a,b);c;){if(c._obj&&c._obj.getObj&&c._obj.getObj())return c._obj.getObj();c=c.parentNode}return null};DvtSvgDocumentUtils.elementFromTouch=function(a){return this.elementFromPoint(a.clientX,a.clientY)};
DvtSvgDocumentUtils.isFilterSupported=function(a){return!(DvtAgent.isPlatformIE()&&10>DvtAgent.getVersion())&&!(DvtAgent.isBrowserSafari()&&536>DvtAgent.getVersion())&&!(DvtAgent.isTouchDevice()&&!DvtAgent.isBrowserSafari())};DvtSvgDocumentUtils.isEventAvailableOutsideClip=function(){return DvtAgent.isBrowserSafari()};DvtSvgDocumentUtils.isFilterStraightLineAdjustmentNeeded=function(){return DvtAgent.isPlatformGecko()};
DvtSvgDocumentUtils.fixGeckoContainerForFilter=function(a){if(a&&DvtAgent.isPlatformGecko()&&(a=a.getImpl().getElem())){var b=DvtToolkitUtils.getAttrNullNS(a,"transform");b||(b="matrix(1 0 0 1 0 0)");DvtToolkitUtils.setAttrNullNS(a,"transform",b)}};DvtSvgDocumentUtils.cancelDomEvent=function(a){a&&(a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1)};
DvtSvgDocumentUtils.addDragListeners=function(a,b,c,d,e,g){var h=DvtAgent.isTouchDevice(),k=a.getCtx(),m=DvtAgent.isEnvironmentBrowser()?document.body.style:{},n=function(a){b.call(e,a)&&(h?(document.addEventListener("touchmove",t,!0),document.addEventListener("touchend",u,!0)):(document.addEventListener("mousemove",t,!0),document.addEventListener("mouseup",u,!0),g&&document.addEventListener("click",v,!0)),DvtSvgDocumentUtils._webkitUserSelect=m.webkitUserSelect,DvtSvgDocumentUtils._mozUserSelect=
m.MozUserSelect,m.webkitUserSelect="none",m.MozUserSelect="none")},t=function(a){a=DvtSvgEventFactory.newEvent(a,k);c.call(e,a)},u=function(a){h?(document.removeEventListener("touchmove",t,!0),document.removeEventListener("touchend",u,!0)):(document.removeEventListener("mousemove",t,!0),document.removeEventListener("mouseup",u,!0),h||setTimeout(function(){document.removeEventListener("click",v,!0)},50));m.webkitUserSelect=DvtSvgDocumentUtils._webkitUserSelect;m.MozUserSelect=DvtSvgDocumentUtils._mozUserSelect;
a=DvtSvgEventFactory.newEvent(a,k);d.call(e,a)},v=function(a){a.stopPropagation()};h?a.addEvtListener(DvtTouchEvent.TOUCHSTART,n):a.addEvtListener(DvtMouseEvent.MOUSEDOWN,n);return function(){h?(document.removeEventListener("touchmove",t,!0),document.removeEventListener("touchend",u,!0)):(document.removeEventListener("mousemove",t,!0),document.removeEventListener("mouseup",u,!0),document.removeEventListener("click",v,!0));m.webkitUserSelect=DvtSvgDocumentUtils._webkitUserSelect;m.MozUserSelect=DvtSvgDocumentUtils._mozUserSelect}};
var DvtSvgImageLoader={_cache:{}};DvtObj.createSubclass(DvtSvgImageLoader,DvtObj,"DvtSvgImageLoader");DvtSvgImageLoader.addBubbleEventListener=function(a,b,c){return window.addEventListener?(DvtToolkitUtils.addDomEventListener(a,b,c,!1),!0):window.attachEvent?(a.attachEvent("on"+b,c),!0):!1};DvtSvgImageLoader.loadImage=function(a,b){var c=this._cache[a];if(c)if(c._image)DvtSvgImageLoader._addListenerToQueue(c._listeners,b);else return b&&b(c),c;else this.loadNewImage(a,b);return null};
DvtSvgImageLoader.loadNewImage=function(a,b){var c=document.createElement("img"),d={_listeners:[],url:a,_image:c};b&&DvtSvgImageLoader._addListenerToQueue(d._listeners,b);this._cache[a]=d;DvtSvgImageLoader.addBubbleEventListener(c,"load",function(a){d.width=c.width;d.height=c.height;delete d._image;var b=d._listeners.length;for(a=0;a<b;a++)if(d._listeners[a])d._listeners[a](d);delete d._listeners});c.src=a};
DvtSvgImageLoader._addListenerToQueue=function(a,b){if(b){for(var c=0;c<a.length;c++)if(a[c]===b)return;a.push(b)}};var DvtSvgBaseEvent=function(a){this.Init(a)};DvtObj.createSubclass(DvtSvgBaseEvent,DvtObj,"DvtSvgBaseEvent");DvtSvgBaseEvent.prototype.Init=function(a){this._event=a;this._isPropagationStopped=!1;this.target=DvtSvgBaseEvent.FindDisplayable(a.target);this.type=a.type};DvtSvgBaseEvent.prototype.getNativeEvent=function(){return this._event};
DvtSvgBaseEvent.prototype.preventDefault=function(){this._event.cancelable&&this._event.preventDefault()};DvtSvgBaseEvent.prototype.stopPropagation=function(){this._event.stopPropagation&&this._event.stopPropagation();this._event.cancelBubble=!0;this._event.cancel=!0;this._event.returnValue=!1;this._isPropagationStopped=!0};DvtSvgBaseEvent.prototype.isPropagationStopped=function(){return this._isPropagationStopped};
DvtSvgBaseEvent.FindDisplayable=function(a){for(;a;){if(a._obj&&a._obj.getObj&&a._obj.getObj())return a._obj.getObj();a=a.parentNode}return null};var DvtSvgEventFactory={};DvtObj.createSubclass(DvtSvgEventFactory,DvtObj,"DvtSvgEventFactory");
DvtSvgEventFactory.newEvent=function(a,b){var c=a.type;if(c==DvtTouchEvent.TOUCHSTART||c==DvtTouchEvent.TOUCHMOVE||c==DvtTouchEvent.TOUCHEND||c==DvtTouchEvent.TOUCHCANCEL)return new DvtSvgTouchEvent(a,b);if(c==DvtKeyboardEvent.KEYDOWN||c==DvtKeyboardEvent.KEYUP||c==DvtKeyboardEvent.KEYPRESS)return new DvtSvgKeyboardEvent(a);b._nativeEvent!=a&&(b._nativeEvent=a,b._logicalEvent=c==DvtFocusEvent.FOCUS||c==DvtFocusEvent.FOCUSIN||c==DvtFocusEvent.FOCUSOUT||c==DvtFocusEvent.BLUR?new DvtSvgFocusEvent(a):
new DvtSvgMouseEvent(a));return b._logicalEvent};DvtSvgEventFactory.generateMouseEventFromKeyboardEvent=function(a,b,c,d,e,g){d=null;document.createEvent&&(d=document.createEvent("MouseEvents"),e=b.stageToPageCoords(e,g),d.initMouseEvent(c,!0,!0,window,1,e.x,e.y,e.x,e.y,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null));return d?(b=DvtSvgEventFactory.newEvent(d,b),b.target=a.target,b):null};var DvtSvgFocusEvent=function(a){this.Init(a)};DvtObj.createSubclass(DvtSvgFocusEvent,DvtSvgBaseEvent,"DvtSvgFocusEvent");
DvtSvgFocusEvent.prototype.Init=function(a){DvtSvgFocusEvent.superclass.Init.call(this,a);null!=a.relatedTarget&&(this.relatedTarget=DvtSvgBaseEvent.FindDisplayable(a.relatedTarget));this.bubbles=a.bubbles;this.cancelable=a.cancelable;this.view=a.view};var DvtSvgKeyboardEvent=function(a){this.Init(a)};DvtObj.createSubclass(DvtSvgKeyboardEvent,DvtKeyboardEvent,"DvtSvgKeyboardEvent");
DvtSvgKeyboardEvent.prototype.Init=function(a){DvtSvgKeyboardEvent.superclass.Init.call(this,a.type,a.bubbles,a.cancelable,a.view,a.charCode,a.keyCode,a.location,a.ctrlKey||a.metaKey,a.altKey,a.shiftKey,a.repeat,a.locale);this._event=a};DvtSvgKeyboardEvent.prototype.getNativeEvent=function(){return this._event};DvtSvgKeyboardEvent.prototype.preventDefault=function(){this._event.preventDefault()};
DvtSvgKeyboardEvent.prototype.stopPropagation=function(){this._event.stopPropagation&&this._event.stopPropagation();this._event.cancelBubble=!0;this._event.cancel=!0;this._event.returnValue=!1};var DvtSvgMouseEvent=function(a){this.Init(a)};DvtObj.createSubclass(DvtSvgMouseEvent,DvtSvgBaseEvent,"DvtSvgMouseEvent");
DvtSvgMouseEvent.prototype.Init=function(a){DvtSvgMouseEvent.superclass.Init.call(this,a);null!=a.relatedTarget&&(this.relatedTarget=DvtSvgBaseEvent.FindDisplayable(a.relatedTarget));this.button=a.button;this.ctrlKey=a.ctrlKey||a.metaKey;this.shiftKey=a.shiftKey;this.pageX=a.pageX;this.pageY=a.pageY;this._isEventModifiedForIE=!1;null!=a.wheelDeltaY?this.wheelDelta=a.wheelDeltaY/40:null!=a.deltaY?(this.deltaMode=a.deltaMode,this.deltaY=a.deltaY,a.deltaMode==a.DOM_DELTA_LINE?this.wheelDelta=-a.deltaY:
a.deltaMode==a.DOM_DELTA_PIXEL&&(this.wheelDelta=-a.deltaY/15)):this.wheelDelta=null!=a.wheelDelta?a.wheelDelta/40:a.detail};DvtSvgMouseEvent.prototype.modifyEventForIE=function(a,b){this._isEventModifiedForIE||(this.type=a,this.relatedTarget=this.target,this.target=DvtSvgBaseEvent.FindDisplayable(b),this._isEventModifiedForIE=!0)};var DvtSvgTouchEvent=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtSvgTouchEvent,DvtSvgBaseEvent,"DvtSvgTouchEvent");
DvtSvgTouchEvent.prototype.Init=function(a,b){DvtSvgTouchEvent.superclass.Init.call(this,a);a.type==DvtTouchEvent.TOUCHCANCEL&&(this.type=DvtTouchEvent.TOUCHEND);this._nativeTouches=a.touches;this._nativeTargetTouches=a.targetTouches;this._nativeChangedTouches=a.changedTouches;this.touches=DvtSvgTouchEvent.createTouchArray(a.touches);this.targetTouches=DvtSvgTouchEvent.createTouchArray(a.targetTouches);this.changedTouches=DvtSvgTouchEvent.createTouchArray(a.changedTouches);this._context=b;this._touchManager=
null};DvtSvgTouchEvent.prototype.blockTouchHold=function(){this._event._touchHoldBlocked=!0};DvtSvgTouchEvent.prototype.isInitialTouch=function(){return 0==this.touches.length-this.changedTouches.length};DvtSvgTouchEvent.prototype.isTouchHoldBlocked=function(){return this._event._touchHoldBlocked?!0:!1};DvtSvgTouchEvent.createTouchArray=function(a){for(var b=[],c=0;c<a.length;c++){var d=new DvtTouch(a[c]);b.push(d)}return b};
DvtSvgTouchEvent.prototype.stopPropagation=function(){DvtSvgTouchEvent.superclass.stopPropagation.call(this);this._touchManager&&this._touchManager.postEventBubble(this)};DvtSvgTouchEvent.prototype.setTouchManager=function(a){this._touchManager=a};var DvtHtmlRichTooltipManager=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtHtmlRichTooltipManager,DvtHtmlTooltipManager,"DvtHtmlRichTooltipManager");
DvtHtmlRichTooltipManager.prototype.Init=function(a,b){this._storedContexts={};DvtHtmlRichTooltipManager.superclass.Init.call(this,a,b)};DvtHtmlRichTooltipManager.prototype.InitContent=function(a){a.innerHTML="";a=new DvtContext(a,"DvtCustomTooltip");this._storedContexts[this._domElementId]=a};DvtHtmlRichTooltipManager.prototype.GetStoredContext=function(){return this._storedContexts[this._domElementId]};
DvtHtmlRichTooltipManager.prototype.showRichElement=function(a,b,c,d){this.showRichElementAtPosition(a,b,c,d,!1)};
DvtHtmlRichTooltipManager.prototype.showRichElementAtPosition=function(a,b,c,d,e){var g=this.getTooltipElem();g.style.position="absolute";g.style.zIndex=2147483647;var h=this.GetStoredContext();if(h){h=h.getStage();h.removeChildren();var k=c.getRootDisplayable();h.addChild(k);c&&c.Render&&c.Render();h=h.getImpl().getSVGRoot();DvtToolkitUtils.setAttrNullNS(h,"width",c.getDisplayWidth());DvtToolkitUtils.setAttrNullNS(h,"height",c.getDisplayHeight());this.PostElement(g,a,b,e,d)}};
DvtHtmlRichTooltipManager.prototype.hideTooltip=function(){DvtHtmlRichTooltipManager.superclass.hideTooltip.call(this);var a=this.GetStoredContext();a&&a.getStage().removeChildren()};var DvtSvgImplFactory=function(a){this._context=a};DvtObj.createSubclass(DvtSvgImplFactory,DvtObj,"DvtSvgImplFactory");DvtSvgImplFactory.prototype.newDefs=function(){return DvtSvgShapeUtils.createElement("defs")};
DvtSvgImplFactory.prototype.getImageLoader=function(){return DvtAgent.isEnvironmentBrowser()?DvtSvgImageLoader:DvtJavaImageLoader};DvtSvgImplFactory.prototype.getDocumentUtils=function(){return DvtSvgDocumentUtils};DvtSvgImplFactory.prototype.newParser=function(){return DvtAgent.isEnvironmentBrowser()?new DvtDomXmlParser:new DvtJavaXmlParser};DvtSvgImplFactory.prototype.newTooltipManager=function(a){return new DvtHtmlTooltipManager(this._context,a)};
DvtSvgImplFactory.prototype.newRichTooltipManager=function(a){return new DvtHtmlRichTooltipManager(this._context,a)};var DvtSvgFilterContext=function(){this.Init()};DvtObj.createSubclass(DvtSvgFilterContext,DvtObj,"DvtSvgFilterContext");DvtSvgFilterContext.prototype.Init=function(){this._regionPctRect=new DvtRectangle(-10,-10,120,120);this._counter=0;this._resultIdsUnder=[];this._resultIdsOver=[]};DvtSvgFilterContext.prototype.getRegionPctRect=function(){return this._regionPctRect};
DvtSvgFilterContext.prototype.getResultIdsUnder=function(){return this._resultIdsUnder};DvtSvgFilterContext.prototype.getResultIdsOver=function(){return this._resultIdsOver};DvtSvgFilterContext.prototype.createResultId=function(a){a||(a="filtRes");return a+this._counter++};var DvtSvgFilterUtils=function(){};DvtObj.createSubclass(DvtSvgFilterUtils,DvtObj,"DvtSvgFilterUtils");DvtSvgFilterUtils._counter=0;
DvtSvgFilterUtils.createFilter=function(a,b){for(var c=DvtSvgShapeUtils.createElement("filter",DvtSvgFilterUtils.CreateFilterId()),d=new DvtSvgFilterContext,e=0;e<a.length;e++){var g=a[e];g&&DvtSvgFilterUtils.CreateFilterPrimitives(c,g,b,d)}var h=!1;if(b){var k=b.getElem().getBBox();if(k&&(e=k.width,g=k.height,0==g||0==e)){var m;b.getStroke&&(m=b.getStroke());h=10;m&&(h=m.getWidth());m=k.x;k=k.y;if(DvtSvgDocumentUtils.isFilterStraightLineAdjustmentNeeded()&&b instanceof DvtPolyline){var n=DvtArrayUtils.copy(b.getPoints());
0==e&&(n[0]+=.01);0==g&&(n[1]+=.01);n=DvtSvgShapeUtils.convertPointsArray(n);DvtToolkitUtils.setAttrNullNS(b.getElem(),"points",n)}0==g&&(g=2*h,k-=h);0==e&&(e=2*h,m-=h);DvtToolkitUtils.setAttrNullNS(c,"x",m);DvtToolkitUtils.setAttrNullNS(c,"y",k);DvtToolkitUtils.setAttrNullNS(c,"width",e);DvtToolkitUtils.setAttrNullNS(c,"height",g);DvtToolkitUtils.setAttrNullNS(c,"filterUnits","userSpaceOnUse");h=!0}}h||(-10!=d.getRegionPctRect().x&&"Infinity"!=d.getRegionPctRect().x&&"-Infinity"!=d.getRegionPctRect().x&&
DvtToolkitUtils.setAttrNullNS(c,"x",d.getRegionPctRect().x+"%"),-10!=d.getRegionPctRect().y&&"Infinity"!=d.getRegionPctRect().y&&"-Infinity"!=d.getRegionPctRect().y&&DvtToolkitUtils.setAttrNullNS(c,"y",d.getRegionPctRect().y+"%"),120!=d.getRegionPctRect().w&&"Infinity"!=d.getRegionPctRect().w&&"-Infinity"!=d.getRegionPctRect().w&&DvtToolkitUtils.setAttrNullNS(c,"width",d.getRegionPctRect().w+"%"),120!=d.getRegionPctRect().h&&"Infinity"!=d.getRegionPctRect().h&&"-Infinity"!=d.getRegionPctRect().h&&
DvtToolkitUtils.setAttrNullNS(c,"height",d.getRegionPctRect().h+"%"));e=d.getResultIdsUnder().length;g=d.getResultIdsOver().length;k=DvtSvgShapeUtils.createElement("feMerge");if(0<e)for(m=0;m<e;m++)h=DvtSvgShapeUtils.createElement("feMergeNode"),DvtToolkitUtils.setAttrNullNS(h,"in",d.getResultIdsUnder()[m]),DvtToolkitUtils.appendChildElem(k,h);h=DvtSvgShapeUtils.createElement("feMergeNode");DvtToolkitUtils.setAttrNullNS(h,"in","SourceGraphic");DvtToolkitUtils.appendChildElem(k,h);if(0<g)for(m=0;m<
g;m++)h=DvtSvgShapeUtils.createElement("feMergeNode"),DvtToolkitUtils.setAttrNullNS(h,"in",d.getResultIdsOver()[m]),DvtToolkitUtils.appendChildElem(k,h);DvtToolkitUtils.appendChildElem(c,k);return c};DvtSvgFilterUtils.CreateFilterPrimitives=function(a,b,c,d){b instanceof DvtShadow&&DvtSvgShadowUtils.createFilterPrimitives(a,b,c,d);return null};DvtSvgFilterUtils.CreateFilterId=function(){return"filt"+DvtSvgFilterUtils._counter++};var DvtSvgGradientUtils=function(){};
DvtObj.createSubclass(DvtSvgGradientUtils,DvtObj,"DvtSvgGradientUtils");
DvtSvgGradientUtils.createElem=function(a,b){var c=a instanceof DvtLinearGradientFill||a instanceof DvtLinearGradientStroke,d=DvtSvgShapeUtils.createElement(c?"linearGradient":"radialGradient",b),e,g=a.getColors(),h=a.getAlphas(),k=a.getStops(),m=a.getBounds(),n=g.length;for(e=0;e<n;e++){var t=DvtSvgShapeUtils.createElement("stop");DvtToolkitUtils.setAttrNullNS(t,"offset",""+100*k[e]+"%");var u=g[e];if(u){var v=h[e];(DvtAgent.isEnvironmentBatik()||DvtAgent.isBrowserSafari())&&-1!==u.indexOf("rgba")?
(DvtToolkitUtils.setAttrNullNS(t,"stop-color",DvtColorUtils.getRGB(u)),null!=v?DvtToolkitUtils.setAttrNullNS(t,"stop-opacity",DvtColorUtils.getAlpha(u)*v,1):DvtToolkitUtils.setAttrNullNS(t,"stop-opacity",DvtColorUtils.getAlpha(u),1)):(DvtToolkitUtils.setAttrNullNS(t,"stop-color",u),null!=v&&DvtToolkitUtils.setAttrNullNS(t,"stop-opacity",v,1))}DvtToolkitUtils.appendChildElem(d,t)}n=!m||0==m[0]&&0==m[1]&&0==m[2]&&0==m[3];if(c){t=a.getAngle();e=c="0%";g="100%";h="0%";k=!0;if(n)45===t?g=e="100%":90===
t?(e="100%",g="0%"):135===t?(c="100%",g="0%",h="100%"):270===t?(g="0%",h="100%"):0!==t&&(DvtToolkitUtils.setAttrNullNS(d,"gradientTransform","rotate("+DvtToolkitUtils.roundDecimal(-t)+" .5 .5)"),k=!1);else{DvtToolkitUtils.setAttrNullNS(d,"gradientUnits","userSpaceOnUse");c="0";e="0.5";g="1";h="0.5";u=m[2];v=m[3];n=m[0];m=m[1];t=-t;t="rotate("+DvtToolkitUtils.roundDecimal(t)+" .5 .5)";v="scale("+DvtToolkitUtils.roundDecimal(u)+" "+DvtToolkitUtils.roundDecimal(v)+")";u="translate("+DvtToolkitUtils.roundDecimal(n)+
" "+DvtToolkitUtils.roundDecimal(m)+")";t=v+" "+t;if(0!=n||0!=m)t=u+" "+t;DvtToolkitUtils.setAttrNullNS(d,"gradientTransform",t)}k&&(DvtToolkitUtils.setAttrNullNS(d,"x1",c),DvtToolkitUtils.setAttrNullNS(d,"y1",e),DvtToolkitUtils.setAttrNullNS(d,"x2",g),DvtToolkitUtils.setAttrNullNS(d,"y2",h))}else n||(DvtToolkitUtils.setAttrNullNS(d,"gradientUnits","userSpaceOnUse"),DvtToolkitUtils.setAttrNullNS(d,"cx",a.getCx()),DvtToolkitUtils.setAttrNullNS(d,"cy",a.getCy()),DvtToolkitUtils.setAttrNullNS(d,"fx",
a.getCx()),DvtToolkitUtils.setAttrNullNS(d,"fy",a.getCy()),DvtToolkitUtils.setAttrNullNS(d,"r",a.getRadius()));return d};var DvtSvgImageFillUtils=function(){};DvtObj.createSubclass(DvtSvgImageFillUtils,DvtObj,"DvtSvgImageFillUtils");
DvtSvgImageFillUtils.createElem=function(a,b){var c=DvtSvgShapeUtils.createElement("pattern",b),d=DvtSvgShapeUtils.createElement("image",b),e=a.getSrc(),g=a.getBound();a.getRepeat();g&&(DvtToolkitUtils.setAttrNullNS(c,"x",g.x),DvtToolkitUtils.setAttrNullNS(c,"y",g.y),DvtToolkitUtils.setAttrNullNS(d,"x",g.x),DvtToolkitUtils.setAttrNullNS(d,"y",g.y),DvtToolkitUtils.setAttrNullNS(c,"width",g.w),DvtToolkitUtils.setAttrNullNS(c,"height",g.h),DvtToolkitUtils.setAttrNullNS(d,"width",g.w),DvtToolkitUtils.setAttrNullNS(d,
"height",g.h),DvtToolkitUtils.setAttrNullNS(c,"patternUnits","userSpaceOnUse"),e&&DvtToolkitUtils.setAttrNS(d,DvtImage.XLINK_NS,"xlink:href",e));DvtToolkitUtils.appendChildElem(c,d);return c};var DvtSvgPatternFillUtils=function(){};DvtObj.createSubclass(DvtSvgPatternFillUtils,DvtObj,"DvtSvgPatternFillUtils");DvtSvgPatternFillUtils._SM_WIDTH=8;DvtSvgPatternFillUtils._SM_HEIGHT=8;DvtSvgPatternFillUtils._LG_WIDTH=16;DvtSvgPatternFillUtils._LG_HEIGHT=16;
DvtSvgPatternFillUtils.createElem=function(a,b){var c=DvtSvgShapeUtils.createElement("pattern",b),d=a.getPattern(),e;DvtSvgPatternFillUtils.IsSmallPattern(d)?(d=DvtSvgPatternFillUtils._SM_WIDTH,e=DvtSvgPatternFillUtils._SM_HEIGHT):(d=DvtSvgPatternFillUtils._LG_WIDTH,e=DvtSvgPatternFillUtils._LG_HEIGHT);DvtToolkitUtils.setAttrNullNS(c,"x",0);DvtToolkitUtils.setAttrNullNS(c,"y",0);DvtToolkitUtils.setAttrNullNS(c,"width",d);DvtToolkitUtils.setAttrNullNS(c,"height",e);DvtToolkitUtils.setAttrNullNS(c,
"patternUnits","userSpaceOnUse");if(d=a.getMatrix())d="matrix("+d.getA()+","+d.getC()+","+d.getB()+","+d.getD()+","+d.getTx()+","+d.getTy()+")",DvtToolkitUtils.setAttrNullNS(c,"patternTransform",d);DvtSvgPatternFillUtils.CreatePatternElems(a,c);return c};DvtSvgPatternFillUtils.IsSmallPattern=function(a){return"s"===a.charAt(0)};
DvtSvgPatternFillUtils.CreatePatternElems=function(a,b){var c,d,e,g,h,k,m;h=a.getPattern();var n=a.getColor(),t=DvtColorUtils.getRGB(n),n=DvtColorUtils.getAlpha(n);c=a.getBackgroundColor();k=DvtColorUtils.getRGB(c);var u=DvtColorUtils.getAlpha(c);DvtSvgPatternFillUtils.IsSmallPattern(h)?(c=DvtSvgPatternFillUtils._SM_WIDTH,d=DvtSvgPatternFillUtils._SM_HEIGHT,e=DvtSvgPatternFillUtils._SM_WIDTH,g=DvtSvgPatternFillUtils._SM_HEIGHT):(c=DvtSvgPatternFillUtils._LG_WIDTH,d=DvtSvgPatternFillUtils._LG_HEIGHT,
e=DvtSvgPatternFillUtils._LG_WIDTH,g=DvtSvgPatternFillUtils._LG_HEIGHT);k&&0<u&&(m=DvtSvgShapeUtils.createElement("rect"),DvtToolkitUtils.setAttrNullNS(m,"stroke",k),DvtToolkitUtils.setAttrNullNS(m,"stroke-opacity",u),DvtToolkitUtils.setAttrNullNS(m,"stroke-width",1),DvtToolkitUtils.setAttrNullNS(m,"fill",k),DvtToolkitUtils.setAttrNullNS(m,"fill-opacity",u),DvtToolkitUtils.setAttrNullNS(m,"x",0),DvtToolkitUtils.setAttrNullNS(m,"y",0),DvtToolkitUtils.setAttrNullNS(m,"width",c),DvtToolkitUtils.setAttrNullNS(m,
"height",d),DvtToolkitUtils.appendChildElem(b,m));if(h===DvtPatternFill.SM_DIAG_UP_LT||h===DvtPatternFill.LG_DIAG_UP_LT)m=DvtSvgShapeUtils.createElement("path"),DvtToolkitUtils.setAttrNullNS(m,"stroke",t),DvtToolkitUtils.setAttrNullNS(m,"stroke-opacity",n),DvtToolkitUtils.setAttrNullNS(m,"stroke-width",1),DvtToolkitUtils.setAttrNullNS(m,"stroke-linecap","square"),DvtToolkitUtils.setAttrNullNS(m,"d",DvtPathUtils.moveTo(0,-g/2)+DvtPathUtils.lineTo(3*e/2,g)+DvtPathUtils.moveTo(-e/2,0)+DvtPathUtils.lineTo(e/
2,g)),DvtToolkitUtils.appendChildElem(b,m);else if(h===DvtPatternFill.SM_DIAG_UP_RT||h===DvtPatternFill.LG_DIAG_UP_RT)m=DvtSvgShapeUtils.createElement("path"),DvtToolkitUtils.setAttrNullNS(m,"stroke",t),DvtToolkitUtils.setAttrNullNS(m,"stroke-opacity",n),DvtToolkitUtils.setAttrNullNS(m,"stroke-width",1),DvtToolkitUtils.setAttrNullNS(m,"stroke-linecap","square"),DvtToolkitUtils.setAttrNullNS(m,"d",DvtPathUtils.moveTo(-e/2,g)+DvtPathUtils.lineTo(e,-g/2)+DvtPathUtils.moveTo(0,3*g/2)+DvtPathUtils.lineTo(3*
e/2,0)),DvtToolkitUtils.appendChildElem(b,m);else if(h===DvtPatternFill.SM_CROSSHATCH||h===DvtPatternFill.LG_CROSSHATCH)m=DvtSvgShapeUtils.createElement("path"),DvtToolkitUtils.setAttrNullNS(m,"stroke",t),DvtToolkitUtils.setAttrNullNS(m,"stroke-opacity",n),DvtToolkitUtils.setAttrNullNS(m,"stroke-width",1),DvtToolkitUtils.setAttrNullNS(m,"d","M0,0L"+c+","+d+"M"+c+",0L0,"+d),DvtToolkitUtils.appendChildElem(b,m);else if(h===DvtPatternFill.SM_CHECK||h===DvtPatternFill.LG_CHECK)h=e/2,k=g/2,m=DvtSvgShapeUtils.createElement("path"),
DvtToolkitUtils.setAttrNullNS(m,"stroke",t),DvtToolkitUtils.setAttrNullNS(m,"stroke-opacity",n),DvtToolkitUtils.setAttrNullNS(m,"stroke-width",1),DvtToolkitUtils.setAttrNullNS(m,"fill",t),DvtToolkitUtils.setAttrNullNS(m,"fill-opacity",n),DvtToolkitUtils.setAttrNullNS(m,"d","M"+h+",0L"+e+",0L"+e+","+k+"L"+h+","+k+"ZM0,"+k+"L"+h+","+k+"L"+h+","+g+"L0,"+g+"Z"),DvtToolkitUtils.appendChildElem(b,m);else if(h===DvtPatternFill.SM_TRIANGLE_CHECK||h===DvtPatternFill.LG_TRIANGLE_CHECK)m=DvtSvgShapeUtils.createElement("polygon"),
DvtToolkitUtils.setAttrNullNS(m,"stroke",t),DvtToolkitUtils.setAttrNullNS(m,"stroke-opacity",n),DvtToolkitUtils.setAttrNullNS(m,"stroke-width",1),DvtToolkitUtils.setAttrNullNS(m,"fill",t),DvtToolkitUtils.setAttrNullNS(m,"fill-opacity",n),DvtToolkitUtils.setAttrNullNS(m,"points","0,"+d+" "+c+",0 "+c+","+d),DvtToolkitUtils.appendChildElem(b,m);else if(h===DvtPatternFill.SM_DIAMOND_CHECK||h===DvtPatternFill.LG_DIAMOND_CHECK)h=e/2,k=g/2,m=DvtSvgShapeUtils.createElement("polygon"),DvtToolkitUtils.setAttrNullNS(m,
"stroke",t),DvtToolkitUtils.setAttrNullNS(m,"stroke-opacity",n),DvtToolkitUtils.setAttrNullNS(m,"stroke-width",1),DvtToolkitUtils.setAttrNullNS(m,"fill",t),DvtToolkitUtils.setAttrNullNS(m,"fill-opacity",n),DvtToolkitUtils.setAttrNullNS(m,"points","0,"+k+" "+h+",0 "+c+","+h+" "+h+","+d),DvtToolkitUtils.appendChildElem(b,m)};var DvtSvgShadowUtils=function(){};DvtObj.createSubclass(DvtSvgShadowUtils,DvtObj,"DvtSvgShadowUtils");DvtSvgShadowUtils.RADS_PER_DEGREE=Math.PI/180;
DvtSvgShadowUtils.createFilter=function(a,b){var c;if(!a.isLocked()){var d=new DvtSvgFilterContext;c=DvtSvgShapeUtils.createElement("filter",a._Id);DvtSvgShadowUtils.createFilterPrimitives(c,a,b,d);var e=DvtSvgShapeUtils.createElement("feMerge"),g=DvtSvgShapeUtils.createElement("feMergeNode");DvtToolkitUtils.setAttrNullNS(g,"in",d.getResultIdsUnder()[0]);d=DvtSvgShapeUtils.createElement("feMergeNode");DvtToolkitUtils.setAttrNullNS(d,"in","SourceGraphic");DvtToolkitUtils.appendChildElem(c,e);DvtToolkitUtils.appendChildElem(e,
g);DvtToolkitUtils.appendChildElem(e,d)}return c};DvtSvgShadowUtils.createFilterPrimitives=function(a,b,c,d){b._bInner?DvtSvgShadowUtils.CreateInnerFilterPrimitives(a,b,c,d):DvtSvgShadowUtils.CreateOuterFilterPrimitives(a,b,c,d)};
DvtSvgShadowUtils.CreateOuterFilterPrimitives=function(a,b,c,d){var e=b._rgba,g=DvtColorUtils.getRed(e)/255,h=DvtColorUtils.getGreen(e)/255,k=DvtColorUtils.getBlue(e)/255,m=DvtColorUtils.getAlpha(e),n=b._strength,t=b._blurX,u=b._blurY,v=e=0;0<b._blurX&&(e=Math.max(b._blurX/3,1));0<b._blurY&&(v=Math.max(b._blurY/3,1));var w=b._distance,x=b._angle*DvtSvgShadowUtils.RADS_PER_DEGREE;b=Math.cos(x)*w;var x=Math.sin(x)*w,y=c.getDimensions(c.getParent());if(y){var z=Math.abs(w),A=2*t,B=2*t,t=2*u,u=2*u;0<
w?(A-=z,t-=z,B+=z,u+=z):0>w&&(A+=z,t+=z,B-=z,u-=z);0>A&&(A=0);0>t&&(t=0);0>B&&(B=0);0>u&&(u=0);w=A/y.w*100;z=B/y.w*100;t=t/y.h*100;y=u/y.h*100;d.getRegionPctRect().x>-w&&(d.getRegionPctRect().x=-w);d.getRegionPctRect().y>-t&&(d.getRegionPctRect().y=-t);d.getRegionPctRect().w<100+w+z&&(d.getRegionPctRect().w=100+w+z);d.getRegionPctRect().h<100+t+y&&(d.getRegionPctRect().h=100+t+y)}c instanceof DvtPolyline&&(c=c.getStroke().getWidth(),1<c&&(d.getRegionPctRect().h=d.getRegionPctRect().h+c,d.getRegionPctRect().y=
d.getRegionPctRect().y-c));c=DvtSvgShapeUtils.createElement("feColorMatrix");DvtToolkitUtils.setAttrNullNS(c,"in","SourceGraphic");DvtToolkitUtils.setAttrNullNS(c,"type","matrix");DvtToolkitUtils.setAttrNullNS(c,"values","0 0 0 "+g+" 0 0 0 0 "+h+" 0 0 0 0 "+k+" 0 0 0 0 "+m*n+" 0");g=DvtSvgShapeUtils.createElement("feGaussianBlur");h=e;e!==v&&(h+=" "+v);DvtToolkitUtils.setAttrNullNS(g,"stdDeviation",h);v=d.createResultId("blur");DvtToolkitUtils.setAttrNullNS(g,"result",v);e=DvtSvgShapeUtils.createElement("feOffset");
DvtToolkitUtils.setAttrNullNS(e,"dx",b);DvtToolkitUtils.setAttrNullNS(e,"dy",x);DvtToolkitUtils.setAttrNullNS(e,"in",v);b=d.createResultId("offset");DvtToolkitUtils.setAttrNullNS(e,"result",b);d.getResultIdsUnder().push(b);DvtToolkitUtils.appendChildElem(a,c);DvtToolkitUtils.appendChildElem(a,g);DvtToolkitUtils.appendChildElem(a,e)};
DvtSvgShadowUtils.CreateInnerFilterPrimitives=function(a,b,c,d){c=b._rgba;var e=DvtColorUtils.getRed(c)/255,g=DvtColorUtils.getGreen(c)/255,h=DvtColorUtils.getBlue(c)/255,g=DvtColorUtils.makeRGB(e,g,h),k=DvtColorUtils.getAlpha(c),m=Math.max(b._blurX/2,1),n=Math.max(b._blurY/2,1),h=b._distance,e=b._strength;b=b._angle*DvtSvgShadowUtils.RADS_PER_DEGREE;c=Math.cos(b)*h;h*=Math.sin(b);b=DvtSvgShapeUtils.createElement("feFlood");DvtToolkitUtils.setAttrNullNS(b,"in","SourceGraphic");DvtToolkitUtils.setAttrNullNS(b,
"flood-opacity",k);DvtToolkitUtils.setAttrNullNS(b,"flood-color",g);k=d.createResultId("flood");DvtToolkitUtils.setAttrNullNS(b,"result",k);g=DvtSvgShapeUtils.createElement("feComposite");DvtToolkitUtils.setAttrNullNS(g,"operator","out");DvtToolkitUtils.setAttrNullNS(g,"in",k);DvtToolkitUtils.setAttrNullNS(g,"in2","SourceGraphic");var k=DvtSvgShapeUtils.createElement("feGaussianBlur"),t=m;m!==n&&(t+=" "+n);DvtToolkitUtils.setAttrNullNS(k,"stdDeviation",t);n=d.createResultId("blur");DvtToolkitUtils.setAttrNullNS(k,
"result",n);m=DvtSvgShapeUtils.createElement("feColorMatrix");DvtToolkitUtils.setAttrNullNS(m,"in",n);DvtToolkitUtils.setAttrNullNS(m,"type","matrix");DvtToolkitUtils.setAttrNullNS(m,"values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 "+e+" 0");n=d.createResultId("colMat");DvtToolkitUtils.setAttrNullNS(m,"result",n);e=DvtSvgShapeUtils.createElement("feOffset");DvtToolkitUtils.setAttrNullNS(e,"dx",c);DvtToolkitUtils.setAttrNullNS(e,"dy",h);DvtToolkitUtils.setAttrNullNS(e,"in",n);h=d.createResultId("offset");
DvtToolkitUtils.setAttrNullNS(e,"result",h);c=DvtSvgShapeUtils.createElement("feComposite");DvtToolkitUtils.setAttrNullNS(c,"operator","in");DvtToolkitUtils.setAttrNullNS(c,"in",h);DvtToolkitUtils.setAttrNullNS(c,"in2","SourceGraphic");h=d.createResultId("comp");DvtToolkitUtils.setAttrNullNS(c,"result",h);d.getResultIdsOver().push(h);DvtToolkitUtils.appendChildElem(a,b);DvtToolkitUtils.appendChildElem(a,g);DvtToolkitUtils.appendChildElem(a,k);DvtToolkitUtils.appendChildElem(a,m);DvtToolkitUtils.appendChildElem(a,
e);DvtToolkitUtils.appendChildElem(a,c)};