var DvtComboBox=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtComboBox,DvtContainer,"DvtComboBox");DvtComboBox._HIDE_DROPDOWN_DELAY=100;DvtComboBox._DROPDOWN_OUTOFFOCUS_CHECK=100;
DvtComboBox.prototype.Init=function(a,b,c){DvtComboBox.superclass.Init.call(this,a,null,b);this._styleMap=c;this._itemButtonStates=[];this._items=[];this._tooltips=[];this._selectedIndex=0;this._bRemoveDropdown=this._bStaticButtonStates=!1;this._maxItemDim=new DvtRectangle(0,0,0,0);this._itemDim=new DvtRectangle(0,0,0,0);this._tooltipManager=a.getTooltipManager();this._isTouchDevice=DvtAgent.isTouchDevice();this._button=this.createButton(b+"_cl");this.addChild(this._button);this._contentArea=new DvtContainer(a);
this._contentArea.setMouseEnabled(!1);this.addChild(this._contentArea);this._hideDropdownTimer=new DvtTimer(a,DvtComboBox._HIDE_DROPDOWN_DELAY,this.HandleHideDropdownTimer,this,1);this._outOfFocusCheckTimer=new DvtTimer(a,DvtComboBox._DROPDOWN_OUTOFFOCUS_CHECK,this.HandleOutOfFocusCheckTimer,this,1);this._dropdownItemClickEvent=!1};DvtComboBox.prototype._stopHideDropdownTimer=function(){this._hideDropdownTimer&&(this._hideDropdownTimer.stop(),this._hideDropdownTimer=null)};
DvtComboBox.prototype.getSelectedIndex=function(){return this._selectedIndex};DvtComboBox.prototype.setSelectedIndex=function(a){this._selectedIndex=a;this._bStaticButtonStates||this.UpdateContentArea();this.FireChangeEvent(a)};
DvtComboBox.prototype.createButton=function(a){a=new DvtButton(this.getCtx(),this.createUpState(a),this.createDownState(a),this.createOverState(a),null,a);a.setCallback(this.HandleExpandClick,this);this._isTouchDevice||a.addEvtListener(DvtMouseEvent.MOUSEDOWN,this.HandleButtonDown,!1,this);a.setToggleEnabled(!0);return a};
DvtComboBox.prototype.createUpState=function(a){var b=this.getCtx();a=new DvtRect(b,0,0,this._itemDim.w,this._itemDim.h,a+"_up");a.setCornerRadius(DvtButtonLAFUtils.ROUND_RECT_ELLIPSE);a.setInvisibleFill();a.addChild(DvtComboBox.DrawArrow(b,a.getWidth(),a.getHeight()));return a};
DvtComboBox.prototype.createOverState=function(a){var b=this.getCtx();a=new DvtRect(b,0,0,this._itemDim.w,this._itemDim.h,a+"_up");a.setCornerRadius(DvtButtonLAFUtils.ROUND_RECT_ELLIPSE);a.setSolidStroke(DvtButtonLAFUtils.BORDER_COLOR);a.setFill(new DvtLinearGradientFill(0,[DvtButtonLAFUtils.GRADIENT_DARK,DvtButtonLAFUtils.GRADIENT_LIGHT]));a.addChild(DvtComboBox.DrawArrow(b,a.getWidth(),a.getHeight()));return a};
DvtComboBox.prototype.createDownState=function(a){var b=this.getCtx();a=new DvtRect(b,0,0,this._itemDim.w,this._itemDim.h,a+"_up");a.setSolidStroke(DvtButtonLAFUtils.BORDER_COLOR);a.setFill(new DvtLinearGradientFill(0,[DvtButtonLAFUtils.GRADIENT_LIGHT,DvtButtonLAFUtils.GRADIENT_DARK]));a.setCornerRadius(DvtButtonLAFUtils.ROUND_RECT_ELLIPSE);a.addChild(DvtComboBox.DrawArrow(b,a.getWidth(),a.getHeight()));return a};
DvtComboBox.prototype.setStaticButtonStates=function(a,b,c){this._button.setUpState(a);this._button.setDownState(c);this._button.setOverState(b);this._bStaticButtonStates=!0};
DvtComboBox.prototype.addItem=function(a,b,c,d,e){a.setMouseEnabled(!1);this._items.push(a);this._tooltips.push(b);b=DvtButtonLAFUtils._getDimForced(this.getCtx(),c?c:a);var g=this._getMaxItemDim();this.getCtx();b.w>g.w&&(g.w=b.w,this._itemDim.w=b.w+16);b.h>g.h&&(g.h=b.h,this._itemDim.h=b.h);this._maxItemDim=g;b=null;c&&d&&e&&(b=[],b[DvtButton.STATE_ENABLED]=c,b[DvtButton.STATE_OVER]=d,b[DvtButton.STATE_DOWN]=e);this._itemButtonStates.push(b);this._bStaticButtonStates||(this.removeChild(this._button),
this._button=this.createButton(a.getId()),this.addChildAt(this._button,0),this.UpdateContentArea())};DvtComboBox.prototype.getItem=function(a){return this._items[a]};DvtComboBox.prototype.getItemCount=function(){return this._items.length};DvtComboBox.prototype.getItemIndex=function(a){for(var b=0;b<this.getItemCount();b++)if(this.getItem(b)===a)return b;return-1};DvtComboBox.prototype.getSelectedItem=function(){var a=this.getSelectedIndex();return 0>a||a>this._items.length-1?null:this._items[a]};
DvtComboBox.prototype.FireChangeEvent=function(a){a=new DvtComboBoxEvent(DvtComboBoxEvent.SUBTYPE_ITEM_CHANGE,a,this._event);this._event=null;this.FireListener(a);return!0};
DvtComboBox.prototype.HandleExpandClick=function(a){DvtEventManager.consumeEvent(a);this._bRemoveDropdown&&this.RemoveDropdown();a=this.getCtx();this._dropdown=this.createDropdown();var b=DvtButtonLAFUtils._getDimForced(a,this._dropdown);this.addChild(this._dropdown);var c=this._button.getDimensions(),b=DvtAgent.isRightToLeft(a)?-b.w+1*c.w/4:3*c.w/4;this._dropdown.setTranslate(b,3*c.h/4);this._button.setMouseEnabled(!1);this._button.setToggled(!0);this.FireListener(new DvtComboBoxEvent(DvtComboBoxEvent.SUBTYPE_SHOW_DROPDOWN));
(a=a.getStage())&&(this._isTouchDevice?a.addEvtListener(DvtTouchEvent.TOUCHSTART,this.HandleStageMouseFocusChange,!0,this):a.addEvtListener(DvtMouseEvent.MOUSEUP,this.HandleStageMouseFocusChange,!0,this))};DvtComboBox.prototype.HandleHideDropdownTimer=function(a){this.HideDropdown();this._bStaticButtonStates||this.UpdateContentArea()};DvtComboBox.prototype.HandleStageMouseFocusChange=function(a){this._dropdownItemClickEvent=!1;this._outOfFocusCheckTimer.reset();this._outOfFocusCheckTimer.start()};
DvtComboBox.prototype.HandleOutOfFocusCheckTimer=function(a){this._dropdownItemClickEvent||(this._hideDropdownTimer.reset(),this._hideDropdownTimer.start())};
DvtComboBox.prototype.createDropdown=function(){for(var a=this._styleMap?this._styleMap.comboBox:null,b=DvtStyleUtils.getStyle(a,DvtControlPanel.CP_PADDING_TOP,0),c=DvtStyleUtils.getStyle(a,DvtControlPanel.CP_PADDING_LEFT,0),d=DvtStyleUtils.getStyle(a,DvtControlPanel.CP_PADDING_BOTTOM,0),e=DvtStyleUtils.getStyle(a,DvtControlPanel.CP_PADDING_RIGHT,0),g=DvtStyleUtils.getStyle(a,DvtControlPanel.CP_PADDING_INNER,0),h=b,k=this.getCtx(),m,n,t,b=new DvtContainer(k,"__dd"),u=0;u<this._items.length;u++)t=
this._items[u],m=DvtButtonLAFUtils._getDimForced(k,t),n=new DvtContainer(k,"__it"+u),n.setTranslate(c,h),n.addChild(t),t.setMouseEnabled(!0),t.setCursor(DvtSelectionEffectUtils.getSelectingCursor()),h+=m.h+g,this._eventManager&&(m=new DvtControlPanelEventHandlerProxy(this,this.HandleDropdownItemClick,this.HandleButtonDown,null,null,null,this._tooltips[u]),this._eventManager.associate(t,m)),b.addChild(n);a=DvtButtonLAFUtils.drawDropdownShape(k,this._getMaxItemDim().w+c+e,h+d-g,a);a.addChild(b);c=DvtStyleUtils.getStyle(this._styleMap,
DvtCSSStyle.BORDER_COLOR,null);d=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.FRAME_ROLLOUT_ALPHA,1);e=DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BACKGROUND_COLOR,null);g=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.BG_ALPHA,1);a.setSolidStroke(c,d);e&&a.setSolidFill(e,g);return a};DvtComboBox.prototype.HandleButtonDown=function(a){DvtEventManager.consumeEvent()};
DvtComboBox.prototype.HandleDropdownItemClick=function(a){this._dropdownItemClickEvent=!0;this._hideDropdownTimer.stop();DvtEventManager.consumeEvent(a);var b=DvtComboBox.getRootDropdownItemSprite(a.target),c;if(this._dropdown&&b){var d=this._dropdown.getChildAt(0);d&&(c=d.getChildIndex(b))}this.HideDropdown();this._event=a;this.setSelectedIndex(c)};DvtComboBox.getRootDropdownItemSprite=function(a){for(var b,c;a;){if((c=a.getId())&&a instanceof DvtContainer&&"__it"==c.substr(0,4)){b=a;break}a=a.getParent()}return b};
DvtComboBox.prototype.HideDropdown=function(){this._dropdown&&(this._dropdown.setVisible(!1),this._button.setToggled(!1),this.FireListener(new DvtComboBoxEvent(DvtComboBoxEvent.SUBTYPE_HIDE_DROPDOWN)),this._bRemoveDropdown=!0);var a=this.getCtx().getStage();a&&(this._isTouchDevice?a.removeEvtListener(DvtTouchEvent.TOUCHSTART,this.HandleStageMouseFocusChange,!0,this):a.removeEvtListener(DvtMouseEvent.MOUSEUP,this.HandleStageMouseFocusChange,!0,this));this._button.setMouseEnabled(!0)};
DvtComboBox.prototype.RemoveDropdown=function(){this._bRemoveDropdown=!1;this._dropdown&&(this._dropdown.setVisible(!1),this._dropdown.getParent().removeChild(this._dropdown),this._dropdown=null)};DvtComboBox.prototype._getMaxItemDim=function(){return this._maxItemDim};DvtComboBox.prototype.getDimensions=function(){return null!=this._button?this._button.getDimensions():new DvtRectangle(0,0,0,0)};DvtComboBox.prototype.getButton=function(){return this._button};DvtComboBox.prototype.getItems=function(){return this._items};
DvtComboBox.prototype.UpdateContentArea=function(){var a=!0,b=this.getSelectedIndex();this._itemButtonStates&&this._itemButtonStates.length>b&&(b=this._itemButtonStates[b])&&2<b.length&&(this._button.setUpState(b[DvtButton.STATE_ENABLED]),this._button.setOverState(b[DvtButton.STATE_OVER]),this._button.setDownState(b[DvtButton.STATE_DOWN]),a=!1);a&&(0<this._contentArea.getNumChildren()&&this._contentArea.removeChildAt(0),this._contentArea.addChild(this.getSelectedItem()))};
DvtComboBox.DrawArrow=function(a,b,c){var d=[];d.push(b-12,c/2-2);d.push(b-4,c/2-2);d.push(b-8,c/2+2);d.push(b-12,c/2-2);a=new DvtPolygon(a,d,null);a.setSolidStroke(DvtButtonLAFUtils.BORDER_COLOR);a.setSolidFill(DvtButtonLAFUtils.BORDER_COLOR);a.setMouseEnabled(!1);return a};DvtComboBox.prototype.closeDropdown=function(){this.HideDropdown()};DvtComboBox.prototype.setEventManager=function(a){this._eventManager=a};var DropdownItemSprite=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};
DvtObj.createSubclass(DropdownItemSprite,DvtRect,"DropdownItemSprite");DropdownItemSprite.prototype.Init=function(a,b,c,d,e,g){DvtRect.superclass.Init.call(this,a)};var DvtComboBoxEvent=function(a,b,c){this.Init(a,b,c)};DvtComboBoxEvent.TYPE="comboBoxEvent";DvtComboBoxEvent.SUBTYPE_ITEM_CHANGE="cbItemChange";DvtComboBoxEvent.SUBTYPE_SHOW_DROPDOWN="cbShowDropdown";DvtComboBoxEvent.SUBTYPE_HIDE_DROPDOWN="cbHideDropdown";DvtObj.createSubclass(DvtComboBoxEvent,DvtBaseEvent,"DvtComboBoxEvent");
DvtComboBoxEvent.prototype.Init=function(a,b,c){DvtComboBoxEvent.superclass.Init.call(this,DvtComboBoxEvent.TYPE);void 0===b&&(b=-1);this.subtype=a;this._index=b;this._evt=c};DvtComboBoxEvent.prototype.getIndex=function(){return this._index};var DvtBaseControl=function(a){this.Init(a)};DvtObj.createSubclass(DvtBaseControl,DvtContainer,"DvtBaseControl");DvtBaseControl.prototype.Init=function(a){DvtBaseControl.superclass.Init.call(this,a);this._tooltipManager=a.getTooltipManager()};
DvtBaseControl.prototype.setTooltipManager=function(a){this._tooltipManager=a};DvtBaseControl.prototype.getTooltipManager=function(){return this._tooltipManager};DvtBaseControl.prototype.ShowTooltip=function(a,b){this.getTooltipManager().showTooltip(a.pageX,a.pageY,b,a.target)};DvtBaseControl.prototype.HideTooltip=function(){this.getTooltipManager().hideTooltip()};var DvtZoomInButton=function(a,b,c,d){this.Init(a,b,c,d)};DvtZoomInButton._ZOOM_INCR_TIMER_INTERVAL=100;
DvtZoomInButton._ZOOM_START_TIMER_INTERVAL=250;DvtObj.createSubclass(DvtZoomInButton,DvtBaseControl,"DvtZoomInButton");
DvtZoomInButton.prototype.Init=function(a,b,c,d){DvtZoomInButton.superclass.Init.call(this,a);this._bZoomInMouseDown=!1;this._panZoomCanvas=c;this._zoomInTimer=new DvtTimer(a,DvtZoomInButton._ZOOM_INCR_TIMER_INTERVAL,this.HandleZoomInTimer,this);this._zoomStartTimer=new DvtTimer(a,DvtZoomInButton._ZOOM_START_TIMER_INTERVAL,this.HandleZoomStartTimer,this,1);this._zoomInButton=b;this._zoomInButton.setCallback(this.HandleZoomInClick,this);this._eventManager=d;a=new DvtControlPanelEventHandlerProxy(this,
null,this.HandleZoomInMouseDown,this.HandleZoomInMouseUp,this.HandleZoomInMouseUp,null,DvtBundle.getTranslatedString(DvtBundle.SUBCOMPONENT_PREFIX,"CONTROL_PANEL_ZOOMIN"));this._eventManager.associate(this._zoomInButton,a);this.addChild(this._zoomInButton)};
DvtZoomInButton.prototype.HandleZoomInClick=function(a){if(!this._zoomInTimer.isRunning()){a=this._panZoomCanvas.getZoom();a=this._panZoomCanvas.getNextZoomLevel(a);var b=new DvtAnimator(this.getCtx(),this._panZoomCanvas.getAnimationDuration());this._panZoomCanvas.zoomTo(a,void 0,void 0,b);b.play()}};DvtZoomInButton.prototype.HandleZoomInMouseDown=function(a){this._bZoomInMouseDown=!0;this._zoomInTimer.stop();this._zoomStartTimer.stop();this._zoomStartTimer.start()};
DvtZoomInButton.prototype.HandleZoomInMouseUp=function(a){this._bZoomInMouseDown&&(this._bZoomInMouseDown=!1,this._zoomInTimer.stop(),this._zoomStartTimer.stop())};DvtZoomInButton.prototype.HandleZoomStartTimer=function(a){this._zoomInTimer.start()};DvtZoomInButton.prototype.HandleZoomInTimer=function(a){a=this._panZoomCanvas.getZoom();a=this._panZoomCanvas.getNextZoomLevel(a);this._panZoomCanvas.zoomTo(a)};
DvtZoomInButton.prototype._stopTimer=function(){this._zoomInTimer&&(this._zoomInTimer.stop(),this._zoomInTimer=null);this._zoomStartTimer&&(this._zoomStartTimer.stop(),this._zoomStartTimer=null)};DvtZoomInButton.prototype.setEnabled=function(a){this._zoomInButton.setEnabled(a);this._zoomInButton.initState()};var DvtZoomOutButton=function(a,b,c,d){this.Init(a,b,c,d)};DvtZoomOutButton._ZOOM_INCR_TIMER_INTERVAL=100;DvtZoomOutButton._ZOOM_START_TIMER_INTERVAL=250;
DvtObj.createSubclass(DvtZoomOutButton,DvtBaseControl,"DvtZoomOutButton");
DvtZoomOutButton.prototype.Init=function(a,b,c,d){DvtZoomOutButton.superclass.Init.call(this,a);this._bZoomOutMouseDown=!1;this._panZoomCanvas=c;this._zoomOutTimer=new DvtTimer(a,DvtZoomOutButton._ZOOM_INCR_TIMER_INTERVAL,this.HandleZoomOutTimer,this);this._zoomStartTimer=new DvtTimer(a,DvtZoomOutButton._ZOOM_START_TIMER_INTERVAL,this.HandleZoomStartTimer,this,1);this._zoomOutButton=b;this._zoomOutButton.setCallback(this.HandleZoomOutClick,this);this._eventManager=d;a=new DvtControlPanelEventHandlerProxy(this,
null,this.HandleZoomOutMouseDown,this.HandleZoomOutMouseUp,this.HandleZoomOutMouseUp,null,DvtBundle.getTranslatedString(DvtBundle.SUBCOMPONENT_PREFIX,"CONTROL_PANEL_ZOOMOUT"));this._eventManager.associate(this._zoomOutButton,a);this.addChild(this._zoomOutButton)};
DvtZoomOutButton.prototype.HandleZoomOutClick=function(a){if(!this._zoomOutTimer.isRunning()){a=this._panZoomCanvas.getZoom();a=this._panZoomCanvas.getPrevZoomLevel(a);var b=this.getCtx(),b=new DvtAnimator(b,this._panZoomCanvas.getAnimationDuration());this._panZoomCanvas.zoomTo(a,void 0,void 0,b);b.play()}};DvtZoomOutButton.prototype.HandleZoomOutMouseDown=function(a){this._bZoomOutMouseDown=!0;this._zoomOutTimer.stop();this._zoomStartTimer.stop();this._zoomStartTimer.start()};
DvtZoomOutButton.prototype.HandleZoomOutMouseUp=function(a){this._bZoomOutMouseDown&&(this._bZoomOutMouseDown=!1,this._zoomOutTimer.stop(),this._zoomStartTimer.stop())};DvtZoomOutButton.prototype.HandleZoomStartTimer=function(a){this._zoomOutTimer.start()};DvtZoomOutButton.prototype.HandleZoomOutTimer=function(a){a=this._panZoomCanvas.getZoom();a=this._panZoomCanvas.getPrevZoomLevel(a);this._panZoomCanvas.zoomTo(a)};
DvtZoomOutButton.prototype._stopTimer=function(){this._zoomOutTimer&&(this._zoomOutTimer.stop(),this._zoomOutTimer=null);this._zoomStartTimer&&(this._zoomStartTimer.stop(),this._zoomStartTimer=null)};DvtZoomOutButton.prototype.setEnabled=function(a){this._zoomOutButton.setEnabled(a);this._zoomOutButton.initState()};var DvtZoomToFitButton=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtZoomToFitButton,DvtBaseControl,"DvtZoomToFitButton");
DvtZoomToFitButton.prototype.Init=function(a,b,c,d){DvtZoomToFitButton.superclass.Init.call(this,a);this._zoomToFitButton=b;this._panZoomCanvas=c;this._zoomToFitButton.setCallback(this.HandleZoomToFitClick,this);this._eventManager=d;a=new DvtControlPanelEventHandlerProxy(this,null,null,null,null,null,DvtBundle.getTranslatedString(DvtBundle.SUBCOMPONENT_PREFIX,"CONTROL_PANEL_ZOOMTOFIT"));this._eventManager.associate(this._zoomToFitButton,a);this.addChild(this._zoomToFitButton)};
DvtZoomToFitButton.prototype.HandleZoomToFitClick=function(a){a=new DvtAnimator(this.getCtx(),this._panZoomCanvas.getAnimationDuration());this._panZoomCanvas.zoomToFit(a);a.play()};var DvtPanControl=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtPanControl.PAN_TIMER_INTERVAL=50;DvtPanControl.PAN_TIMER_ACCELERATE_COUNT=1E3/DvtPanControl.PAN_TIMER_INTERVAL*2;DvtObj.createSubclass(DvtPanControl,DvtBaseControl,"DvtPanControl");
DvtPanControl.prototype.Init=function(a,b,c,d,e,g){DvtPanControl.superclass.Init.call(this,a);this._panTimer=new DvtTimer(a,DvtPanControl.PAN_TIMER_INTERVAL,this.HandlePanTimer,this);this._bPanMouseDown=!1;this._panZoomCanvas=d;this._panCenter=new DvtPoint(20,20);this._controls=e?e:DvtControlPanel.CONTROLS_ALL;b.addChild(c);c&&(this._panCenterSprite=c,this._panCenterSprite.setVisible(!1),this._panCenterSprite.addEvtListener(DvtTouchEvent.TOUCHSTART,this.HandlePanCenterClick,!1,this),DvtAgent.isTouchDevice()||
(this._panCenterSprite.addEvtListener(DvtMouseEvent.CLICK,this.HandlePanCenterClick,!1,this),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEDOWN,this.HandlePanCenterDown,!1,this),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEUP,this.HandlePanCenterUp,!1,this),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandlePanCenterRollOver,!1,this),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEOUT,this.HandlePanCenterRollOut,!1,this)),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEMOVE,
this.HandlePanCenterMouseMove,!1,this));this._panButton=b;this._panButton.addEvtListener(DvtTouchEvent.TOUCHSTART,this.HandlePanClick,!1,this);DvtAgent.isTouchDevice()||(this._panButton.addEvtListener(DvtMouseEvent.CLICK,this.HandlePanClick,!1,this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEDOWN,this.HandlePanMouseDown,!1,this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEUP,this.HandlePanMouseUp,!1,this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandlePanRollOver,!1,
this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEOUT,this.HandlePanRollOut,!1,this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEMOVE,this.HandlePanMouseMove,!1,this));this._panControl=DvtButtonLAFUtils.createPanButtonBackground(a,g);this._panControl.addChild(this._panButton);this.addChild(this._panControl)};DvtPanControl.prototype.HandlePanClick=function(a){DvtEventManager.consumeEvent(a)};
DvtPanControl.prototype.HandlePanMouseDown=function(a){DvtEventManager.consumeEvent(a);this._bPanMouseDown=!0;this._panCenterSprite&&this._panCenterSprite.setVisible(!1);a=this._panZoomCanvas.GetRelativeMousePosition(a);a=this._panButton.stageToLocal(a);this._rotatePanControlDirectionalArrow(a.x,a.y,this._panButton.downState);this._panMousePoint=new DvtPoint(a.x,a.y);this._panTimer.start();this._panTimerCount=0};
DvtPanControl.prototype.HandlePanMouseUp=function(a){this._bPanMouseDown&&(DvtEventManager.consumeEvent(a),this._bPanMouseDown=!1,this._panCenterSprite&&this._panCenterSprite.setVisible(!0),this._panTimer.stop());this._panButton._mouseOutHandler(a);this.HideTooltip()};DvtPanControl.prototype.HandlePanRollOver=function(a){this._panCenterSprite&&this._panCenterSprite.setVisible(!0);this.ShowTooltip(a,DvtBundle.getTranslatedString(DvtBundle.SUBCOMPONENT_PREFIX,"CONTROL_PANEL_PAN"))};
DvtPanControl.prototype.HandlePanRollOut=function(a){this.HandlePanMouseUp(a);this._panCenterSprite&&this._panCenterSprite.setVisible(!1)};DvtPanControl.prototype.HandlePanMouseMove=function(a){DvtEventManager.consumeEvent(a);a=this._panZoomCanvas.GetRelativeMousePosition(a);a=this._panButton.stageToLocal(a);this._bPanMouseDown?(this._rotatePanControlDirectionalArrow(a.x,a.y,this._panButton.downState),this._panMousePoint=new DvtPoint(a.x,a.y)):this._rotatePanControlDirectionalArrow(a.x,a.y,this._panButton.overState)};
DvtPanControl.prototype.HandlePanTimer=function(){if(this._bPanMouseDown){var a=Math.atan2(this._panCenter.y-this._panMousePoint.y,this._panCenter.x-this._panMousePoint.x),b=Math.cos(a),a=Math.sin(a),c=15;this._panTimerCount++;this._panTimerCount>DvtPanControl.PAN_TIMER_ACCELERATE_COUNT&&(c*=3);this._panZoomCanvas.panBy(c*b,c*a)}};DvtPanControl.prototype.HandlePanCenterClick=function(a){DvtEventManager.consumeEvent(a);this._panZoomCanvas.zoomAndCenter()};
DvtPanControl.prototype.HandlePanCenterDown=function(a){DvtEventManager.consumeEvent(a)};DvtPanControl.prototype.HandlePanCenterUp=function(a){DvtEventManager.consumeEvent(a);this.HideTooltip()};DvtPanControl.prototype.HandlePanCenterRollOver=function(a){this.ShowTooltip(a,DvtBundle.getTranslatedString(DvtBundle.SUBCOMPONENT_PREFIX,"CONTROL_PANEL_ZOOMANDCENTER"));this._panCenterSprite.setVisible(!0);DvtEventManager.consumeEvent(a)};
DvtPanControl.prototype.HandlePanCenterRollOut=function(a){this.HideTooltip();DvtEventManager.consumeEvent(a)};DvtPanControl.prototype.HandlePanCenterMouseMove=function(a){DvtEventManager.consumeEvent(a)};DvtPanControl.prototype._rotatePanControlDirectionalArrow=function(a,b,c){a=Math.atan2(b-this._panCenter.y,a-this._panCenter.x);c.setRotation(a-Math.PI/4)};var DvtControlPanelEvent=function(a){this.Init(DvtControlPanelEvent.TYPE);this._subtype=a};
DvtObj.createSubclass(DvtControlPanelEvent,DvtBaseComponentEvent,"DvtControlPanelEvent");DvtControlPanelEvent.TYPE="dvtPZCPExpand";DvtControlPanelEvent.SUBTYPE_SHOW="show";DvtControlPanelEvent.SUBTYPE_HIDE="hide";DvtControlPanelEvent.prototype.getSubType=function(){return this._subtype};var DvtControlPanel=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtControlPanel,DvtContainer,"DvtControlPanel");DvtControlPanel.STATE_COLLAPSED=1;DvtControlPanel.STATE_EXPANDED=2;
DvtControlPanel.CONTROLS_ALL=16777215;DvtControlPanel.CONTROLS_ZOOM_SLIDER=1;DvtControlPanel.CONTROLS_CENTER_BUTTON=16;DvtControlPanel.CONTROLS_ZOOM_TO_FIT_BUTTON=256;DvtControlPanel.CONTROLS_ZOOM=4097;DvtControlPanel.DEFAULT_ZOOM_LEVELS=[0,.25,.5,.75,1];DvtControlPanel.CONTROL_PANEL_BEHAVIOR_KEY="controlPanelBehavior";DvtControlPanel.BG_ALPHA="backgroundAlpha";DvtControlPanel.BG_ROLLOVER_ALPHA="backgroundHoverAlpha";DvtControlPanel.BG_DRAG_ALPHA="backgroundDragAlpha";
DvtControlPanel.FRAME_ROLLOUT_ALPHA="borderAlpha";DvtControlPanel.FRAME_ROLLOVER_ALPHA="borderHoverAlpha";DvtControlPanel.FRAME_DRAG_ALPHA="borderDragAlpha";DvtControlPanel.CP_BUTTON_WIDTH="buttonWidth";DvtControlPanel.CP_BUTTON_HEIGHT="buttonHeight";DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH="openCloseButtonWidth";DvtControlPanel.CP_TAB_SIZE="tabSize";DvtControlPanel.CP_PADDING_TOP="paddingTop";DvtControlPanel.CP_PADDING_SIDE="paddingSide";DvtControlPanel.CP_PADDING_BOTTOM="paddingBottom";
DvtControlPanel.CP_PADDING_LEFT="paddingLeft";DvtControlPanel.CP_PADDING_RIGHT="paddingRight";DvtControlPanel.CP_PADDING_INNER="paddingInner";DvtControlPanel.CP_PANEL_DRAWER_STYLES="panelDrawerStyles";DvtControlPanel.CP_IMAGE_WIDTH="imageWidth";DvtControlPanel.CP_IMAGE_HEIGHT="imageHeight";DvtControlPanel.CP_CENTER_BUTTON_DISPLAYED="centerButtonDisplayed";
DvtControlPanel.prototype.Init=function(a,b,c){DvtControlPanel.superclass.Init.call(this,a);this._bMouseOver=this._bMouseDragPanning=!1;this._panZoomCanvas=b.getPanZoomCanvas();this._controls=b.getDisplayedControls();this._buttonImages=b.getResourcesMap();this._tooltipManager=a.getTooltipManager();this._styleMap=null;if(this._view=b)this._styleMap=this._view.getSubcomponentStyles(),this._styleMap[DvtControlPanel.CP_CENTER_BUTTON_DISPLAYED]||(this._controls&=~DvtControlPanel.CONTROLS_CENTER_BUTTON,
this._view.setDisplayedControls(this._controls));this._zoomLevels=DvtControlPanel.DEFAULT_ZOOM_LEVELS;this._bTransition=!1;this._bgAlpha=this._styleMap[DvtControlPanel.BG_ALPHA];this._eventManager=new DvtControlPanelEventManager(a,null,b);this._eventManager.addRolloverType(DvtControlPanel);this._eventManager.addListeners(this);this._eventManager.associate(this,this);this._state=c;this.tabChildren=!1;this.setPixelHinting(!0)};DvtControlPanel.prototype.getState=function(){return this._state};
DvtControlPanel.prototype.setZoomLevels=function(a){a||(a=DvtControlPanel.DEFAULT_ZOOM_LEVELS);this._zoomLevels=a};DvtControlPanel.prototype.getZoomLevels=function(){return this._zoomLevels};DvtControlPanel.prototype.setTooltipManager=function(a){this._tooltipManager=a;this._zoomInButton&&this._zoomInButton.setTooltipManager(a);this._zoomOutButton&&this._zoomOutButton.setTooltipManager(a);this._zoomToFitButton&&this._zoomToFitButton.setTooltipManager(a)};
DvtControlPanel.prototype.getTooltipManager=function(){return this._tooltipManager};DvtControlPanel.prototype.mouseDragPanningStarted=function(){this._bMouseDragPanning=!0;this._background.setMouseEnabled(!1);this._frame.setMouseEnabled(!1);this._background.setAlpha(this._styleMap[DvtControlPanel.BG_DRAG_ALPHA]);this._frame.setAlpha(this._styleMap[DvtControlPanel.FRAME_DRAG_ALPHA])};
DvtControlPanel.prototype.mouseDragPanningEnded=function(){this._bMouseDragPanning=!1;this._background.setMouseEnabled(!0);this._frame.setMouseEnabled(!0);this._bMouseOver?this.HandleRollOver(null):this.HandleRollOut(null)};DvtControlPanel.prototype.rotateControlPanelDisplayObject=function(a){a.setRotation(Math.PI);var b=DvtButtonLAFUtils._getDimForced(this._context,a);a.setTranslate(a.getTranslateX()+b.w,a.getTranslateY()+b.h)};DvtControlPanel.prototype.isSingleHorzRow=function(){return!0};
DvtControlPanel.prototype.getViewPanelHeight=function(){var a=0,a=this.isSingleHorzRow()?DvtControlPanelLAFUtils.getViewPanelHalfHeight():DvtControlPanelLAFUtils.getViewPanelHeight(),b=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_TAB_SIZE,0);return Math.max(b,a)};DvtControlPanel.prototype.getViewPanelWidth=function(){return DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_TAB_SIZE,0)};
DvtControlPanel.prototype.RenderCollapsed=function(){var a=this.getCtx(),b=new DvtContainer(a),c=this.getViewPanelHeight(),d=DvtAgent.isRightToLeft(a);this._background=DvtControlPanelLAFUtils.createEmptyViewClosedShape(a,c,this._styleMap,d);this._frame=DvtControlPanelLAFUtils.createEmptyViewClosedFrame(a,c,this._styleMap,d);this._collapsedDim=DvtButtonLAFUtils._getDimForced(a,this._frame);this._expandButton=DvtButtonLAFUtils.createExpandButton(this.getCtx(),this._buttonImages,this.getViewPanelHeight(),
this._styleMap,d?DvtButtonLAFUtils.DIR_RIGHT:DvtButtonLAFUtils.DIR_LEFT);this._expandButton.setCallback(this.HandleExpandClick,this);a=new DvtControlPanelEventHandlerProxy(this,null,null,null,null,null,DvtBundle.getTranslatedString(DvtBundle.SUBCOMPONENT_PREFIX,"CONTROL_PANEL"));this._eventManager.associate(this._expandButton,a);this._frame.addChild(this._expandButton);b.addChild(this._background);b.addChild(this._frame);return b};
DvtControlPanel.prototype._addZoomToFitButton=function(a,b){if(0!=(this._controls&DvtControlPanel.CONTROLS_ZOOM_TO_FIT_BUTTON)){var c=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtControlPanel.CP_PADDING_INNER,0),d=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtControlPanel.CP_PADDING_LEFT,0);this._zoomToFitButton=DvtButtonLAFUtils.createZoomToFitButton(this.getCtx(),this._panZoomCanvas,this._eventManager,this._buttonImages,this._styleMap);this._zoomToFitButton.setTranslate(d,this._zoomToFitButton.getTranslateY()+
b);d=DvtButtonLAFUtils._getDimForced(this.getCtx(),this._zoomToFitButton);a.addChild(this._zoomToFitButton);b+=d.h;b+=c}return b};
DvtControlPanel.prototype._addZoomControls=function(a,b){var c=null,d=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtControlPanel.CP_PADDING_INNER,0),e=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtControlPanel.CP_PADDING_LEFT,0);0!=(this._controls&DvtControlPanel.CONTROLS_ZOOM)&&(this._zoomInButton=DvtButtonLAFUtils.createZoomInButton(this.getCtx(),this._panZoomCanvas,this._eventManager,this._buttonImages,this._styleMap),this._zoomInButton.setTranslate(e,this._zoomInButton.getTranslateY()+b),c=DvtButtonLAFUtils._getDimForced(this.getCtx(),
this._zoomInButton),a.addChild(this._zoomInButton),b+=c.h+d,this._zoomOutButton=DvtButtonLAFUtils.createZoomOutButton(this.getCtx(),this._panZoomCanvas,this._eventManager,this._buttonImages,this._styleMap),this._zoomOutButton.setTranslate(e,this._zoomOutButton.getTranslateY()+b),c=DvtButtonLAFUtils._getDimForced(this.getCtx(),this._zoomOutButton),a.addChild(this._zoomOutButton),b+=c.h,this.enableZoomControls());return b};
DvtControlPanel.prototype._createVBarBackground=function(a,b,c,d){var e=this.getCtx();if(b){var g=b.getNumChildren(),g=1<g||null==this._zoomToFitButton||1<c||0<c&&1==g,h=null;this._styleMap&&this._styleMap[DvtControlPanel.CP_PANEL_DRAWER_STYLES]&&(h=0<c?DvtControlPanelLAFUtils.OPEN_TOP:DvtControlPanelLAFUtils.OPEN_RIGHT);a=DvtButtonLAFUtils._getDimForced(e,a);d+=4;a=g?d:Math.max(a.h,d);c=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtControlPanel.CP_PADDING_BOTTOM,0);a+=c;c=DvtControlPanelLAFUtils.renderEmptyZoomShape(e,
a,this._styleMap,h,this.getViewPanelHeight());e=DvtControlPanelLAFUtils.renderEmptyZoomFrame(e,a,g,this._styleMap,h,this.getViewPanelHeight());c.setTranslate(b.getTranslateX(),b.getTranslateY());this._background.addChild(c);b.addChildAt(e,0)}return d};
DvtControlPanel.prototype._positionVBarElements=function(a,b,c){c=this.getCtx();var d=DvtAgent.isRightToLeft(c),e=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0);this._additionalContent||0!=(this._controls&DvtControlPanel.CONTROLS_CENTER_BUTTON)?d&&b&&(c=DvtButtonLAFUtils._getDimForced(c,a),d=this.getViewPanelWidth(),a.setTranslateX(0),b.setTranslateX(c.w+c.x-d)):d?(a.setTranslateX(0-a.getTranslateX()),a.setTranslateY(0),b&&(DvtButtonLAFUtils._getDimForced(c,b),
a.setTranslateX(a.getTranslateX()-e),b.setTranslateY(0))):b?(c=this.getViewPanelWidth(),b.setTranslate(0,0),a.setTranslate(a.getTranslateX()+c,0)):a.setTranslate(a.getTranslateX(),0)};
DvtControlPanel.prototype._createHBarPanControl=function(a,b){var c=this.getCtx(),d=this.isSingleHorzRow();0!=(this._controls&DvtControlPanel.CONTROLS_CENTER_BUTTON)&&(this._panControl=DvtButtonLAFUtils.createPanControl(c,this._panZoomCanvas,this._controls,this._buttonImages,this._styleMap),d&&(this._panControlUnderlay=DvtButtonLAFUtils.createPanButtonUnderlay(c,this._styleMap),this._panControlUnderlay2=DvtButtonLAFUtils.createPanButtonUnderlay(c,this._styleMap),a.addChild(this._panControlUnderlay2),
a.addChild(this._panControlUnderlay)),a.addChild(this._panControl),b++);return b};DvtControlPanel.prototype._createHBarAdditionalContent=function(a,b){var c=this.getCtx();this._additionalContent=new DvtContainer(c);this.PopulateHorzContentBar(this._additionalContent);0<this._additionalContent.getNumChildren()?(a.addChild(this._additionalContent),b++):this._additionalContent=null;return b};
DvtControlPanel.prototype._createHBarCollapseButton=function(a){this._collapseButton=DvtButtonLAFUtils.createCollapseButton(this.getCtx(),this._buttonImages,this.getViewPanelHeight(),this._styleMap,DvtAgent.isRightToLeft(this.getCtx())?DvtButtonLAFUtils.DIR_RIGHT:DvtButtonLAFUtils.DIR_LEFT);this._collapseButton.setCallback(this.HandleCollapseClick,this);var b=new DvtControlPanelEventHandlerProxy(this,null,null,null,null,null,DvtBundle.getTranslatedString(DvtBundle.SUBCOMPONENT_PREFIX,"CONTROL_PANEL"));
this._eventManager.associate(this._collapseButton,b);a.addChild(this._collapseButton)};
DvtControlPanel.prototype._positionHBarElements=function(a,b){var c=this._context,d=null,e=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0),g=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_BUTTON_WIDTH,0),h=this.getViewPanelWidth(),k=this.getViewPanelHeight(),m=DvtStyleUtils.getStyle(this._styleMap.hbar,DvtControlPanel.CP_PADDING_LEFT,0),n=DvtStyleUtils.getStyle(this._styleMap.hbar,DvtControlPanel.CP_PADDING_INNER,0);a?(this._collapseButton.setTranslateX(0),
b+=e,this._additionalContent&&(d=DvtButtonLAFUtils._getDimForced(c,this._additionalContent),b+=n,this._additionalContent.setTranslate(b,(k-d.h)/2),b+=Math.max(d.w,g)),this._panControl&&(b+=n,d=3.5,this._panControl.setTranslate(b,d),this._panControlUnderlay&&this._panControlUnderlay.setTranslate(b,d),this._panControlUnderlay2&&this._panControlUnderlay2.setTranslate(b,d),d=DvtButtonLAFUtils._getDimForced(c,this._panControl),b+=d.w),b+=m):(this._panControl&&(b+=m,d=3.5,this._panControl.setTranslate(m,
d),this._panControlUnderlay&&this._panControlUnderlay.setTranslate(m,d),this._panControlUnderlay2&&this._panControlUnderlay2.setTranslate(m,d),d=DvtButtonLAFUtils._getDimForced(c,this._panControl),b+=n+d.w,b+=1),this._additionalContent&&(d=DvtButtonLAFUtils._getDimForced(c,this._additionalContent),0==b&&(b+=m),this._additionalContent.setTranslate(b,(k-d.h)/2),b+=d.w,b=Math.max(b+n,h)),this._collapseButton.setTranslateX(b),b+=e);return b};
DvtControlPanel.prototype._createHBarBackground=function(a,b,c,d,e){var g=this._context,h=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0),k=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_TAB_SIZE,0),m=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_PANEL_DRAWER_STYLES,null);e=m?e:e-h;var n=this.getViewPanelHeight(),t=0,u=0;m?m&&0==c&&(u=d?-k:k):(t=d?h:0,u=d?h:0);if(0<c||m){var v=h=null,v=parseInt(DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_RADIUS,
0));m?(b=0<c&&null!=b?DvtControlPanelLAFUtils.OPEN_BOTTOM:DvtControlPanelLAFUtils.OPEN_LEFT,h=DvtControlPanelLAFUtils.makeViewOpenShapeHelperOpenSide(g,v,e,n,b,k),v=DvtControlPanelLAFUtils.makeViewOpenShapeHelperOpenSide(g,v,e,n,b,k)):(h=DvtControlPanelLAFUtils.createEmptyViewOpenShape(g,e,this.getViewPanelHeight(),!d,this._styleMap),v=DvtControlPanelLAFUtils.createEmptyViewOpenShape(g,e,this.getViewPanelHeight(),!d,this._styleMap));h.setSolidStroke(DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_COLOR,
null));h.setFill(null);h.setTranslate(a.getTranslateX()+t,a.getTranslateY());a.addChildAt(h,0);v.setSolidFill(DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BACKGROUND_COLOR,null));v.setTranslate(a.getTranslateX()+u,a.getTranslateY());this._background.addChild(v)}};
DvtControlPanel.prototype.RenderExpanded=function(){var a=this.getCtx(),b=new DvtContainer(a);this._background=new DvtContainer(a);this._frame=new DvtContainer(a);b.addChild(this._background);b.addChild(this._frame);var c=DvtAgent.isRightToLeft(a),d=0,e=new DvtContainer(a),g;g=this._createHBarPanControl(e,0);this._createHBarCollapseButton(e);g=this._createHBarAdditionalContent(e,g);var d=this._positionHBarElements(c,d),h=null,k=this._getVBarButtonsOffsetY(g);this.isSingleHorzRow()&&0!=(this._controls&
DvtControlPanel.CONTROLS_CENTER_BUTTON)&&(k+=DvtControlPanelLAFUtils.getViewPanelHeight()-this.getViewPanelHeight());if(0!=(this._controls&DvtControlPanel.CONTROLS_ZOOM_TO_FIT_BUTTON)||0!=(this._controls&DvtControlPanel.CONTROLS_ZOOM))h=new DvtContainer(a),h.setTranslateY(e.getTranslateY()+this.getViewPanelHeight()),k=this._addZoomToFitButton(h,k),k=this._addZoomControls(h,k),this._frame.addChild(h);this._createHBarBackground(e,h,g,c,d);this._frame.addChild(e);this._positionVBarElements(e,h,k);this._createVBarBackground(e,
h,g,k);this._expandedDim=DvtButtonLAFUtils._getDimForced(a,b);return b};DvtControlPanel.prototype.PopulateHorzContentBar=function(a){};DvtControlPanel.prototype.toggleExpandCollapse=function(){this._bTransition||(this._state===DvtControlPanel.STATE_EXPANDED?this._doCollapse():this._state===DvtControlPanel.STATE_COLLAPSED&&this._doExpand())};DvtControlPanel.prototype.getCollapsedDim=function(){return this._collapsedDim};DvtControlPanel.prototype.getExpandedDim=function(){return this._expandedDim};
DvtControlPanel.prototype.HandleExpandClick=function(a){DvtEventManager.consumeEvent(a);this._bTransition||(this._doExpand(),this.getTooltipManager()&&this.getTooltipManager().hideTooltip())};DvtControlPanel.prototype._doExpand=function(){this._bTransition=!0;this.setMouseEnabled(!1);var a=this.RenderExpanded();this.addChild(a);this._applyAlphasForMouse();this.transitionExpand(this.getChildAt(0),a);this._state=DvtControlPanel.STATE_EXPANDED;this.fireExpandEvent()};
DvtControlPanel.prototype._applyAlphasForMouse=function(){var a=!1;this.getCtx().getStage()&&(a=!0);a?this._applyAlphasRollover():this._applyAlphasRollout()};DvtControlPanel.prototype.HandleCollapseClick=function(a){DvtEventManager.consumeEvent(a);this._bTransition||this._doCollapse()};
DvtControlPanel.prototype._doCollapse=function(){this._bTransition=!0;var a=this.RenderCollapsed();this.addChild(a);this._applyAlphasForMouse();this.transitionCollapse(this.getChildAt(0),a);this._state=DvtControlPanel.STATE_COLLAPSED;this.fireCollapseEvent()};
DvtControlPanel.prototype.transitionExpand=function(a,b){var c=a.getDimensions(),d=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0);if(c&&0!=c.w){var e=b.getDimensions(),g=new DvtAnimator(this.getCtx(),.25);a.setAlpha(1);b.setAlpha(0);g.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,0);g.addProp(DvtAnimator.TYPE_NUMBER,b,b.getAlpha,b.setAlpha,1);b.setScaleX(c.w/e.w);g.addProp(DvtAnimator.TYPE_NUMBER,b,b.getScaleX,b.setScaleX,1);if(DvtAgent.isRightToLeft(this.getCtx())){b.setTranslateX(a.getTranslateX());
var h=e.w+e.x;g.addProp(DvtAnimator.TYPE_NUMBER,b,b.getTranslateX,b.setTranslateX,a.getTranslateX()+d-h)}b.setScaleY(c.h/e.h);g.addProp(DvtAnimator.TYPE_NUMBER,b,b.getScaleY,b.setScaleY,1);g.setOnEnd(function(){a.getParent().removeChild(a);this._bTransition=!1;this.setMouseEnabled(!0)},this);g.play()}else a.getParent().removeChild(a),this.PositionExpanded(b)};
DvtControlPanel.prototype.PositionExpanded=function(a){var b;if(DvtAgent.isRightToLeft(this.getCtx())){b=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0);var c=DvtDisplayableUtils.getDimensionsForced(this.getCtx(),a);b-=Math.floor(c.w+c.x)}else b=0;a.setTranslate(b,0)};
DvtControlPanel.prototype.transitionCollapse=function(a,b){var c=new DvtAnimator(this.getCtx(),.25);a.setAlpha(1);b.setAlpha(0);c.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,0);c.addProp(DvtAnimator.TYPE_NUMBER,b,b.getAlpha,b.setAlpha,1);var d=this.getCollapsedDim(),e=this.getExpandedDim();c.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleX,a.setScaleX,d.w/e.w);DvtAgent.isRightToLeft(this.getCtx())&&c.addProp(DvtAnimator.TYPE_NUMBER,a,a.getTranslateX,a.setTranslateX,b.getTranslateX());c.addProp(DvtAnimator.TYPE_NUMBER,
a,a.getScaleY,a.setScaleY,d.h/e.h);c.setOnEnd(function(){a.getParent().removeChild(a);this._bTransition=!1},this);c.play()};DvtControlPanel.prototype.fireExpandEvent=function(){var a=new DvtControlPanelEvent(DvtControlPanelEvent.SUBTYPE_SHOW);this.FireListener(a);return!0};DvtControlPanel.prototype.fireCollapseEvent=function(){var a=new DvtControlPanelEvent(DvtControlPanelEvent.SUBTYPE_HIDE);this.FireListener(a);return!0};
DvtControlPanel.prototype.adjustArrowsIconForBiDi=function(a,b){var c=this.findLoader(a);c&&c.setTranslateX(c.getTranslateX()+b)};DvtControlPanel.prototype.findLoader=function(a){for(var b=a.getNumChildren(),c,d=0;d<b;d++){c=a.getChildAt(d);if(c instanceof DvtImage)return c;if(c instanceof DvtContainer)return this.findLoader(c)}return null};DvtControlPanel.prototype.HandleRollOver=function(a){this._bMouseOver=!0;this._bMouseDragPanning||this._applyAlphasRollover()};
DvtControlPanel.prototype.HandleRollOut=function(a){this._bMouseOver=!1;this._bMouseDragPanning||this._applyAlphasRollout()};DvtControlPanel.prototype._applyAlphasRollover=function(){this._background.setAlpha(this._styleMap[DvtControlPanel.BG_ROLLOVER_ALPHA]);this._frame.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOVER_ALPHA]);this._panControlUnderlay&&this._panControlUnderlay.setAlpha(this._styleMap[DvtControlPanel.BG_ROLLOVER_ALPHA])};
DvtControlPanel.prototype._applyAlphasRollout=function(){this._background.setAlpha(this._bgAlpha);this._frame.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOUT_ALPHA]);this._panControlUnderlay&&this._panControlUnderlay.setAlpha(this._bgAlpha)};DvtControlPanel.prototype.isPanControlShown=function(){return 0<(this._controls&DvtControlPanel.CONTROLS_CENTER_BUTTON)};DvtControlPanel.prototype.getDimensions=function(){this._dim||(this._dim=DvtControlPanel.superclass.getDimensions.call(this));return this._dim};
DvtControlPanel.prototype.renderComponent=function(){var a;this._state==DvtControlPanel.STATE_COLLAPSED?a=this.RenderCollapsed():(a=this.RenderExpanded(),this.PositionExpanded(a));this._background.setAlpha(this._bgAlpha);this._frame.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOUT_ALPHA]);this.addChild(a)};DvtControlPanel.prototype.getButtonImages=function(){return this._buttonImages};
DvtControlPanel.prototype._getVBarButtonsOffsetY=function(a){return this._controls&DvtControlPanel.CONTROLS_CENTER_BUTTON||this._styleMap&&this._styleMap[DvtControlPanel.CP_PANEL_DRAWER_STYLES]&&0==a?DvtStyleUtils.getStyle(this._styleMap.vbar,DvtControlPanel.CP_PADDING_TOP,0):0};
DvtControlPanel.prototype.enableZoomControls=function(){var a=this._panZoomCanvas.getZoom(),b=this._panZoomCanvas.getNextZoomLevel(a),c=this._panZoomCanvas.getPrevZoomLevel(a);this._zoomInButton&&this._zoomInButton.setEnabled(a!=b);this._zoomOutButton&&this._zoomOutButton.setEnabled(a!=c)};DvtControlPanel.prototype.enableZoomInControl=function(a){this._zoomInButton&&this._zoomInButton.setEnabled(a)};DvtControlPanel.prototype.enableZoomOutControl=function(a){this._zoomOutButton&&this._zoomOutButton.setEnabled(a)};
var DvtControlPanelDefaults={};DvtObj.createSubclass(DvtControlPanelDefaults,DvtObj,"DvtControlPanelDefaults");
DvtControlPanelDefaults.SKIN_ALTA={"fill-type":"solid",backgroundAlpha:1,backgroundDragAlpha:1,borderDragAlpha:1,panelDrawerStyles:!0,buttonWidth:42,buttonHeight:42,buttonRadius:0,openCloseButtonWidth:42,tabSize:42,paddingTop:15,paddingSide:-1,imageWidth:24,imageHeight:24,centerButtonDisplayed:!1,scrollbarBackground:"linear-gradient(bottom, #dce2e7 0%, #f8f8f8 8%)",scrollbarBorderColor:"#dce2e7",scrollbarHandleColor:"#abb0b4",scrollbarHandleHoverColor:"#333333",scrollbarHandleActiveColor:"#333333",
comboBox:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingInner:0,itemHeight:30,imagePadding:0,itemPadding:10},vbar:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingInner:0},hbar:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingInner:0}};DvtControlPanelDefaults.SKIN_SKYROS={"fill-type":"solid"};
DvtControlPanelDefaults.DEFAULT={"fill-type":"gradient","border-color":"#ffffff","background-color":"#ffffff","border-radius":6,backgroundAlpha:.5,backgroundHoverAlpha:1,backgroundDragAlpha:.5,borderAlpha:1,borderHoverAlpha:1,borderDragAlpha:.5,tabSize:26,buttonWidth:22,buttonHeight:22,buttonRadius:3,paddingTop:5,paddingSide:5,imageWidth:22,imageHeight:20,openCloseButtonWidth:10,centerButtonDisplayed:!0,comboBox:{paddingTop:2,paddingBottom:6,paddingLeft:3,paddingRight:3,paddingInner:2,itemHeight:22,
radius:4,imagePadding:2,itemPadding:7},vbar:{paddingTop:2.5,paddingBottom:2.5,paddingLeft:2,paddingRight:2,paddingInner:2},hbar:{paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,paddingInner:2}};DvtControlPanelDefaults.calcOptions=function(a){var b=DvtControlPanelDefaults._getDefaults(a);return a?DvtJSONUtils.merge(a,b):b};
DvtControlPanelDefaults._getDefaults=function(a){var b=null;return b=a&&"skyros"===a.skin?DvtJSONUtils.merge(DvtControlPanelDefaults.SKIN_SKYROS,DvtControlPanelDefaults.DEFAULT):a&&"alta"===a.skin?DvtJSONUtils.merge(DvtControlPanelDefaults.SKIN_ALTA,DvtControlPanelDefaults.DEFAULT):DvtJSONUtils.clone(DvtControlPanelDefaults.DEFAULT)};var DvtControlPanelEventManager=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtControlPanelEventManager,DvtEventManager,"DvtControlPanelEventManager");
DvtControlPanelEventManager.prototype.OnMouseDown=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtControlPanelEventManager.superclass.OnMouseDown.call(this,a);b&&(b.HandleMouseDown&&b.HandleMouseDown(a),a.stopPropagation())};DvtControlPanelEventManager.prototype.OnMouseUp=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtControlPanelEventManager.superclass.OnMouseUp.call(this,a);b&&(b.HandleMouseUp&&b.HandleMouseUp(a),a.stopPropagation())};
DvtControlPanelEventManager.prototype.OnMouseOut=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtControlPanelEventManager.superclass.OnMouseOut.call(this,a);b&&(b.HandleMouseOut&&b.HandleMouseOut(a),a.stopPropagation())};DvtControlPanelEventManager.prototype.OnClick=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtControlPanelEventManager.superclass.OnClick.call(this,a);b&&(b.HandleClick&&b.HandleClick(a),a.stopPropagation())};
DvtControlPanelEventManager.prototype.OnRollOver=function(a){DvtControlPanelEventManager.superclass.OnRollOver.call(this,a);var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&b.HandleRollOver&&b.HandleRollOver(a)};DvtControlPanelEventManager.prototype.OnRollOut=function(a){DvtControlPanelEventManager.superclass.OnRollOut.call(this,a);var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&b.HandleRollOut&&b.HandleRollOut(a)};
DvtControlPanelEventManager.prototype.OnComponentTouchClick=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&(b.HandleClick&&b.HandleClick(a),a.stopPropagation())};DvtControlPanelEventManager.prototype.HandleImmediateTouchStartInternal=function(a){a.blockTouchHold();DvtEventManager.consumeEvent(a)};var DvtControlPanelEventHandlerProxy=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtControlPanelEventHandlerProxy,DvtObj,"DvtControlPanelEventHandlerProxy");
DvtControlPanelEventHandlerProxy.prototype.Init=function(a,b,c,d,e,g,h){this._callbackObj=a;this._handleClick=b;this._handleMouseUp=d;this._handleMouseDown=c;this._handleMouseOut=e;this._handleMouseOver=g;this._tooltip=h};DvtControlPanelEventHandlerProxy.prototype.HandleClick=function(a){this._handleClick&&this._handleClick.call(this._callbackObj,a)};DvtControlPanelEventHandlerProxy.prototype.HandleMouseDown=function(a){this._handleMouseDown&&this._handleMouseDown.call(this._callbackObj,a)};
DvtControlPanelEventHandlerProxy.prototype.HandleMouseUp=function(a){this._handleMouseUp&&this._handleMouseUp.call(this._callbackObj,a)};DvtControlPanelEventHandlerProxy.prototype.HandleMouseOut=function(a){this._handleMouseOut&&this._handleMouseOut.call(this._callbackObj,a)};DvtControlPanelEventHandlerProxy.prototype.HandleMouseOver=function(a){this._handleMouseOver&&this._handleMouseOver.call(this._callbackObj,a)};DvtControlPanelEventHandlerProxy.prototype.getTooltip=function(){return this._tooltip};
var DvtControlPanelLAFUtils={};DvtObj.createSubclass(DvtControlPanelLAFUtils,DvtObj,"DvtControlPanelLAFUtils");DvtControlPanelLAFUtils.OPEN_TOP="top";DvtControlPanelLAFUtils.OPEN_RIGHT="right";DvtControlPanelLAFUtils.OPEN_LEFT="left";DvtControlPanelLAFUtils.OPEN_BOTTOM="bottom";DvtControlPanelLAFUtils.VIEW_PANEL_HEIGHT=47;DvtControlPanelLAFUtils.VIEW_PANEL_HALF_HEIGHT=26;DvtControlPanelLAFUtils.SIN_PI_4=Math.sin(Math.PI/4);DvtControlPanelLAFUtils.TAN_PI_8=Math.tan(Math.PI/8);
DvtControlPanelLAFUtils.getViewPanelHeight=function(){return DvtControlPanelLAFUtils.VIEW_PANEL_HEIGHT};DvtControlPanelLAFUtils.getViewPanelHalfHeight=function(){return DvtControlPanelLAFUtils.VIEW_PANEL_HALF_HEIGHT};DvtControlPanelLAFUtils.createEmptyViewOpenShape=function(a,b,c,d,e){b||(b=86);c||(c=47);void 0===d&&(d=!0);e=parseInt(DvtStyleUtils.getStyle(e,DvtCSSStyle.BORDER_RADIUS,0));return DvtControlPanelLAFUtils.makeViewOpenShapeHelper(a,e,b-2*e,c-2*e,0,0,d)};
DvtControlPanelLAFUtils.makeViewOpenShapeHelper=function(a,b,c,d,e,g,h){e=c+b;g=d+b;var k=DvtPathUtils.moveTo(e+b,g+b),k=k+DvtPathUtils.lineTo(e-c,g+b);e-=c;k+=DvtPathUtils.lineTo(e-b,g+b);k+=DvtPathUtils.lineTo(e-b,g-d);g-=d;h?(k+=DvtPathUtils.quadTo(-b+e,-DvtControlPanelLAFUtils.TAN_PI_8*b+g,-DvtControlPanelLAFUtils.SIN_PI_4*b+e,-DvtControlPanelLAFUtils.SIN_PI_4*b+g)+DvtPathUtils.quadTo(-DvtControlPanelLAFUtils.TAN_PI_8*b+e,-b+g,e,-b+g)+DvtPathUtils.lineTo(e,-b+g),k+=DvtPathUtils.lineTo(e+c+b,-b+
g),k+=DvtPathUtils.lineTo(e+c+b,g+d)):(k+=DvtPathUtils.lineTo(e-b,-b+g),k+=DvtPathUtils.lineTo(e+c,-b+g),e+=c,k+=DvtPathUtils.quadTo(DvtControlPanelLAFUtils.TAN_PI_8*b+e,-b+g,DvtControlPanelLAFUtils.SIN_PI_4*b+e,-DvtControlPanelLAFUtils.SIN_PI_4*b+g)+DvtPathUtils.quadTo(b+e,-DvtControlPanelLAFUtils.TAN_PI_8*b+g,b+e,g)+DvtPathUtils.lineTo(e+b,g+d));k+=DvtPathUtils.closePath();return new DvtPath(a,k)};
DvtControlPanelLAFUtils.createEmptyViewClosedShape=function(a,b,c,d){b||(b=47);var e=parseInt(DvtStyleUtils.getStyle(c,DvtCSSStyle.BORDER_RADIUS,0)),g=DvtStyleUtils.getStyle(c,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0);b=Math.max(b,DvtStyleUtils.getStyle(c,DvtControlPanel.CP_BUTTON_HEIGHT,b));d=DvtButtonLAFUtils.GetButtonPathCommands(g,b,e,d);d=d.concat("Z");a=new DvtPath(a,d,"cls_shape");(d=DvtStyleUtils.getStyle(c,DvtPanelDrawer.TAB_BG_COLOR_INACTIVE,null))||(d=DvtStyleUtils.getStyle(c,DvtCSSStyle.BACKGROUND_COLOR,
null));a.setSolidFill(d);return a};
DvtControlPanelLAFUtils.createEmptyViewClosedFrame=function(a,b,c,d){b||(b=47);var e=parseInt(DvtStyleUtils.getStyle(c,DvtCSSStyle.BORDER_RADIUS,0)),g=DvtStyleUtils.getStyle(c,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0);b=Math.max(b,DvtStyleUtils.getStyle(c,DvtControlPanel.CP_BUTTON_HEIGHT,b));d=DvtButtonLAFUtils.GetButtonPathCommands(g,b,e,d);d=d.concat("Z");a=new DvtPath(a,d,"cls_shape");a.setSolidStroke(DvtStyleUtils.getStyle(c,DvtCSSStyle.BORDER_COLOR,null));a.setFill(null);return a};
DvtControlPanelLAFUtils.renderEmptyZoomShape=function(a,b,c,d,e){b||(b=137);var g=parseInt(DvtStyleUtils.getStyle(c,DvtCSSStyle.BORDER_RADIUS,0)),h=DvtStyleUtils.getStyle(c,DvtControlPanel.CP_TAB_SIZE,0),k=h-2*g,m=b+7-2*g;a=d&&e?DvtControlPanelLAFUtils.makeZoomShapeHelperOpenSide(a,g,h,b,d,e):DvtControlPanelLAFUtils.makeZoomShapeHelper(a,g,k,m,0,0);a.setSolidFill(DvtStyleUtils.getStyle(c,DvtCSSStyle.BACKGROUND_COLOR,null));return a};
DvtControlPanelLAFUtils.renderEmptyZoomFrame=function(a,b,c,d,e,g){b||(b=137);c||(c=!0);var h=parseInt(DvtStyleUtils.getStyle(d,DvtCSSStyle.BORDER_RADIUS,0)),k=DvtStyleUtils.getStyle(d,DvtControlPanel.CP_TAB_SIZE,0),m=k-2*h,n=b+7-2*h,t=null,t=e&&g?DvtControlPanelLAFUtils.makeZoomShapeHelperOpenSide(a,h,k,b,e,g):DvtControlPanelLAFUtils.makeZoomShapeHelper(a,h,m,n,0,0,c);t.setSolidStroke(DvtStyleUtils.getStyle(d,DvtCSSStyle.BORDER_COLOR,null));t.setFill(null);return t};
DvtControlPanelLAFUtils.makeZoomShapeHelper=function(a,b,c,d,e,g,h){h||(h=!0);e=c+b;g=d;var k=DvtPathUtils.moveTo(e+b,g),k=h?k+(DvtPathUtils.quadTo(b+e,DvtControlPanelLAFUtils.TAN_PI_8*b+g,DvtControlPanelLAFUtils.SIN_PI_4*b+e,DvtControlPanelLAFUtils.SIN_PI_4*b+g)+DvtPathUtils.quadTo(DvtControlPanelLAFUtils.TAN_PI_8*b+e,b+g,e,b+g)+DvtPathUtils.lineTo(e,b+g)):k+DvtPathUtils.lineTo(e+b,g+b),k=k+DvtPathUtils.lineTo(e-c,b+g);e-=c;k+=DvtPathUtils.quadTo(-DvtControlPanelLAFUtils.TAN_PI_8*b+e,b+g,-DvtControlPanelLAFUtils.SIN_PI_4*
b+e,DvtControlPanelLAFUtils.SIN_PI_4*b+g)+DvtPathUtils.quadTo(-b+e,DvtControlPanelLAFUtils.TAN_PI_8*b+g,-b+e,g)+DvtPathUtils.lineTo(-b+e,g)+DvtPathUtils.lineTo(-b+e,g-d);g-=d;k+=DvtPathUtils.lineTo(e+c+b,g)+DvtPathUtils.lineTo(e+c+b,g+d)+DvtPathUtils.closePath();return new DvtPath(a,k)};DvtControlPanelLAFUtils.makeZoomShapeHelperOpenSide=function(a,b,c,d,e,g){b=DvtControlPanelLAFUtils.GetShapePathCommands(a,c,d,b,e,g);return new DvtPath(a,b)};
DvtControlPanelLAFUtils.makeViewOpenShapeHelperOpenSide=function(a,b,c,d,e,g){b=DvtControlPanelLAFUtils.GetShapePathCommands(a,c,d,b,e,g);return new DvtPath(a,b)};
DvtControlPanelLAFUtils.GetShapePathCommands=function(a,b,c,d,e,g){var h;a=DvtAgent.isRightToLeft(a);e!=DvtControlPanelLAFUtils.OPEN_TOP||a||(h=["M",b,0,"L",b,c-d,"A",d,d,0,0,1,b-d,c,"L",0,c,"L",0,0]);e==DvtControlPanelLAFUtils.OPEN_TOP&&a?h=["M",b,0,"L",b,c,"L",d,c,"A",d,d,0,0,1,0,c-d,"L",0,0]:e!=DvtControlPanelLAFUtils.OPEN_RIGHT||a?e==DvtControlPanelLAFUtils.OPEN_RIGHT&&a?h=["M",0,0,"L",b,0,"L",b,c,"L",d,c,"A",d,d,0,0,1,0,c-d,"L",0,g]:e!=DvtControlPanelLAFUtils.OPEN_LEFT||a?e==DvtControlPanelLAFUtils.OPEN_LEFT&&
a?h=["M",b,c,"L",d,c,"A",d,d,0,0,1,0,c-d,"L",0,d,"A",d,d,0,0,1,d,0,"L",b,0]:e!=DvtControlPanelLAFUtils.OPEN_BOTTOM||a?e==DvtControlPanelLAFUtils.OPEN_BOTTOM&&a&&(h=["M",b,c,"L",b,0,"L",d,0,"A",d,d,0,0,0,0,d,"L",0,c-d,"A",d,d,0,0,0,d,c,"L",b-g,c]):h=["M",0,c,"L",0,0,"L",b-d,0,"A",d,d,0,0,1,b,d,"L",b,c-d,"A",d,d,0,0,1,b-d,c,"L",g,c]:h=["M",0,0,"L",b-d,0,"A",d,d,0,0,1,b,d,"L",b,c-d,"A",d,d,0,0,1,b-d,c,"L",0,c]:h=["M",b,g,"L",b,c-d,"A",d,d,0,0,1,b-d,c,"L",0,c,"L",0,0,"L",b,0];return h};
var DvtPanZoomComponent=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtPanZoomComponent,DvtBaseComponent,"DvtPanZoomComponent");DvtPanZoomComponent.BOX_SHADOW="box-shadow";DvtPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED="initCollapsed";DvtPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_EXPANDED="initExpanded";DvtPanZoomComponent.CONTROL_PANEL_BEHAVIOR_HIDDEN="hidden";DvtPanZoomComponent.PAN_ZOOM_KEY="panZoomInfo";DvtPanZoomComponent.SKIN_NAME="skin";
DvtPanZoomComponent._ATTR_INLINE_STYLE="inlineStyle";DvtPanZoomComponent._ATTR_CTRLPANEL_BACKGROUND_COLOR="cpBackgroundColor";DvtPanZoomComponent._ATTR_CTRLPANEL_BORDER_COLOR="cpBorderColor";DvtPanZoomComponent._ATTR_CTRLPANEL_BOX_SHADOW="cpBoxShadow";DvtPanZoomComponent._ATTR_CTRLPANEL_BORDER_RADIUS="cpBorderRadius";DvtPanZoomComponent._ATTR_TAB_BG_COLOR_INACTIVE="tabBgColorInactive";DvtPanZoomComponent._ATTR_TAB_BORDER_COLOR_INACTIVE="tabBorderColorInactive";
DvtPanZoomComponent.LEGEND_DISCLOSED_EVENT_KEY="isLegendDisclosed";
DvtPanZoomComponent.prototype.Init=function(a,b,c){DvtPanZoomComponent.superclass.Init.call(this,a,b,c);this._controlPanelBehavior=DvtPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED;this._displayedControls=DvtPanZoomCanvas.DEFAULT_DISPLAYED_CONTROLS;this._bSupportsVectorEffects=!DvtAgent.isEnvironmentBatik()&&!DvtAgent.isPlatformIE()&&!(DvtAgent.isPlatformGecko()&&17>=DvtAgent.getVersion());this._subcomponentStyles=this._resourcesMap=null;this._skinName=""};
DvtPanZoomComponent.prototype.getDisplayedControls=function(){return this._displayedControls};DvtPanZoomComponent.prototype.getPanZoomCanvas=function(){return this._panZoomCanvas};DvtPanZoomComponent.prototype.getResourcesMap=function(){this._resourcesMap||(this._resourcesMap=this.Options?this.Options._resources:{});return this._resourcesMap};DvtPanZoomComponent.prototype.getSkinName=function(){return this._skinName};DvtPanZoomComponent.prototype.getSubcomponentStyles=function(){return this._subcomponentStyles};
DvtPanZoomComponent.prototype.parseComponentJson=function(a){var b=(new DvtCSSStyle(a[DvtPanZoomComponent._ATTR_INLINE_STYLE])).getStyle(DvtCSSStyle.BACKGROUND_COLOR);b&&this.SetEndGradientColor(b);var b={},c=a[DvtPanZoomComponent.SKIN_NAME];c&&(this._setSkinName(c),b[DvtPanZoomComponent.SKIN_NAME]=c,"undefined"!=typeof DvtPanelDrawer&&(DvtStyleUtils.setStyle(b,DvtCSSStyle.BACKGROUND_COLOR,a[DvtPanZoomComponent._ATTR_CTRLPANEL_BACKGROUND_COLOR]),DvtStyleUtils.setStyle(b,DvtCSSStyle.BORDER_COLOR,a[DvtPanZoomComponent._ATTR_CTRLPANEL_BORDER_COLOR]),
DvtStyleUtils.setStyle(b,DvtCSSStyle.BORDER_RADIUS,a[DvtPanZoomComponent._ATTR_CTRLPANEL_BORDER_RADIUS]),DvtStyleUtils.setStyle(b,DvtPanZoomComponent.BOX_SHADOW,a[DvtPanZoomComponent._ATTR_CTRLPANEL_BOX_SHADOW]),DvtStyleUtils.setStyle(b,DvtPanelDrawer.TAB_BG_COLOR_INACTIVE,a[DvtPanZoomComponent._ATTR_TAB_BG_COLOR_INACTIVE]),DvtStyleUtils.setStyle(b,DvtPanelDrawer.TAB_BORDER_COLOR_INACTIVE,a[DvtPanZoomComponent._ATTR_TAB_BORDER_COLOR_INACTIVE])),this.setSubcomponentStyles(DvtControlPanelDefaults.calcOptions(b)))};
DvtPanZoomComponent.prototype.parseComponentAttrs=function(a){var b=(new DvtCSSStyle(a.getAttr(DvtPanZoomComponent._ATTR_INLINE_STYLE))).getStyle(DvtCSSStyle.BACKGROUND_COLOR);b&&this.SetEndGradientColor(b);var b={},c=a.getAttr(DvtPanZoomComponent.SKIN_NAME);c&&(this._setSkinName(c),b[DvtPanZoomComponent.SKIN_NAME]=c);"undefined"!=typeof DvtPanelDrawer&&(DvtStyleUtils.setStyle(b,DvtCSSStyle.BACKGROUND_COLOR,a.getAttr(DvtPanZoomComponent._ATTR_CTRLPANEL_BACKGROUND_COLOR)),DvtStyleUtils.setStyle(b,
DvtCSSStyle.BORDER_COLOR,a.getAttr(DvtPanZoomComponent._ATTR_CTRLPANEL_BORDER_COLOR)),DvtStyleUtils.setStyle(b,DvtCSSStyle.BORDER_RADIUS,a.getAttr(DvtPanZoomComponent._ATTR_CTRLPANEL_BORDER_RADIUS)),DvtStyleUtils.setStyle(b,DvtPanZoomComponent.BOX_SHADOW,a.getAttr(DvtPanZoomComponent._ATTR_CTRLPANEL_BOX_SHADOW)),DvtStyleUtils.setStyle(b,DvtPanelDrawer.TAB_BG_COLOR_INACTIVE,a.getAttr(DvtPanZoomComponent._ATTR_TAB_BG_COLOR_INACTIVE)),DvtStyleUtils.setStyle(b,DvtPanelDrawer.TAB_BORDER_COLOR_INACTIVE,
a.getAttr(DvtPanZoomComponent._ATTR_TAB_BORDER_COLOR_INACTIVE)));this.setSubcomponentStyles(DvtControlPanelDefaults.calcOptions(b))};DvtPanZoomComponent.prototype.render=function(a,b,c){this.Width=b;this.Height=c;this._isResize=!a;if(!this.IsResize()||this.getPanZoomCanvas())this.PreRender(),this.IsResize()||("object"==typeof a?this.SetOptions(a):this._loadXml(a)),this.Render(a,b,c),this.UpdateAriaAttributes()};
DvtPanZoomComponent.prototype.setControlPanelBehavior=function(a){this._controlPanelBehavior=a};DvtPanZoomComponent.prototype.setDisplayedControls=function(a){this._displayedControls=a};DvtPanZoomComponent.prototype.supportsVectorEffects=function(){return this._bSupportsVectorEffects};
DvtPanZoomComponent.prototype.GetControlPanel=function(){var a=this.GetControlPanelBehavior();return a!=DvtPanZoomComponent.CONTROL_PANEL_BEHAVIOR_HIDDEN?(a=a==DvtPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED?DvtControlPanel.STATE_COLLAPSED:DvtControlPanel.STATE_EXPANDED,new DvtControlPanel(this.getCtx(),this,a)):null};DvtPanZoomComponent.prototype.GetControlPanelBehavior=function(){return this._controlPanelBehavior};DvtPanZoomComponent.prototype.GetXmlDomParser=function(){return null};
DvtPanZoomComponent.prototype.GetXmlStringParser=function(){return new DvtXmlParser(this.getCtx())};DvtPanZoomComponent.prototype.HandlePanEvent=function(a){};DvtPanZoomComponent.prototype.HandleZoomEvent=function(a){};DvtPanZoomComponent.prototype.IsResize=function(){return this._isResize};DvtPanZoomComponent.prototype.PreRender=function(){};
DvtPanZoomComponent.prototype.Render=function(){if(this._endGradientColor||!this.getSkinName())this._backgroundPane||(this._backgroundPane=new DvtRect(this.getCtx(),0,0,0,0),this.addChild(this._backgroundPane)),this._backgroundPane.setWidth(this.getWidth()),this._backgroundPane.setHeight(this.getHeight()),this._backgroundPane.setFill(this._getBackgroundGradient(this._endGradientColor));if(this.IsResize())this._panZoomCanvas.setSize(this.getWidth(),this.getHeight());else{this._panZoomCanvas&&(this.removeChild(this._panZoomCanvas),
this._panZoomCanvas=null);this._panZoomCanvas=new DvtPanZoomCanvas(this.getCtx(),this.getWidth(),this.getHeight(),this);this._panZoomCanvas.addEvtListener(DvtPanEvent.TYPE,this.HandlePanEvent,!1,this);this._panZoomCanvas.addEvtListener(DvtZoomEvent.TYPE,this.HandleZoomEvent,!1,this);this.addChild(this._panZoomCanvas);var a=this.GetControlPanel();a&&(a.addEvtListener(DvtControlPanelEvent.TYPE,this._handleControlPanelEvent,!1,this),this._panZoomCanvas.setControlPanel(a));this._panZoomCanvas.renderComponent()}a=
new DvtClipPath("comp");a.addRect(this.getTranslateX(),this.getTranslateY(),this.getWidth(),this.getHeight());this.setClipPath(a)};DvtPanZoomComponent.prototype.SetEndGradientColor=function(a){this._endGradientColor=a};DvtPanZoomComponent.prototype.SetOptions=function(a){this.Options=this.Defaults?this.Defaults.calcOptions(a):a};
DvtPanZoomComponent.prototype._getBackgroundGradient=function(a){var b=1;if(a&&"#7396C8"!=a){var b=DvtColorUtils.getAlpha(a),c=(DvtColorUtils.getRed("#AECDEA")-DvtColorUtils.getRed("#7396C8"))/(255-DvtColorUtils.getRed("#7396C8")),d=(DvtColorUtils.getGreen("#AECDEA")-DvtColorUtils.getGreen("#7396C8"))/(255-DvtColorUtils.getGreen("#7396C8")),e=(DvtColorUtils.getBlue("#AECDEA")-DvtColorUtils.getBlue("#7396C8"))/(255-DvtColorUtils.getBlue("#7396C8")),g=DvtColorUtils.getRed(a),h=DvtColorUtils.getGreen(a),
k=DvtColorUtils.getBlue(a),c=Math.round(g+c*(255-g)),d=Math.round(h+d*(255-h)),e=Math.round(k+e*(255-k)),e=DvtColorUtils.makeRGB(c,d,e);a=DvtColorUtils.getRGB(a);a=["#FFFFFF","#FFFFFF",e,a]}else a=["#FFFFFF","#FFFFFF","#AECDEA","#7396C8"];var b=[b,b,b,b],e=[0,45/255,190/255,1],h=this.Width,k=1.7*h*1.7,d=1.7*this.Height,h=0+(h-k)/2,c=h+k/2,g=-35+d/2,m=1.5*Math.min(k/2,d/2);return new DvtRadialGradientFill(a,b,e,c,g,m,[h,-35,k,d])};
DvtPanZoomComponent.prototype._handleControlPanelEvent=function(a){var b=new DvtSetPropertyEvent;b.addParam(DvtControlPanel.CONTROL_PANEL_BEHAVIOR_KEY,a.getSubType()==DvtControlPanelEvent.SUBTYPE_SHOW?DvtPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_EXPANDED:DvtPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED);this.__dispatchEvent(b)};
DvtPanZoomComponent.prototype._loadXml=function(a){if(null!=a&&0!=a.length){var b=this.GetXmlStringParser();b&&(a=b.parse(a))&&("r"===a.getName()&&(a=a.getFirstChild()),a&&this.GetXmlDomParser().loadXmlInitial(a))}};DvtPanZoomComponent.prototype._setSkinName=function(a){this._skinName=a};DvtPanZoomComponent.prototype.setSubcomponentStyles=function(a){this._subcomponentStyles=a};
DvtPanZoomComponent.prototype._getLegendMaxWidthValue=function(a,b){var c=b;if(!a)return c;c=DvtStringUtils.trim(a);DvtStringUtils.endsWith(c,"%")?(c=DvtStringUtils.trim(c.replace(/\%$/,"")),isNaN(parseFloat(c))||(c=parseFloat(c)/100*b)):DvtStringUtils.endsWith(c,"px")&&(c=c.replace(/px$/,""));c=isNaN(parseFloat(c))?b:parseFloat(c);return Math.min(c,b)};var DvtPanZoomCanvas=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtPanZoomCanvas,DvtContainer,"DvtPanZoomCanvas");
DvtPanZoomCanvas.DEFAULT_PAN_INCREMENT=15;DvtPanZoomCanvas.DEFAULT_ZOOM_INCREMENT=.05;DvtPanZoomCanvas.DEFAULT_ANIMATION_DURATION=.5;DvtPanZoomCanvas.DEFAULT_DISPLAYED_CONTROLS=DvtControlPanel.CONTROLS_ALL;
DvtPanZoomCanvas.prototype.Init=function(a,b,c,d){DvtPanZoomCanvas.superclass.Init.call(this,a);this._view=d;this._ww=b;this._hh=c;this._my=this._mx=this._py=this._px=0;this._maxPanY=this._minPanY=this._maxPanX=this._minPanX=null;this._minZoom=.1;this._maxZoom=1;this._panIncrement=DvtPanZoomCanvas.DEFAULT_PAN_INCREMENT;this._zoomIncrement=DvtPanZoomCanvas.DEFAULT_ZOOM_INCREMENT;this._bTiltPanningEnabled=!1;this._zoomToFitPadding=20;this._controlPanel=null;this._bZoomToFitEnabled=this._bZoomingEnabled=
this._bPanningEnabled=!0;this._backgroundPane=new DvtRect(this.getCtx(),0,0,this._ww,this._hh);this.addChild(this._backgroundPane);this._backgroundPane.setInvisibleFill();this._contentPane=new DvtContainer(this.getCtx());this.addChild(this._contentPane);this._contentPane.setMatrix(new DvtMatrix);this._animationDuration=DvtPanZoomCanvas.DEFAULT_ANIMATION_DURATION;this._eventManager=new DvtPanZoomCanvasEventManager(a,this.FireListener,this);this._eventManager.addListeners(this);this._clipIdSuffix=1;
this.SetClipRect(b,c);this._bElasticConstraints=!1;this._elasticConstraintsAnim=null};DvtPanZoomCanvas.prototype.setSize=function(a,b,c){this._ww=a;this._hh=b;c||(this._backgroundPane.setWidth(a),this._backgroundPane.setHeight(b),this._controlPanel&&this.PositionControlPanel(),this.SetClipRect(a,b))};DvtPanZoomCanvas.prototype.getSize=function(){return new DvtDimension(this._ww,this._hh)};
DvtPanZoomCanvas.prototype.SetClipRect=function(a,b){var c=new DvtClipPath("pzc");c.addRect(this.getTranslateX(),this.getTranslateY(),a,b);this.setClipPath(c)};DvtPanZoomCanvas.prototype.getContentPane=function(){return this._contentPane};DvtPanZoomCanvas.prototype.setContentPane=function(a){this._contentPane=a};DvtPanZoomCanvas.prototype.getBackgroundPane=function(){return this._backgroundPane};
DvtPanZoomCanvas.prototype.getContentPaneMatrix=function(a){return a&&(a=a.getDestVal(this._contentPane,this._contentPane.getMatrix))?a:this._contentPane.getMatrix()};DvtPanZoomCanvas.prototype.getZoom=function(a){return this.getContentPaneMatrix(a).getA()};DvtPanZoomCanvas.prototype.getPanX=function(a){return this.getContentPaneMatrix(a).getTx()};DvtPanZoomCanvas.prototype.getPanY=function(a){return this.getContentPaneMatrix(a).getTy()};
DvtPanZoomCanvas.prototype.setZoomToFitPadding=function(a){this._zoomToFitPadding=a};DvtPanZoomCanvas.prototype.getZoomToFitPadding=function(){return this._zoomToFitPadding};
DvtPanZoomCanvas.prototype.panBy=function(a,b,c){if(this.isPanningEnabled()){var d=this.getPanX(c),e=this.getPanY(c),g=this.ConstrainPanX(d+a),h=this.ConstrainPanY(e+b);b=g-d;var k=h-e;a=null;c&&(a=c.getDestVal(this._contentPane,this._contentPane.getMatrix))&&(a=a.clone());a||(a=this._contentPane.getMatrix().clone());a.translate(b,k);var m=this;b=function(){m.FirePanEvent(DvtPanEvent.SUBTYPE_PANNING,g,h,d,e,c)};k=function(){m.FirePanEvent(DvtPanEvent.SUBTYPE_PANNED,g,h,d,e,c)};c?(c.addProp(DvtAnimator.TYPE_MATRIX,
this._contentPane,this._contentPane.getMatrix,this._contentPane.setMatrix,a),DvtPlayable.prependOnInit(c,b),DvtPlayable.appendOnEnd(c,k)):(b(),this._contentPane.setMatrix(a),k())}};DvtPanZoomCanvas.prototype.panTo=function(a,b,c){this.isPanningEnabled()&&(a-=this.getPanX(c),b-=this.getPanY(c),this.panBy(a,b,c))};
DvtPanZoomCanvas.prototype.zoomBy=function(a,b,c,d){if(this.isZoomingEnabled()){b||0===b||(b=this._ww/2);c||0===c||(c=this._hh/2);var e=this.getZoom(d),g=this.ConstrainZoom(e*a);this.adjustZoomControls(g);if(DvtPanZoomCanvas.RoundFloatForCompare(e)!=DvtPanZoomCanvas.RoundFloatForCompare(g)){var h=g/e;a=null;d&&(a=d.getDestVal(this._contentPane,this._contentPane.getMatrix))&&(a=a.clone());a||(a=this._contentPane.getMatrix().clone());a.scale(h,h,b,c);var k=this.ConstrainPanX(a.getTx())-a.getTx(),m=
this.ConstrainPanY(a.getTy())-a.getTy();this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ADJUST_PAN_CONSTRAINTS,g,e,d,null,b,c,k,m);k=this.ConstrainPanX(a.getTx())-a.getTx();m=this.ConstrainPanY(a.getTy())-a.getTy();a.translate(k,m);var n=this,h=function(){n.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOMING,g,e,d,null,b,c,k,m)},t=function(){n.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOMED,n.getZoom(),e,d,null,b,c,k,m)};d?(d.addProp(DvtAnimator.TYPE_MATRIX,this._contentPane,this._contentPane.getMatrix,this._contentPane.setMatrix,
a),DvtPlayable.prependOnInit(d,h),DvtPlayable.appendOnEnd(d,t)):(h(),this._contentPane.setMatrix(a),t())}}};DvtPanZoomCanvas.prototype.zoomTo=function(a,b,c,d){this.isZoomingEnabled()&&(a/=this.getZoom(d),this.zoomBy(a,b,c,d))};DvtPanZoomCanvas.prototype.center=function(a,b){var c=this.isPanningEnabled();this.setPanningEnabled(!0);var d=b;d||(d=this._contentPane.getDimensions());var e=(d.x+d.w/2)*this.getZoom(),d=(d.y+d.h/2)*this.getZoom();this.panTo(this._ww/2-e,this._hh/2-d,a);this.setPanningEnabled(c)};
DvtPanZoomCanvas.prototype.zoomToFit=function(a,b){if(this.isZoomToFitEnabled()){var c=this.isPanningEnabled(),d=this.isZoomingEnabled();this.setPanningEnabled(!0);this.setZoomingEnabled(!0);try{var e=b?b:this._contentPane.getDimensions();if(e=this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_CALC_BOUNDS,null,null,a,e).getZoomToFitBounds()){var g=Math.min((this._ww-2*this._zoomToFitPadding)/e.w,(this._hh-2*this._zoomToFitPadding)/e.h),g=this.ConstrainZoom(g),h=this._ww/2-(e.x+e.w/2)*g,k=this._hh/
2-(e.y+e.h/2)*g,m=this,n=function(){m.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_BEGIN,null,null,a,e)},t=function(){m.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_END,null,null,a,e)};a?DvtPlayable.prependOnInit(a,n):n();this.zoomTo(g,0,0,a);this.panTo(h,k,a);a?DvtPlayable.appendOnEnd(a,t):t()}}finally{this.setPanningEnabled(c),this.setZoomingEnabled(d)}}};
DvtPanZoomCanvas.prototype.calcZoomToFitScale=function(a){a||(a=this._contentPane.getDimensions());a=this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_CALC_BOUNDS,null,null,null,a).getZoomToFitBounds();a=Math.min((this._ww-2*this._zoomToFitPadding)/a.w,(this._hh-2*this._zoomToFitPadding)/a.h);return a=this.ConstrainZoom(a)};
DvtPanZoomCanvas.prototype.calcZoomToFitBounds=function(){var a=this._contentPane.getDimensions(),a=this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_CALC_BOUNDS,null,null,null,a).getZoomToFitBounds();a.x-=this._zoomToFitPadding;a.y-=this._zoomToFitPadding;a.w+=2*this._zoomToFitPadding;a.h+=2*this._zoomToFitPadding;return a};
DvtPanZoomCanvas.prototype.getViewport=function(){var a=this.localToStage(new DvtPoint(0,0)),b=this.localToStage(new DvtPoint(this._ww,this._hh)),a=this.getContentPane().stageToLocal(a),b=this.getContentPane().stageToLocal(b);return new DvtRectangle(a.x,a.y,b.x-a.x,b.y-a.y)};
DvtPanZoomCanvas.prototype.SetElasticConstraints=function(a){if(this._bElasticConstraints=a)this._elasticConstraintsAnim&&(this._elasticConstraintsAnim.isRunning()&&this._elasticConstraintsAnim.stop(),this._elasticConstraintsAnim=null);else{a=this.getPanX();var b=this.getPanY(),c=this.getZoom();this._bElasticPan=a!=this.ConstrainPanX(a)||b!=this.ConstrainPanY(b);this._bElasticZoom=c!=this.ConstrainZoom(c);if(this._bElasticPan||this._bElasticZoom)this._elasticConstraintsAnim=new DvtAnimator(this.getCtx(),
.4),this._elasticConstraintsAnim.setEasing(DvtEasing.cubicOut),this._bElasticZoom&&this.zoomBy(1,.5*this._ww,.5*this._hh,this._elasticConstraintsAnim),this._bElasticPan&&this.panBy(0,0,this._elasticConstraintsAnim),DvtPlayable.appendOnEnd(this._elasticConstraintsAnim,this._elasticConstraintsAnimOnEnd,this),this._bElasticPan&&this.FirePanEvent(DvtPanEvent.SUBTYPE_ELASTIC_ANIM_BEGIN,null,null,null,null,this._elasticConstraintsAnim),this._bElasticZoom&&this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ELASTIC_ANIM_BEGIN,
null,null,null,null,this._elasticConstraintsAnim),this._elasticConstraintsAnim.play()}};DvtPanZoomCanvas.prototype.IsElasticConstraints=function(){return this._bElasticConstraints};DvtPanZoomCanvas.prototype._elasticConstraintsAnimOnEnd=function(){this._elasticConstraintsAnim=null;this._bElasticPan&&this.FirePanEvent(DvtPanEvent.SUBTYPE_ELASTIC_ANIM_END);this._bElasticZoom&&this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ELASTIC_ANIM_END)};
DvtPanZoomCanvas.prototype._panDampingFunc=function(a,b){return Math.sqrt(.04*b*a)};DvtPanZoomCanvas.prototype._zoomDampingFunc=function(a,b){return Math.sqrt(.008*b*a)};
DvtPanZoomCanvas.prototype.ConstrainPanX=function(a){null!=this._minPanX&&a<this._minPanX&&(this.IsElasticConstraints()?(a=this._minPanX-a,a=this._minPanX-this._panDampingFunc(a,this._ww)):a=this._minPanX);null!=this._maxPanX&&a>this._maxPanX&&(this.IsElasticConstraints()?(a-=this._maxPanX,a=this._maxPanX+this._panDampingFunc(a,this._ww)):a=this._maxPanX);return a};
DvtPanZoomCanvas.prototype.ConstrainPanY=function(a){null!=this._minPanY&&a<this._minPanY&&(this.IsElasticConstraints()?(a=this._minPanY-a,a=this._minPanY-this._panDampingFunc(a,this._hh)):a=this._minPanY);null!=this._maxPanY&&a>this._maxPanY&&(this.IsElasticConstraints()?(a-=this._maxPanY,a=this._maxPanY+this._panDampingFunc(a,this._hh)):a=this._maxPanY);return a};
DvtPanZoomCanvas.prototype.ConstrainZoom=function(a){a=Math.max(0,a);this._minZoom&&a<this._minZoom&&(this.IsElasticConstraints()?(a=this._minZoom-a,a=this._minZoom-this._zoomDampingFunc(a,this._maxZoom-this._minZoom)):a=this._minZoom);this._maxZoom&&a>this._maxZoom&&(this.IsElasticConstraints()?(a-=this._maxZoom,a=this._maxZoom+this._zoomDampingFunc(a,this._maxZoom-this._minZoom)):a=this._maxZoom);return a};DvtPanZoomCanvas.RoundFloatForCompare=function(a){return Math.round(1E5*a)};
DvtPanZoomCanvas.prototype.renderComponent=function(){var a=this.getControlPanel();a&&(this.addChild(a),this.PositionControlPanel(),a.renderComponent())};DvtPanZoomCanvas.prototype.setControlPanel=function(a){this._controlPanel=a};DvtPanZoomCanvas.prototype.getControlPanel=function(){return this._controlPanel};
DvtPanZoomCanvas.prototype.PositionControlPanel=function(){var a=this._view.getSubcomponentStyles(),b=DvtStyleUtils.getStyle(a,DvtControlPanel.CP_PADDING_SIDE,0),c=DvtStyleUtils.getStyle(a,DvtControlPanel.CP_PADDING_TOP,0),a=DvtStyleUtils.getStyle(a,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0),b=DvtAgent.isRightToLeft(this.getCtx())?this._ww-a-b:b;this._controlPanel.setTranslate(b,c)};DvtPanZoomCanvas.prototype.GetRelativeMousePosition=function(a){return this.getCtx().pageToStageCoords(a.pageX,a.pageY)};
DvtPanZoomCanvas.prototype.FirePanEvent=function(a,b,c,d,e,g){a=new DvtPanEvent(a,b,c,d,e,g);this.FireListener(a)};DvtPanZoomCanvas.prototype.FireZoomEvent=function(a,b,c,d,e,g,h,k,m){a=new DvtZoomEvent(a,b,c,d,e,new DvtPoint(g,h),k,m);this.FireListener(a);return a};DvtPanZoomCanvas.prototype.zoomAndCenter=function(){this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_AND_CENTER)};
DvtPanZoomCanvas.prototype.getNextZoomLevel=function(a){a+=this.getZoomIncrement();a>this.getMaxZoom()&&(a=this.getMaxZoom());return a};DvtPanZoomCanvas.prototype.getPrevZoomLevel=function(a){a-=this.getZoomIncrement();a<this.getMinZoom()&&(a=this.getMinZoom());return a};DvtPanZoomCanvas.prototype.setZoomIncrement=function(a){this._zoomIncrement=a};DvtPanZoomCanvas.prototype.getZoomIncrement=function(){return this._zoomIncrement};
DvtPanZoomCanvas.prototype.setPanIncrement=function(a){this._panIncrement=a};DvtPanZoomCanvas.prototype.getPanIncrement=function(){return this._panIncrement};DvtPanZoomCanvas.prototype.setMinZoom=function(a){this._minZoom=a};DvtPanZoomCanvas.prototype.getMinZoom=function(){return this._minZoom};DvtPanZoomCanvas.prototype.setMaxZoom=function(a){0>a&&(a=1);this._maxZoom=a};DvtPanZoomCanvas.prototype.getMaxZoom=function(){return this._maxZoom};
DvtPanZoomCanvas.prototype.setMinPanX=function(a){this._minPanX=a};DvtPanZoomCanvas.prototype.getMinPanX=function(){return this._minPanX};DvtPanZoomCanvas.prototype.setMaxPanX=function(a){this._maxPanX=a};DvtPanZoomCanvas.prototype.getMaxPanX=function(){return this._maxPanX};DvtPanZoomCanvas.prototype.setMinPanY=function(a){this._minPanY=a};DvtPanZoomCanvas.prototype.getMinPanY=function(){return this._minPanY};DvtPanZoomCanvas.prototype.setMaxPanY=function(a){this._maxPanY=a};
DvtPanZoomCanvas.prototype.getMaxPanY=function(){return this._maxPanY};DvtPanZoomCanvas.prototype.setTiltPanningEnabled=function(a){this._bTiltPanningEnabled=a};DvtPanZoomCanvas.prototype.isTiltPanningEnabled=function(a){return this._bTiltPanningEnabled};DvtPanZoomCanvas.prototype.setAnimationDuration=function(a){this._animationDuration=a};DvtPanZoomCanvas.prototype.getAnimationDuration=function(){return this._animationDuration};
DvtPanZoomCanvas.prototype.setPanningEnabled=function(a){this._bPanningEnabled=a};DvtPanZoomCanvas.prototype.isPanningEnabled=function(){return this._bPanningEnabled};DvtPanZoomCanvas.prototype.setZoomingEnabled=function(a){this._bZoomingEnabled=a};DvtPanZoomCanvas.prototype.isZoomingEnabled=function(){return this._bZoomingEnabled};DvtPanZoomCanvas.prototype.setZoomToFitEnabled=function(a){this._bZoomToFitEnabled=a};DvtPanZoomCanvas.prototype.isZoomToFitEnabled=function(){return this._bZoomToFitEnabled};
DvtPanZoomCanvas.prototype.adjustZoomControls=function(a){if(this._controlPanel){var b=this.getZoom();a==this.getMinZoom()&&a==this.getMaxZoom()?(this._controlPanel.enableZoomInControl(!1),this._controlPanel.enableZoomOutControl(!1)):b<=a&&a==this.getMaxZoom()?(this._controlPanel.enableZoomInControl(!1),this._controlPanel.enableZoomOutControl(!0)):b>=a&&a==this.getMinZoom()?(this._controlPanel.enableZoomInControl(!0),this._controlPanel.enableZoomOutControl(!1)):(this._controlPanel.enableZoomInControl(!0),
this._controlPanel.enableZoomOutControl(!0))}};DvtPanZoomCanvas.prototype.setCurrentTouchTargets=function(a){this._currTargets=a};DvtPanZoomCanvas.prototype.getCurrentTouchTargets=function(){return this._currTargets};DvtPanZoomCanvas.prototype.resetTouchTargets=function(){DvtAgent.isTouchDevice()&&(this._currTargets=null,this._eventManager.TouchManager.reset())};DvtPanZoomCanvas.prototype.panZoomEnd=function(){this._eventManager.PanZoomEnd()};
DvtPanZoomCanvas.prototype.setInteractionEnabled=function(a){a?this._eventManager.addListeners(this):this._eventManager.removeListeners(this)};var DvtPanZoomCanvasEventManager=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtPanZoomCanvasEventManager,DvtEventManager,"DvtPanZoomCanvasEventManager");DvtPanZoomCanvasEventManager.EVENT_INFO_PANNED_KEY="panned";
DvtPanZoomCanvasEventManager.prototype.Init=function(a,b,c){DvtPanZoomCanvasEventManager.superclass.Init.call(this,a,b,c);this._pzc=c;this._zoomAnimator=null;this._bDragging=this._bZooming=this._bPanned=this._bPanning=!1;this._bMomentumPanning=!0};DvtPanZoomCanvasEventManager._PAN_TOUCH_KEY="panTouch";DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY="zoomTouch";DvtPanZoomCanvasEventManager._MOMENTUM_START_TIMER_INTERVAL=50;
DvtPanZoomCanvasEventManager.prototype.addListeners=function(a){DvtPanZoomCanvasEventManager.superclass.addListeners.call(this,a);DvtAgent.isPlatformGecko()?a.addEvtListener("DOMMouseScroll",this.OnMouseWheel,!1,this):a.addEvtListener(DvtMouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)};
DvtPanZoomCanvasEventManager.prototype.removeListeners=function(a){DvtPanZoomCanvasEventManager.superclass.removeListeners.call(this,a);DvtAgent.isPlatformGecko()?a.removeEvtListener("DOMMouseScroll",this.OnMouseWheel,!1,this):a.removeEvtListener(DvtMouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)};
DvtPanZoomCanvasEventManager.prototype.OnMouseDown=function(a){this._bPanned=this._bDragging=!1;a.button!=DvtMouseEvent.RIGHT_CLICK_BUTTON&&(a=this._callbackObj.GetRelativeMousePosition(a),this._mx=a.x,this._my=a.y,this._px=this._mx,this._py=this._my,this._bDown=!0,this._origPanX=this._callbackObj.getPanX(),this._origPanY=this._callbackObj.getPanY(),this._origZoom=this._callbackObj.getZoom(),this._bMomentumPanning&&(this._currTime=(new Date).getTime()));this._momentumTimer&&this._momentumTimer.isRunning()&&
(this._momentumTimer.stop(),this._momentumTimer.reset())};
DvtPanZoomCanvasEventManager.prototype.OnMouseMove=function(a){if(this._bDown){this._bDragging=!0;var b=this._callbackObj.GetRelativeMousePosition(a),c=b.x,b=b.y;a.ctrlKey?(this._bZooming||(this._callback.call(this._callbackObj,new DvtZoomEvent(DvtZoomEvent.SUBTYPE_DRAG_ZOOM_BEGIN)),this._bZooming=!0,this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningStarted(),this._callbackObj.SetElasticConstraints(!0)),a=this._origZoom*Math.pow(1+.01*(this._py>=b?1:-1),Math.abs(this._py-b)),
this._callbackObj.isPanningEnabled()?this._callbackObj.zoomTo(a,this._px,this._py):this._callbackObj.zoomTo(a,null,null)):this._handlePanMove(c,b);this._mx=c;this._my=b}};DvtPanZoomCanvasEventManager.prototype.OnMouseUp=function(a){this._bDragging=this._bDown=!1;this._bPanning&&this._handlePanEnd();this._bZooming&&this._handleZoomEnd();DvtPanZoomCanvasEventManager.superclass.OnMouseUp.call(this,a)};
DvtPanZoomCanvasEventManager.prototype.OnClick=function(a){if(this._bDragging||this._bPanned)this._bPanned=this._bDragging=!1,DvtEventManager.consumeEvent(a)};DvtPanZoomCanvasEventManager.prototype.OnMouseOut=function(a){this._bDown&&(this._bPanning||this._bZooming)&&(a.relatedTarget&&null!=a.relatedTarget||this.OnMouseUp(a));DvtPanZoomCanvasEventManager.superclass.OnMouseOut.call(this,a)};
DvtPanZoomCanvasEventManager.prototype.OnMouseWheel=function(a){if(a.wheelDelta&&0!==a.wheelDelta&&this._callbackObj.isZoomingEnabled()){var b=this._callbackObj.getZoom();this._zoomAnimator&&(b=this._zoomAnimator,this._zoomAnimator.stop(),b=this._callbackObj.getZoom(b),this._zoomAnimator=null);this._zoomAnimator=null;var c=a.wheelDelta;DvtAgent.isPlatformGecko()&&(c=-c);b*=1+this._callbackObj.getZoomIncrement()*c/Math.abs(c);c=this._callbackObj.GetRelativeMousePosition(a);this.getCtx().getDocumentUtils().cancelDomEvent(a);
this._callbackObj.isPanningEnabled()?this._callbackObj.zoomTo(b,c.x,c.y,this._zoomAnimator):this._callbackObj.zoomTo(b,null,null,this._zoomAnimator);this._zoomAnimator&&(DvtPlayable.appendOnEnd(this._zoomAnimator,this._clearZoomAnimator,this),this._zoomAnimator.play())}};DvtPanZoomCanvasEventManager.prototype._clearZoomAnimator=function(){this._zoomAnimator=null};DvtPanZoomCanvasEventManager.prototype._handleMomentumStartTimer=function(){};
DvtPanZoomCanvasEventManager.prototype._handleMomentumTimer=function(){var a=1-.04*this._momentumIterCount,a=a*a,b=this._momentumTimer.getInterval(),c=a*this._momentumXperMS*b,a=a*this._momentumYperMS*b;this._momentumDx+=c;this._momentumDy+=a;var b=this._origPanX+this._mx-this._px+this._momentumDx,d=this._origPanY+this._my-this._py+this._momentumDy;this._callbackObj.panTo(b,d);var e=!1;if(24<=this._momentumIterCount)e=!0;else{var g=this._callbackObj.getPanX(),h=this._callbackObj.getPanY();if(Math.abs(g-
b)>Math.abs(c)||Math.abs(h-d)>Math.abs(a))e=!0}e?(this._momentumTimer.stop(),this._momentumTimer.reset(),this._callbackObj.SetElasticConstraints(!1)):this._momentumIterCount++};
DvtPanZoomCanvasEventManager.prototype.HandleImmediateTouchStartInternal=function(a){this._callbackObj.isZoomingEnabled()&&this.TouchManager.processAssociatedTouchAttempt(a,DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY,this.ZoomStartTouch,this);this._callbackObj.isPanningEnabled()&&this.TouchManager.processAssociatedTouchAttempt(a,DvtPanZoomCanvasEventManager._PAN_TOUCH_KEY,this.PanStartTouch,this)};
DvtPanZoomCanvasEventManager.prototype.HandleImmediateTouchMoveInternal=function(a){this._callbackObj.isZoomingEnabled()&&this.TouchManager.processAssociatedTouchMove(a,DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY);this._callbackObj.isPanningEnabled()&&this.TouchManager.processAssociatedTouchMove(a,DvtPanZoomCanvasEventManager._PAN_TOUCH_KEY);(this._callbackObj.isZoomingEnabled()||this._callbackObj.isPanningEnabled())&&a.preventDefault()};
DvtPanZoomCanvasEventManager.prototype.HandleImmediateTouchEndInternal=function(a){this._callbackObj.isZoomingEnabled()&&this.TouchManager.processAssociatedTouchEnd(a,DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY);this._callbackObj.isPanningEnabled()&&this.TouchManager.processAssociatedTouchEnd(a,DvtPanZoomCanvasEventManager._PAN_TOUCH_KEY)};
DvtPanZoomCanvasEventManager.prototype.ZoomStartTouch=function(a,b){var c=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY);1>=c.length&&(this.TouchManager.saveProcessedTouch(b.identifier,DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY,null,DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY,DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY,this.ZoomMoveTouch,this.ZoomEndTouch,this),this._mx=b.pageX,this._my=b.pageY,this._px=this._mx,this._py=this._my,this._origPanX=this._callbackObj.getPanX(),
this._origPanY=this._callbackObj.getPanY(),this._origZoom=this._callbackObj.getZoom(),this._origDist=null,c=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY),this._callbackObj.setCurrentTouchTargets(this.TouchManager.getStartTargetsByIds(c)));this._momentumTimer&&this._momentumTimer.isRunning()&&(this._momentumTimer.stop(),this._momentumTimer.reset())};
DvtPanZoomCanvasEventManager.prototype.ZoomMoveTouch=function(a,b){var c=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY);if(2==c.length){var d=this.TouchManager.getMultiTouchData(c);if(d){this._bZooming||(this._bZooming=!0,this.TouchManager.blockTouchHold(),this._callback.call(this._callbackObj,new DvtZoomEvent(DvtZoomEvent.SUBTYPE_DRAG_ZOOM_BEGIN)),this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningStarted());this._callbackObj.SetElasticConstraints(!0);
null==this._origDist&&(this._origDist=d.dist-d.dz);var e=d.dist/this._origDist*this._origZoom,g=this._pzc.getCtx().pageToStageCoords(d.cx,d.cy);this.hideTooltip();this._callbackObj.setCurrentTouchTargets(this.TouchManager.getStartTargetsByIds(c));this._callbackObj.zoomTo(e,g.x,g.y);this._callbackObj.panBy(d.dcx,d.dcy)}}};
DvtPanZoomCanvasEventManager.prototype.ZoomEndTouch=function(a,b){this._bZooming&&(this._origDist=null,this.TouchManager.unblockTouchHold(),this._handleZoomEnd());var c=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager._ZOOM_TOUCH_KEY);this._callbackObj.setCurrentTouchTargets(this.TouchManager.getStartTargetsByIds(c));0==c.length&&this._callback.call(this._callbackObj,new DvtZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_END))};
DvtPanZoomCanvasEventManager.prototype.PanStartTouch=function(a,b){!this._bZooming&&1>=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager._PAN_TOUCH_KEY).length&&(this.TouchManager.saveProcessedTouch(b.identifier,DvtPanZoomCanvasEventManager._PAN_TOUCH_KEY,null,DvtPanZoomCanvasEventManager._PAN_TOUCH_KEY,DvtPanZoomCanvasEventManager._PAN_TOUCH_KEY,this.PanMoveTouch,this.PanEndTouch,this),this._mx=b.pageX,this._my=b.pageY,this._px=this._mx,this._py=this._my,this._origPanX=this._callbackObj.getPanX(),
this._origPanY=this._callbackObj.getPanY(),this._origZoom=this._callbackObj.getZoom(),this._bMomentumPanning&&(this._currTime=(new Date).getTime()));this._momentumTimer&&this._momentumTimer.isRunning()&&(this._momentumTimer.stop(),this._momentumTimer.reset())};
DvtPanZoomCanvasEventManager.prototype.PanMoveTouch=function(a,b){if(!this._bZooming&&1==this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager._PAN_TOUCH_KEY).length){var c=b.pageX,d=b.pageY;this._handlePanMove(c,d);this._mx=c;this._my=d}};DvtPanZoomCanvasEventManager.prototype.PanEndTouch=function(a,b){!this._bZooming&&this._bPanning&&(this._handlePanEnd(),this.SetEventInfo(a,"panned",!0))};
DvtPanZoomCanvasEventManager.prototype._handleZoomEnd=function(){this._callback.call(this._callbackObj,new DvtZoomEvent(DvtZoomEvent.SUBTYPE_DRAG_ZOOM_END));this._bZooming=!1;this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningEnded();this._callbackObj.SetElasticConstraints(!1)};
DvtPanZoomCanvasEventManager.prototype._handlePanMove=function(a,b){this._bPanning||(this._callback.call(this._callbackObj,new DvtPanEvent(DvtPanEvent.SUBTYPE_DRAG_PAN_BEGIN)),this._bPanning=!0,this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningStarted(),this._callbackObj.SetElasticConstraints(!0),this._bMomentumPanning&&(this._arLastNMouseMoves=[]));this._callbackObj.panTo(this._origPanX+a-this._px,this._origPanY+b-this._py);this._bMomentumPanning&&(this._lastTime=this._currTime,
this._currTime=(new Date).getTime(),this._momentumStartTimer?(this._momentumStartTimer.isRunning()&&this._momentumStartTimer.stop(),this._momentumStartTimer.reset()):this._momentumStartTimer=new DvtTimer(this._context,DvtPanZoomCanvasEventManager._MOMENTUM_START_TIMER_INTERVAL,this._handleMomentumStartTimer,this,1),this._arLastNMouseMoves.push({dt:this._currTime-this._lastTime,dx:a-this._mx,dy:b-this._my}),5<this._arLastNMouseMoves.length&&this._arLastNMouseMoves.splice(0,1),this._momentumStartTimer.start())};
DvtPanZoomCanvasEventManager.prototype._handlePanEnd=function(){this._callback.call(this._callbackObj,new DvtPanEvent(DvtPanEvent.SUBTYPE_DRAG_PAN_END));this._bPanning=!1;this._bPanned=!0;this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningEnded();if(this._momentumStartTimer&&this._momentumStartTimer.isRunning()){this._momentumStartTimer.stop();this._momentumStartTimer.reset();this._momentumTimer?this._momentumTimer.reset():this._momentumTimer=new DvtTimer(this._context,DvtPanZoomCanvasEventManager._MOMENTUM_START_TIMER_INTERVAL,
this._handleMomentumTimer,this);for(var a=0,b=0,c=0,d=this._arLastNMouseMoves.length;0<this._arLastNMouseMoves.length;)var e=this._arLastNMouseMoves.pop(),a=a+e.dt,b=b+e.dx,c=c+e.dy;this._arLastNMouseMoves=null;this._momentumXperMS=b/a;this._momentumYperMS=c/a;this._momentumTimer.setInterval(Math.ceil(a/d));this._momentumIterCount=1;this._momentumDy=this._momentumDx=0;this._pzc.isPanningEnabled()&&this._momentumTimer.start()}else this._callbackObj.SetElasticConstraints(!1)};
DvtPanZoomCanvasEventManager.prototype.PanZoomEnd=function(){this.OnMouseUp(null)};DvtPanZoomCanvasEventManager.prototype.GetTouchResponse=function(){return this._pzc.isPanningEnabled()||this._pzc.isZoomingEnabled()?DvtEventManager.TOUCH_RESPONSE_TOUCH_HOLD:DvtEventManager.TOUCH_RESPONSE_AUTO};
DvtPanZoomCanvasEventManager.prototype.StoreInfoByEventType=function(a){return a==DvtPanZoomCanvasEventManager.EVENT_INFO_PANNED_KEY?!1:DvtPanZoomCanvasEventManager.superclass.StoreInfoByEventType.call(this,a)};var DvtPanZoomCanvasKeyboardHandler=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtPanZoomCanvasKeyboardHandler,DvtKeyboardHandler,"DvtPanZoomCanvasKeyboardHandler");
DvtPanZoomCanvasKeyboardHandler.prototype.Init=function(a,b){DvtPanZoomCanvasKeyboardHandler.superclass.Init.call(this,b);this._component=a};
DvtPanZoomCanvasKeyboardHandler.prototype.processKeyDown=function(a){var b=a.keyCode,c=this._component.getPanZoomCanvas();if(b==DvtKeyboardEvent.PAGE_UP)a.ctrlKey||a.shiftKey?c.panBy(c.getPanIncrement(),0):c.panBy(0,c.getPanIncrement());else if(b==DvtKeyboardEvent.PAGE_DOWN)a.ctrlKey||a.shiftKey?c.panBy(-c.getPanIncrement(),0):c.panBy(0,-c.getPanIncrement());else if(b==DvtKeyboardEvent.FORWARD_SLASH)(a=c.getControlPanel())&&a.toggleExpandCollapse();else if(DvtKeyboardEvent.isEquals(a)||DvtKeyboardEvent.isPlus(a))c.zoomTo(c.getZoom()+
c.getZoomIncrement());else if(DvtKeyboardEvent.isMinus(a)||DvtKeyboardEvent.isUnderscore(a))c.zoomTo(c.getZoom()-c.getZoomIncrement());else{if(b!=DvtKeyboardEvent.ZERO&&b!=DvtKeyboardEvent.NUMPAD_ZERO||a.ctrlKey||a.shiftKey)return DvtPanZoomCanvasKeyboardHandler.superclass.processKeyDown.call(this,a);c.zoomToFit()}};var DvtCollapsiblePanel=function(a,b,c,d,e,g,h,k){this.Init(a,b,c,d,e,g,h,k)};DvtCollapsiblePanel.COLLAPSE_NORTHEAST="col_northeast";DvtCollapsiblePanel.COLLAPSE_SOUTHEAST="col_southeast";
DvtCollapsiblePanel.COLLAPSE_NORTHWEST="col_northwest";DvtCollapsiblePanel.COLLAPSE_SOUTHWEST="col_southwest";DvtCollapsiblePanel.ANIMATIONDURATION=.25;DvtCollapsiblePanel.BODYCOLOR="#EBEFF5";DvtCollapsiblePanel.TITLEBARCLOSEICON_WIDTH=10;DvtCollapsiblePanel.TITLEBARCLOSEICON_HEIGHT=10;DvtCollapsiblePanel.BUTTONHEIGHT=25;DvtCollapsiblePanel.BUTTONWIDTH=10;DvtCollapsiblePanel._CONTENT_PADDING=5;DvtObj.createSubclass(DvtCollapsiblePanel,DvtContainer,"DvtCollapsiblePanel");
DvtCollapsiblePanel.prototype.Init=function(a,b,c,d,e,g,h,k){DvtCollapsiblePanel.superclass.Init.call(this,a);this._maxWidth=b;this._maxHeight=c;this.setCollapseDirection(d);this._buttonImages=e;this._isFixed=k?k:DvtAgent.isEnvironmentBatik();this._animation=this._collapseTooltip=this._expandTooltip=null;this._styleMap=g;this._borderColor=DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_COLOR,null);this._borderRadius=parseInt(DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_RADIUS,
null));this._bgColor=DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BACKGROUND_COLOR,null);this._bgAlpha=DvtStyleUtils.getStyle(this._styleMap,DvtControlPanel.BG_ALPHA,1);this._collapse=void 0!==h?!h:!1;this._contentContainer=new DvtContainer(a);this.addChild(this._contentContainer);this._contentContainer.setTranslate(DvtCollapsiblePanel._CONTENT_PADDING,DvtCollapsiblePanel._CONTENT_PADDING);this.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandleMouseOver,!1,this);this.addEvtListener(DvtMouseEvent.MOUSEOUT,
this.HandleMouseOut,!1,this)};
DvtCollapsiblePanel.prototype._drawButton=function(){if(!this._isFixed){this._buttonFrame=DvtControlPanelLAFUtils.createEmptyViewClosedFrame(this.getCtx(),DvtCollapsiblePanel.BUTTONHEIGHT,this._styleMap,!1);this._buttonFrame.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOUT_ALPHA]);this.addChild(this._buttonFrame);var a=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST;this.isCollapsed()?this._collapseExpandButton=DvtButtonLAFUtils.createExpandButton(this.getCtx(),
this._buttonImages,DvtCollapsiblePanel.BUTTONHEIGHT,this._styleMap,a?DvtButtonLAFUtils.DIR_LEFT:DvtButtonLAFUtils.DIR_RIGHT):this._collapseExpandButton=DvtButtonLAFUtils.createCollapseButton(this.getCtx(),this._buttonImages,DvtCollapsiblePanel.BUTTONHEIGHT,this._styleMap,a?DvtButtonLAFUtils.DIR_LEFT:DvtButtonLAFUtils.DIR_RIGHT);this._buttonFrame.addChild(this._collapseExpandButton);this._buttonFrame.setTranslateX(a?this._width:-DvtCollapsiblePanel.BUTTONWIDTH);DvtAgent.isTouchDevice()?this._collapseExpandButton.addEvtListener(DvtTouchEvent.TOUCHSTART,
this.OnButtonClick,!1,this):(this._collapseExpandButton.addEvtListener(DvtMouseEvent.CLICK,this.OnButtonClick,!1,this),this._collapseExpandButton.addEvtListener(DvtMouseEvent.MOUSEOVER,this.OnButtonHoverOver,!1,this),this._collapseExpandButton.addEvtListener(DvtMouseEvent.MOUSEOUT,this.OnButtonHoverOut,!1,this))}};DvtCollapsiblePanel.prototype.setBackgroundFill=function(a){this._background.setFill(a)};DvtCollapsiblePanel.prototype.setBackgroundStroke=function(a){this._background.setStroke(a)};
DvtCollapsiblePanel.prototype.setButtonTooltips=function(a,b){this._expandTooltip=a;this._collapseTooltip=b};
DvtCollapsiblePanel.prototype.addContent=function(a){this._contentContainer.addChild(a);a.addEvtListener(DvtResizeEvent.RESIZE_EVENT,this.HandleResize,!1,this);a=this._contentContainer.getDimensions();this._width=Math.min(this._maxWidth,a.w+2*DvtCollapsiblePanel._CONTENT_PADDING);this._height=Math.min(this._maxHeight,a.h+2*DvtCollapsiblePanel._CONTENT_PADDING);this._background?(this._background.setCmds(this._getOutlinePath(this._width,this._height)),a=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||
this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST,this._buttonFrame&&a&&this._buttonFrame.setTranslateX(this._width)):(this._background=this._createRoundRectangle(this._width,this._height),this.addChildAt(this._background,0),this._drawButton());this._collapse&&this._collapseExpand(!1)};
DvtCollapsiblePanel.prototype.HandleResize=function(a){var b=a.getWidth()+2*DvtCollapsiblePanel._CONTENT_PADDING;a=a.getHeight()+2*DvtCollapsiblePanel._CONTENT_PADDING;this._background.setCmds(this._getOutlinePath(b,a));var c=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST;this._buttonFrame&&c&&this._buttonFrame.setTranslateX(b);this.FireListener(new DvtResizeEvent(b,a,0,0))};DvtCollapsiblePanel.prototype.isCollapsed=function(){return this._collapse};
DvtCollapsiblePanel.prototype.setCollapsed=function(a){this._collapse!=a&&(this._collapse=a,this._collapseExpand(!0),this.FireListener(new DvtCollapsiblePanelEvent(a?DvtCollapsiblePanelEvent.SUBTYPE_HIDE:DvtCollapsiblePanelEvent.SUBTYPE_SHOW)))};
DvtCollapsiblePanel.prototype.setCollapseDirection=function(a){this._collapseDir=a?a:DvtCollapsiblePanel.COLLAPSE_NORTHEAST;DvtAgent.isRightToLeft(this.getCtx())&&(this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHEAST?this._collapseDir=DvtCollapsiblePanel.COLLAPSE_NORTHWEST:this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST?this._collapseDir=DvtCollapsiblePanel.COLLAPSE_NORTHEAST:this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHEAST?this._collapseDir=DvtCollapsiblePanel.COLLAPSE_SOUTHWEST:
this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST&&(this._collapseDir=DvtCollapsiblePanel.COLLAPSE_SOUTHEAST))};DvtCollapsiblePanel.prototype.getMaxWidth=function(){return this._maxWidth};DvtCollapsiblePanel.prototype.getMaxContentWidth=function(){return this._maxWidth-2*DvtCollapsiblePanel._CONTENT_PADDING};DvtCollapsiblePanel.prototype.getMaxHeight=function(){return this._maxHeight};DvtCollapsiblePanel.prototype.getMaxContentHeight=function(){return this._maxHeight-2*DvtCollapsiblePanel._CONTENT_PADDING};
DvtCollapsiblePanel.prototype._getRefPoint=function(a,b){return this.isCollapsed()?a:b?new DvtPoint(1/a.x,1/a.y):new DvtPoint(-a.x,-a.y)};
DvtCollapsiblePanel.prototype._collapseExpand=function(a){this._animation&&(this._animationStopped=!0,this._animation.stop(!0));var b=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHEAST,c=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST,d=c?0:this._width,e=b?0:this._height,g=new DvtPoint(1/this._width,1/this._height),d=new DvtPoint(d,e),b=new DvtPoint(c?-this._width:
this._width,e-(b?0:DvtCollapsiblePanel.BUTTONHEIGHT));a||(this._background.setAlpha(0),this._buttonFrame&&this._buttonFrame.setAlpha(0));g=new DvtAnimScaleBy(this.getCtx(),this._background,this._getRefPoint(g,!0),a?DvtCollapsiblePanel.ANIMATIONDURATION:1E-5);b=new DvtAnimMoveBy(this.getCtx(),this._buttonFrame,this._getRefPoint(b),a?DvtCollapsiblePanel.ANIMATIONDURATION:1E-5);a=new DvtAnimMoveBy(this.getCtx(),this._background,this._getRefPoint(d),a?DvtCollapsiblePanel.ANIMATIONDURATION:1E-5);if(this._animation=
new DvtParallelPlayable(this.getCtx(),g,b,a))this.getCtx().getTooltipManager().hideTooltip(),this.removeEvtListener(DvtMouseEvent.MOUSEOVER,this.HandleMouseOver,!1,this),this.removeEvtListener(DvtMouseEvent.MOUSEOUT,this.HandleMouseOut,!1,this),this._collapseExpandButton&&(this._collapseExpandButton.removeEvtListener(DvtTouchEvent.TOUCHSTART,this.OnButtonClick,!1,this),this._collapseExpandButton.removeEvtListener(DvtMouseEvent.CLICK,this.OnButtonClick,!1,this),this._collapseExpandButton.removeEvtListener(DvtMouseEvent.MOUSEOVER,
this.OnButtonHoverOver,!1,this),this._collapseExpandButton.removeEvtListener(DvtMouseEvent.MOUSEOUT,this.OnButtonHoverOut,!1,this)),this.isCollapsed()&&this._contentContainer.setAlpha(0),this._animation.setOnEnd(this.OnAnimationEnd,this),this._animation.play()};
DvtCollapsiblePanel.prototype._createRoundRectangle=function(a,b){var c=new DvtPath(this.getCtx(),this._getOutlinePath(a,b)),d=this._styleMap[DvtControlPanel.FRAME_ROLLOUT_ALPHA];c.setSolidFill(this._bgColor,this._bgAlpha);c.setSolidStroke(this._borderColor,d);return c};
DvtCollapsiblePanel.prototype._getOutlinePath=function(a,b){var c=this._borderRadius,d,e=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST;b<=DvtCollapsiblePanel.BUTTONHEIGHT&&(b=DvtCollapsiblePanel.BUTTONHEIGHT);d=this._isFixed||e?DvtPathUtils.moveTo(c,0):DvtPathUtils.moveTo(0,0);d+=DvtPathUtils.lineTo(a-c,0);!this._isFixed&&e?(d+=DvtPathUtils.lineTo(a,0),d+=DvtPathUtils.lineTo(a,c)):d+=DvtPathUtils.quadTo(a,0,a,c);!this._isFixed&&
b==DvtCollapsiblePanel.BUTTONHEIGHT&&e?d+=DvtPathUtils.lineTo(a,b):(d+=DvtPathUtils.lineTo(a,b-c),d+=DvtPathUtils.quadTo(a,b,a-c,b));d+=DvtPathUtils.lineTo(c,b);d=this._isFixed||b!=DvtCollapsiblePanel.BUTTONHEIGHT||e?d+DvtPathUtils.quadTo(0,b,0,b-c):d+DvtPathUtils.lineTo(0,b);if(this._isFixed||e)d+=DvtPathUtils.lineTo(0,c),d+=DvtPathUtils.quadTo(0,0,c,0);return d+=DvtPathUtils.closePath()};
DvtCollapsiblePanel.prototype.OnAnimationEnd=function(){this._animationStopped=!1;this._animation=null;var a=this._background.getStroke().clone();a.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOUT_ALPHA]);this._background.setStroke(a);var a=this._styleMap[DvtControlPanel.BG_ROLLOUT_ALPHA],b=this._background.getFill().clone();b.setAlpha(a);this._background.setFill(b);this._buttonFrame&&this._buttonFrame.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOUT_ALPHA]);this.isCollapsed()||this._contentContainer.setAlpha(1);
a=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST;this._collapseExpandButton&&(this.isCollapsed()?this._collapseExpandButton=DvtButtonLAFUtils.createExpandButton(this.getCtx(),this._buttonImages,DvtCollapsiblePanel.BUTTONHEIGHT,this._styleMap,a?DvtButtonLAFUtils.DIR_LEFT:DvtButtonLAFUtils.DIR_RIGHT):this._collapseExpandButton=DvtButtonLAFUtils.createCollapseButton(this.getCtx(),this._buttonImages,DvtCollapsiblePanel.BUTTONHEIGHT,
this._styleMap,a?DvtButtonLAFUtils.DIR_LEFT:DvtButtonLAFUtils.DIR_RIGHT),this._buttonFrame.addChild(this._collapseExpandButton),this._buttonFrame.removeChildAt(0),DvtAgent.isTouchDevice()?this._collapseExpandButton.addEvtListener(DvtTouchEvent.TOUCHSTART,this.OnButtonClick,!1,this):(this._collapseExpandButton.addEvtListener(DvtMouseEvent.CLICK,this.OnButtonClick,!1,this),this._collapseExpandButton.addEvtListener(DvtMouseEvent.MOUSEOVER,this.OnButtonHoverOver,!1,this),this._collapseExpandButton.addEvtListener(DvtMouseEvent.MOUSEOUT,
this.OnButtonHoverOut,!1,this)))};DvtCollapsiblePanel.prototype.OnButtonClick=function(a){this.getCtx().getTooltipManager().hideTooltip();this.setCollapsed(!this.isCollapsed())};DvtCollapsiblePanel.prototype.OnButtonHoverOver=function(a){var b=this.isCollapsed()?this._expandTooltip:this._collapseTooltip;null!=b&&this.getCtx().getTooltipManager().showTooltip(a.pageX,a.pageY,b,this._collapseExpandButton,!0)};DvtCollapsiblePanel.prototype.OnButtonHoverOut=function(a){this.getCtx().getTooltipManager().hideTooltip()};
DvtCollapsiblePanel.prototype.HandleMouseOver=function(a){a=this._background.getStroke().clone();a.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOVER_ALPHA]);this._background.setStroke(a);a=this._styleMap[DvtControlPanel.BG_ROLLOVER_ALPHA];var b=this._background.getFill().clone();b.setAlpha(a);this._background.setFill(b);this._buttonFrame&&this._buttonFrame.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOVER_ALPHA])};
DvtCollapsiblePanel.prototype.HandleMouseOut=function(a){a=this._background.getStroke().clone();a.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOUT_ALPHA]);this._background.setStroke(a);a=this._background.getFill().clone();a.setAlpha(this._bgAlpha);this._background.setFill(a);this._buttonFrame&&this._buttonFrame.setAlpha(this._styleMap[DvtControlPanel.FRAME_ROLLOUT_ALPHA])};var DvtCollapsiblePanelEvent=function(a){this.Init(DvtCollapsiblePanelEvent.TYPE);this._subtype=a};
DvtObj.createSubclass(DvtCollapsiblePanelEvent,DvtBaseComponentEvent,"DvtCollapsiblePanelEvent");DvtCollapsiblePanelEvent.TYPE="dvtCollapsiblePanelEvent";DvtCollapsiblePanelEvent.SUBTYPE_HIDE="hide";DvtCollapsiblePanelEvent.SUBTYPE_SHOW="show";DvtCollapsiblePanelEvent.prototype.getSubType=function(){return this._subtype};var DvtImageLAFUtils={};DvtObj.createSubclass(DvtImageLAFUtils,DvtObj,"DvtImageLAFUtils");
DvtImageLAFUtils.loadIcon=function(a,b){var c=new DvtImage(a,b);c.setMouseEnabled(!1);DvtImageLoader.loadImage(a,b,function(a){null!=a&&a.width&&a.height&&(c.setWidth(a.width),c.setHeight(a.height))});return c};var DvtButtonLAFUtils={};DvtObj.createSubclass(DvtButtonLAFUtils,DvtObj,"DvtButtonLAFUtils");DvtButtonLAFUtils.EXPAND_COLLAPSE_BUTTON_IMG_OFFSET=-6;DvtButtonLAFUtils.CONTROL_BUTTON_WIDTH=23;DvtButtonLAFUtils.CONTROL_BUTTON_HEIGHT=21;DvtButtonLAFUtils.ZOOM_BUTTON_HEIGHT=20;
DvtButtonLAFUtils.OPEN_CLOSE_IMAGE_WIDTH=22;DvtButtonLAFUtils.OPEN_CLOSE_IMAGE_HEIGHT=20;DvtButtonLAFUtils.VIEW_PANEL_HEIGHT=47;DvtButtonLAFUtils.VIEW_PANEL_HALF_HEIGHT=26;DvtButtonLAFUtils.SIN_PI_4=Math.sin(Math.PI/4);DvtButtonLAFUtils.TAN_PI_8=Math.tan(Math.PI/8);DvtButtonLAFUtils.BORDER_COLOR="#7C8191";DvtButtonLAFUtils.GRADIENT_DARK="#E0E1E1";DvtButtonLAFUtils.GRADIENT_LIGHT="#F0F1F2";DvtButtonLAFUtils.ROUND_RECT_ELLIPSE=8;DvtButtonLAFUtils.DEFAULT_FILL_TYPE="solid";
DvtButtonLAFUtils.DEFAULT_BORDER_COLOR="#7BA0D9";DvtButtonLAFUtils.DEFAULT_MID_COLOR="#3474D3";DvtButtonLAFUtils.DEFAULT_END_COLOR="#BFD8FB";DvtButtonLAFUtils._ZOOMIN_ENA="zoominUp";DvtButtonLAFUtils._ZOOMIN_OVR="zoominOver";DvtButtonLAFUtils._ZOOMIN_DWN="zoominDown";DvtButtonLAFUtils._ZOOMIN_DISABLED="zoominDisabled";DvtButtonLAFUtils._ZOOMTOFIT_ENA="zoomtofitUp";DvtButtonLAFUtils._ZOOMTOFIT_OVR="zoomtofitOver";DvtButtonLAFUtils._ZOOMTOFIT_DWN="zoomtofitDown";DvtButtonLAFUtils._ZOOMOUT_ENA="zoomoutUp";
DvtButtonLAFUtils._ZOOMOUT_OVR="zoomoutOver";DvtButtonLAFUtils._ZOOMOUT_DWN="zoomoutDown";DvtButtonLAFUtils._ZOOMOUT_DISABLED="zoomoutDisabled";DvtButtonLAFUtils._PAN_ENA="pandialUp";DvtButtonLAFUtils._PAN_OVR="pandialOver";DvtButtonLAFUtils._PAN_DWN="pandialDown";DvtButtonLAFUtils._RECENTER_ENA="recenterUp";DvtButtonLAFUtils._RECENTER_OVR="recenterOver";DvtButtonLAFUtils._RECENTER_DWN="recenterDown";DvtButtonLAFUtils._RESET_ENA="resetUp";DvtButtonLAFUtils._RESET_OVR="resetOver";
DvtButtonLAFUtils._RESET_DWN="resetDown";DvtButtonLAFUtils._DRILLUP_ENA="drillupUp";DvtButtonLAFUtils._DRILLUP_OVR="drillupOver";DvtButtonLAFUtils._DRILLUP_DWN="drillupDown";DvtButtonLAFUtils._DRILLDOWN_ENA="drilldownUp";DvtButtonLAFUtils._DRILLDOWN_OVR="drilldownOver";DvtButtonLAFUtils._DRILLDOWN_DWN="drilldownDown";DvtButtonLAFUtils._MAX_ENA="maxUp";DvtButtonLAFUtils._MAX_OVR="maxOver";DvtButtonLAFUtils._MAX_DWN="maxDown";DvtButtonLAFUtils._RESTORE_ENA="restoreUp";
DvtButtonLAFUtils._RESTORE_OVR="restoreOver";DvtButtonLAFUtils._RESTORE_DWN="restoreDown";DvtButtonLAFUtils._COLLAPSE_ENA="collapseEna";DvtButtonLAFUtils._COLLAPSE_OVR="collapseOvr";DvtButtonLAFUtils._COLLAPSE_DWN="collapseDwn";DvtButtonLAFUtils._EXPAND_ENA="expandEna";DvtButtonLAFUtils._EXPAND_OVR="expandOvr";DvtButtonLAFUtils._EXPAND_DWN="expandDwn";DvtButtonLAFUtils._QUICKQUERY_ENA="quickQueryEna";DvtButtonLAFUtils._QUICKQUERY_OVR="quickQueryOvr";DvtButtonLAFUtils._QUICKQUERY_DWN="quickQueryDwn";
DvtButtonLAFUtils._CLEARRESULTS_ENA="clearResultsEna";DvtButtonLAFUtils._CLEARRESULTS_OVR="clearResultsOvr";DvtButtonLAFUtils._CLEARRESULTS_DWN="clearResultsDwn";DvtButtonLAFUtils._UP="Up";DvtButtonLAFUtils._OVER="Over";DvtButtonLAFUtils._DOWN="Down";DvtButtonLAFUtils._SEL="Sel";DvtButtonLAFUtils._R2L="_r";DvtButtonLAFUtils._SYNC="synchronize";DvtButtonLAFUtils.DIR_RIGHT="right";DvtButtonLAFUtils.DIR_LEFT="left";
DvtButtonLAFUtils.createPanControl=function(a,b,c,d,e){var g=DvtButtonLAFUtils._createPanButtonState(a,d[DvtButtonLAFUtils._PAN_ENA],e),h=new DvtContainer(a);h.setTranslate(20,20);var k=DvtButtonLAFUtils._createPanButtonState(a,d[DvtButtonLAFUtils._PAN_DWN],e);k.setTranslate(-20,-20);h.addChild(k);k=new DvtContainer(a);k.setTranslate(20,20);var m=DvtButtonLAFUtils._createPanButtonState(a,d[DvtButtonLAFUtils._PAN_OVR],e);m.setTranslate(-20,-20);k.addChild(m);g=new DvtButton(a,g,k,h);if(0<(c&DvtControlPanel.CONTROLS_CENTER_BUTTON)){var n=
new DvtButton(a,DvtButtonLAFUtils._createRecenterButtonState(a,d[DvtButtonLAFUtils._RECENTER_ENA],e),DvtButtonLAFUtils._createRecenterButtonState(a,d[DvtButtonLAFUtils._RECENTER_OVR],e),DvtButtonLAFUtils._createRecenterButtonState(a,d[DvtButtonLAFUtils._RECENTER_DWN],e));n.setTranslate(9,9)}return new DvtPanControl(a,g,n,b,c,e)};
DvtButtonLAFUtils.createDrillUpButton=function(a,b,c,d,e,g,h){var k=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,e[DvtButtonLAFUtils._DRILLUP_ENA],h),m=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,e[DvtButtonLAFUtils._DRILLUP_OVR],h),n=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,e[DvtButtonLAFUtils._DRILLUP_DWN],h);e=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,e[DvtButtonLAFUtils._DRILLUP_ENA],h);return new DvtMapControlButton(a,
new DvtButton(a,k,m,n,e),b,c,d,g)};
DvtButtonLAFUtils.createDrillDownButton=function(a,b,c,d,e,g,h){var k=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,e[DvtButtonLAFUtils._DRILLDOWN_ENA],h),m=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,e[DvtButtonLAFUtils._DRILLDOWN_OVR],h),n=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,e[DvtButtonLAFUtils._DRILLDOWN_DWN],h);e=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,e[DvtButtonLAFUtils._DRILLDOWN_ENA],h);return new DvtMapControlButton(a,
new DvtButton(a,k,m,n,e),b,c,d,g)};
DvtButtonLAFUtils.createResetButton=function(a,b,c,d,e,g,h){var k=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,e[DvtButtonLAFUtils._RESET_ENA],h),m=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,e[DvtButtonLAFUtils._RESET_OVR],h),n=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,e[DvtButtonLAFUtils._RESET_DWN],h);e=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,e[DvtButtonLAFUtils._RESET_ENA],h);return new DvtMapControlButton(a,
new DvtButton(a,k,m,n,e),b,c,d,g)};DvtButtonLAFUtils.createZoomToFitButton=function(a,b,c,d,e){var g=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,d[DvtButtonLAFUtils._ZOOMTOFIT_ENA],e),h=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,d[DvtButtonLAFUtils._ZOOMTOFIT_OVR],e);d=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,d[DvtButtonLAFUtils._ZOOMTOFIT_DWN],e);return new DvtZoomToFitButton(a,new DvtButton(a,g,h,d),b,c)};
DvtButtonLAFUtils.createZoomInButton=function(a,b,c,d,e){var g=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,d[DvtButtonLAFUtils._ZOOMIN_ENA],e),h=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,d[DvtButtonLAFUtils._ZOOMIN_OVR],e),k=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,d[DvtButtonLAFUtils._ZOOMIN_DWN],e);d=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DISABLED,d[DvtButtonLAFUtils._ZOOMIN_DISABLED],e);return new DvtZoomInButton(a,
new DvtButton(a,g,h,k,d),b,c)};
DvtButtonLAFUtils.createZoomOutButton=function(a,b,c,d,e){var g=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,d[DvtButtonLAFUtils._ZOOMOUT_ENA],e),h=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,d[DvtButtonLAFUtils._ZOOMOUT_OVR],e),k=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,d[DvtButtonLAFUtils._ZOOMOUT_DWN],e);d=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DISABLED,d[DvtButtonLAFUtils._ZOOMOUT_DISABLED],e);return new DvtZoomOutButton(a,
new DvtButton(a,g,h,k,d),b,c)};DvtButtonLAFUtils.createLayoutItemButtonState=function(a,b,c,d,e,g){var h=DvtStyleUtils.getStyle(g,"buttonRadius",0),k=DvtStyleUtils.getStyle(g,DvtControlPanel.CP_BUTTON_WIDTH,0),m=DvtStyleUtils.getStyle(g,DvtControlPanel.CP_BUTTON_WIDTH,0);b=DvtButtonLAFUtils._createBaseButtonShape(a,d,h,k,m,g);DvtButtonLAFUtils._setButtonColors(d,b,k,m+2*h,0,0,g,!0);c=DvtButtonLAFUtils._getLayoutURI(a,d,c);(a=DvtButtonLAFUtils._loadIcon(a,e[c],k,m))&&b.addChild(a);return b};
DvtButtonLAFUtils._getLayoutURI=function(a,b,c,d){var e="";b==DvtButton.STATE_ENABLED?b=DvtButtonLAFUtils._UP:b==DvtButton.STATE_OVER?b=DvtButtonLAFUtils._OVER:b==DvtButton.STATE_DOWN&&(b=DvtButtonLAFUtils._DOWN);d&&(c+=DvtButtonLAFUtils._SEL,DvtAgent.isRightToLeft(a)&&(e=DvtButtonLAFUtils._R2L));return c+(b+e)};
DvtButtonLAFUtils.createPanelCardButtonState=function(a,b,c,d){var e=DvtButtonLAFUtils._getLayoutURI(a,b,DvtButtonLAFUtils._SYNC,!0);return DvtButtonLAFUtils._createButtonBaseImage(a,b,d[e],c)};DvtButtonLAFUtils.createPanelCardSyncItemState=function(a,b,c,d,e,g){g=DvtStyleUtils.getStyle(e,"buttonRadius",0);a=DvtButtonLAFUtils._createBaseButtonShape(a,b,g,c,d,e);DvtButtonLAFUtils._setButtonColors(b,a,c,d+2*g,0,0,e,!0);return a};
DvtButtonLAFUtils.createControlButtonState=function(a,b,c,d,e){b=DvtButtonLAFUtils._getLayoutURI(a,c,b);return DvtButtonLAFUtils._createButtonBaseImage(a,c,d[b],e)};
DvtButtonLAFUtils.createExpandButton=function(a,b,c,d,e){var g=e==DvtButtonLAFUtils.DIR_RIGHT;e=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_ENABLED,c,g?b[DvtButtonLAFUtils._COLLAPSE_ENA]:b[DvtButtonLAFUtils._EXPAND_ENA],d,g);var h=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_OVER,c,g?b[DvtButtonLAFUtils._COLLAPSE_OVR]:b[DvtButtonLAFUtils._EXPAND_OVR],d,g);b=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_DOWN,c,g?b[DvtButtonLAFUtils._COLLAPSE_DWN]:
b[DvtButtonLAFUtils._EXPAND_DWN],d,g);return new DvtButton(a,e,h,b)};
DvtButtonLAFUtils.createCollapseButton=function(a,b,c,d,e){var g=e==DvtButtonLAFUtils.DIR_RIGHT;e=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_ENABLED,c,g?b[DvtButtonLAFUtils._EXPAND_ENA]:b[DvtButtonLAFUtils._COLLAPSE_ENA],d,g);var h=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_OVER,c,g?b[DvtButtonLAFUtils._EXPAND_OVR]:b[DvtButtonLAFUtils._COLLAPSE_OVR],d,g);b=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_DOWN,c,g?b[DvtButtonLAFUtils._EXPAND_DWN]:
b[DvtButtonLAFUtils._COLLAPSE_DWN],d,g);return new DvtButton(a,e,h,b)};DvtButtonLAFUtils.createQuickQueryButton=function(a,b){var c=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_ENABLED,b[DvtButtonLAFUtils._QUICKQUERY_ENA]),d=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_OVER,b[DvtButtonLAFUtils._QUICKQUERY_OVR]),e=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_DOWN,b[DvtButtonLAFUtils._QUICKQUERY_DWN]);return new DvtButton(a,c,d,e)};
DvtButtonLAFUtils.createClearResultsButton=function(a,b){var c=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_ENABLED,b[DvtButtonLAFUtils._CLEARRESULTS_ENA]),d=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_OVER,b[DvtButtonLAFUtils._CLEARRESULTS_OVR]),e=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_DOWN,b[DvtButtonLAFUtils._CLEARRESULTS_DWN]);return new DvtButton(a,c,d,e)};
DvtButtonLAFUtils._createButtonBaseImage=function(a,b,c,d,e,g){var h=DvtStyleUtils.getStyle(d,"buttonRadius",0);if("undefined"===e||null==e)e=DvtStyleUtils.getStyle(d,DvtControlPanel.CP_BUTTON_WIDTH,0);if("undefined"===g||null==g)g=DvtStyleUtils.getStyle(d,DvtControlPanel.CP_BUTTON_WIDTH,0);b=DvtButtonLAFUtils._drawBaseButton(a,b,h,e,g,d);(a=DvtButtonLAFUtils._loadIcon(a,c,e,g))&&b.addChild(a);return b};
DvtButtonLAFUtils._loadIcon=function(a,b,c,d){var e=new DvtImage(a,b);e.setMouseEnabled(!1);DvtImageLoader.loadImage(a,b,function(a){null!=a&&a.width&&a.height&&(e.setWidth(a.width),e.setHeight(a.height),e.setTranslate(c/2-a.width/2,d/2-a.height/2))});return e};
DvtButtonLAFUtils._createPanButtonState=function(a,b,c){var d=new DvtContainer(a),e=new DvtCircle(a,20,20,20);e.setAlpha(0);c=DvtStyleUtils.getStyle(c,DvtCSSStyle.BACKGROUND_COLOR,null);e.setSolidFill(c);d.addChild(e);(a=DvtImageLAFUtils.loadIcon(a,b))&&d.addChild(a);return d};
DvtButtonLAFUtils._createRecenterButtonState=function(a,b,c){var d=new DvtContainer(a),e=new DvtCircle(a,11,11,8);e.setAlpha(0);c=DvtStyleUtils.getStyle(c,DvtCSSStyle.BACKGROUND_COLOR,null);e.setSolidFill(c);d.addChild(e);(a=DvtImageLAFUtils.loadIcon(a,b))&&d.addChild(a);return d};
DvtButtonLAFUtils._createCollapseExpandButtonState=function(a,b,c,d,e,g){c||(c=47);b=DvtButtonLAFUtils._drawOpenCloseButtonHelper(a,b,c,e,g);if(a=DvtImageLAFUtils.loadIcon(a,d))g=DvtStyleUtils.getStyle(e,DvtControlPanel.CP_IMAGE_WIDTH,0),d=DvtStyleUtils.getStyle(e,DvtControlPanel.CP_IMAGE_HEIGHT,0),b.addChild(a),e=(DvtStyleUtils.getStyle(e,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0)-g)/2,a.setTranslate(e,(c-d)/2);return b};
DvtButtonLAFUtils._createQuickQueryButtonState=function(a,b,c){a=DvtImageLAFUtils.loadIcon(a,c);a.setMouseEnabled(!0);return a};
DvtButtonLAFUtils.createPanButtonBackground=function(a,b){var c=DvtButtonLAFUtils._drawPanButtonBase(a),d=DvtStyleUtils.getStyle(b,DvtCSSStyle.BACKGROUND_COLOR,null),e=DvtStyleUtils.getStyle(b,DvtCSSStyle.BORDER_COLOR,null);"solid"==DvtStyleUtils.getStyle(b,DvtCSSStyle.FILL_TYPE,null)?(c.setSolidStroke(e),c.setSolidFill(d)):(c.setStroke(new DvtLinearGradientStroke(36,["#8D93A5","#E0EAEB",e],[1,1,1],[0,125/255,1],[0,0,40,40],1)),c.setFill(new DvtLinearGradientFill(90,[d,d,"#5A83BE",d],[.9,.1,0,.7],
[0,105/255,150/255,1],[0,0,40,40])));return c};DvtButtonLAFUtils.createPanButtonUnderlay=function(a,b){var c=DvtButtonLAFUtils._drawPanButtonBase(a),d=DvtStyleUtils.getStyle(b,DvtCSSStyle.BACKGROUND_COLOR,null);c.setSolidStroke(d);c.setSolidFill(d);return c};
DvtButtonLAFUtils._drawPanButtonBase=function(a){var b=DvtPathUtils.moveTo(40,20)+DvtPathUtils.quadTo(40,20*DvtButtonLAFUtils.TAN_PI_8+20,20*DvtButtonLAFUtils.SIN_PI_4+20,20*DvtButtonLAFUtils.SIN_PI_4+20)+DvtPathUtils.quadTo(20*DvtButtonLAFUtils.TAN_PI_8+20,40,20,40)+DvtPathUtils.quadTo(20*-DvtButtonLAFUtils.TAN_PI_8+20,40,20*-DvtButtonLAFUtils.SIN_PI_4+20,20*DvtButtonLAFUtils.SIN_PI_4+20)+DvtPathUtils.quadTo(0,20*DvtButtonLAFUtils.TAN_PI_8+20,0,20)+DvtPathUtils.quadTo(0,20*-DvtButtonLAFUtils.TAN_PI_8+
20,20*-DvtButtonLAFUtils.SIN_PI_4+20,20*-DvtButtonLAFUtils.SIN_PI_4+20)+DvtPathUtils.quadTo(20*-DvtButtonLAFUtils.TAN_PI_8+20,0,20,0)+DvtPathUtils.quadTo(20*DvtButtonLAFUtils.TAN_PI_8+20,0,20*DvtButtonLAFUtils.SIN_PI_4+20,20*-DvtButtonLAFUtils.SIN_PI_4+20)+DvtPathUtils.quadTo(40,20*-DvtButtonLAFUtils.TAN_PI_8+20,40,20)+DvtPathUtils.closePath();return new DvtPath(a,b,"draw_pan_button")};
DvtButtonLAFUtils._setGradientBorder=function(a,b,c,d,e){a.setSolidStroke("#FFFFFF");a.setStroke(new DvtLinearGradientStroke(63,["#8D93A5","#E0EAEB","#FFFFFF"],[1,1,1],[0,155/255,1],[d,e,b,c],1))};
DvtButtonLAFUtils._setButtonColors=function(a,b,c,d,e,g,h,k){if(DvtStyleUtils.getStyle(h,DvtControlPanel.CP_PANEL_DRAWER_STYLES,null))!k||k&&a==DvtButton.STATE_ENABLED?b.setInvisibleFill():a!=DvtButton.STATE_OVER&&a!=DvtButton.STATE_DOWN||b.setFill(new DvtSolidFill("#EBECED"));else if(h[DvtPanZoomComponent.SKIN_NAME]==DvtCSSStyle.SKIN_SKYROS)switch(a){case DvtButton.STATE_OVER:b.setFill(new DvtSolidFill("#FFFFFF",.7));b.setStroke(new DvtSolidStroke(DvtStyleUtils.getStyle(h,DvtCSSStyle.BORDER_COLOR,
null)));break;case DvtButton.STATE_DOWN:b.setFill(new DvtSolidFill("#B3C6DB"));b.setStroke(new DvtSolidStroke(DvtStyleUtils.getStyle(h,DvtCSSStyle.BORDER_COLOR,null)));break;default:b.setInvisibleFill()}else{var m,n,t;switch(a){case DvtButton.STATE_DISABLED:case DvtButton.STATE_ENABLED:m=["#5B868A","#FFFFFF","#FFFFFF","#5B868A"];n=[.01,0,.05,.01];t=[0,120/255,130/255,1];break;case DvtButton.STATE_OVER:DvtButtonLAFUtils._setGradientBorder(b,c,d,e,g);m=["#FFFFFF","#4671B0","#4671B0","#FFFFFF"];n=[.5,
.2,.1,.7];t=[0,120/255,130/255,1];break;case DvtButton.STATE_DOWN:DvtButtonLAFUtils._setGradientBorder(b,c,d,e,g),m=["#E0EAEB","#5B868A","#4671B0"],n=[.1,.3,.6],t=[0,130/255,1]}b.setFill(new DvtLinearGradientFill(90,m,n,t,[e,g,c,d]))}};
DvtButtonLAFUtils._setCloseButtonColors=function(a,b,c,d,e,g,h,k){if(DvtStyleUtils.getStyle(k,DvtControlPanel.CP_PANEL_DRAWER_STYLES,null))c.setInvisibleFill();else{var m,n=DvtStyleUtils.getStyle(k,DvtCSSStyle.FILL_TYPE,null);a=DvtStyleUtils.getStyle(k,DvtCSSStyle.BORDER_COLOR,null);if("solid"==n){d=DvtStyleUtils.getStyle(k,DvtCSSStyle.BACKGROUND_COLOR,null);var t;switch(b){case DvtButton.STATE_ENABLED:t=DvtStyleUtils.getStyle(k,DvtControlPanel.BG_ALPHA,1);m=DvtStyleUtils.getStyle(k,DvtControlPanel.FRAME_ROLLOUT_ALPHA,
1);break;case DvtButton.STATE_DOWN:case DvtButton.STATE_OVER:t=DvtStyleUtils.getStyle(k,DvtControlPanel.BG_ROLLOVER_ALPHA,1),m=DvtStyleUtils.getStyle(k,DvtControlPanel.FRAME_ROLLOVER_ALPHA,1)}b=new DvtSolidFill(d,t);m=new DvtSolidStroke(a,m)}else{var u,v,w;switch(b){case DvtButton.STATE_ENABLED:u=["#FFFFFF","#5B868A","#5B868A"];v=[0,.2,.3];w=[0,130/255,1];break;case DvtButton.STATE_OVER:u=["#FFFFFF","#FFFFFF","#4671B0","#4671B0"];v=[.1,.2,.1,.6];w=[0,120/255,130/255,1];break;case DvtButton.STATE_DOWN:u=
["#4671B0","#5B868A","#5B868A"],v=[.5,.2,.4],w=[0,130/255,1]}b=new DvtLinearGradientFill(0,u,v,w,[g,h,d,e]);m=new DvtSolidStroke(a,1,.8)}c.setStroke(m);c.setFill(b)}};
DvtButtonLAFUtils._setSliderButtonColors=function(a,b,c,d,e,g){var h,k,m;switch(a){case DvtButton.STATE_ENABLED:b.setSolidStroke("#FFFFFF",1,.25);h=["#FFFFFF","#4671B0","#E0EAEB","#FFFFFF"];k=[.6,.3,.3,.8];m=[0,125/255,130/255,1];break;case DvtButton.STATE_OVER:DvtButtonLAFUtils._setGradientBorder(b,c,d,e,g);h=["#4671B0","#FFFFFF","#FFFFFF","#FFFFFF"];k=[.4,.3,.7,1];m=[0,70/255,200/255,1];break;case DvtButton.STATE_DOWN:DvtButtonLAFUtils._setGradientBorder(b,c,d,e,g),h=["#FFFFFF","#4671B0","#E0EAEB"],
k=[.6,.5,.8],m=[0,130/255,1]}b.setFill(new DvtLinearGradientFill(90,h,k,m,[e,g,c,d]))};DvtButtonLAFUtils.GetButtonPathCommands=function(a,b,c,d){return d?["M",a,0,"L",c,0,"A",c,c,0,0,0,0,c,"L",0,b-c,"A",c,c,0,0,0,c,b,"L",a,b]:["M",0,0,"L",a-c,0,"A",c,c,0,0,1,a,c,"L",a,b-c,"A",c,c,0,0,1,a-c,b,"L",0,b]};
DvtButtonLAFUtils._drawOpenCloseButtonHelper=function(a,b,c,d,e){c||(c=47);var g=parseInt(DvtStyleUtils.getStyle(d,DvtCSSStyle.BORDER_RADIUS,0)),h=DvtStyleUtils.getStyle(d,DvtControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0);c=Math.max(c,DvtStyleUtils.getStyle(d,DvtControlPanel.CP_BUTTON_HEIGHT,c));e=DvtButtonLAFUtils.GetButtonPathCommands(h,c,g,e);e=new DvtPath(a,e);DvtButtonLAFUtils._setCloseButtonColors(a,b,e,h,c,0,0,d);return e};
DvtButtonLAFUtils._drawBaseButton=function(a,b,c,d,e,g){a=DvtButtonLAFUtils._createBaseButtonShape(a,b,c,d,e,g);DvtButtonLAFUtils._setButtonColors(b,a,d,e+2*c,0,0,g);return a};
DvtButtonLAFUtils._createBaseButtonShape=function(a,b,c,d,e,g){if(g[DvtPanZoomComponent.SKIN_NAME]==DvtCSSStyle.SKIN_SKYROS)return new DvtRect(a,0,0,d,e);d-=2*c;e-=2*c;b=d+c;g=e+c;var h=DvtPathUtils.moveTo(b+c,g)+DvtPathUtils.quadTo(c+b,DvtButtonLAFUtils.TAN_PI_8*c+g,DvtButtonLAFUtils.SIN_PI_4*c+b,DvtButtonLAFUtils.SIN_PI_4*c+g)+DvtPathUtils.quadTo(DvtButtonLAFUtils.TAN_PI_8*c+b,c+g,b,c+g)+DvtPathUtils.lineTo(b,g+c)+DvtPathUtils.lineTo(b-d,c+g);b-=d;h+=DvtPathUtils.quadTo(-DvtButtonLAFUtils.TAN_PI_8*
c+b,c+g,-DvtButtonLAFUtils.SIN_PI_4*c+b,DvtButtonLAFUtils.SIN_PI_4*c+g)+DvtPathUtils.quadTo(-c+b,DvtButtonLAFUtils.TAN_PI_8*c+g,-c+b,g)+DvtPathUtils.lineTo(b-c,g)+DvtPathUtils.lineTo(b-c,g-e);g-=e;h+=DvtPathUtils.quadTo(-c+b,-DvtButtonLAFUtils.TAN_PI_8*c+g,-DvtButtonLAFUtils.SIN_PI_4*c+b,-DvtButtonLAFUtils.SIN_PI_4*c+g)+DvtPathUtils.quadTo(-DvtButtonLAFUtils.TAN_PI_8*c+b,-c+g,b,-c+g)+DvtPathUtils.lineTo(b,-c+g)+DvtPathUtils.lineTo(b+d,-c+g);b+=d;h+=DvtPathUtils.quadTo(DvtButtonLAFUtils.TAN_PI_8*c+
b,-c+g,DvtButtonLAFUtils.SIN_PI_4*c+b,-DvtButtonLAFUtils.SIN_PI_4*c+g)+DvtPathUtils.quadTo(c+b,-DvtButtonLAFUtils.TAN_PI_8*c+g,c+b,g)+DvtPathUtils.lineTo(b+c,g+e)+DvtPathUtils.closePath();return new DvtPath(a,h)};
DvtButtonLAFUtils.drawDropdownShape=function(a,b,c,d){d=DvtStyleUtils.getStyle(d,"radius",0);b-=2*d;c-=d;var e=b+d,g=c,h=DvtPathUtils.moveTo(e+d,g)+DvtPathUtils.quadTo(d+e,DvtButtonLAFUtils.TAN_PI_8*d+g,DvtButtonLAFUtils.SIN_PI_4*d+e,DvtButtonLAFUtils.SIN_PI_4*d+g)+DvtPathUtils.quadTo(DvtButtonLAFUtils.TAN_PI_8*d+e,d+g,e,d+g)+DvtPathUtils.lineTo(e,d+g)+DvtPathUtils.lineTo(e-b,d+g),e=e-b,h=h+(DvtPathUtils.quadTo(-DvtButtonLAFUtils.TAN_PI_8*d+e,d+g,-DvtButtonLAFUtils.SIN_PI_4*d+e,DvtButtonLAFUtils.SIN_PI_4*
d+g)+DvtPathUtils.quadTo(-d+e,DvtButtonLAFUtils.TAN_PI_8*d+g,-d+e,g)+DvtPathUtils.lineTo(-d+e,g)+DvtPathUtils.lineTo(-d+e,g-c)),g=g-c,h=h+(DvtPathUtils.lineTo(e+b+d,g)+DvtPathUtils.lineTo(e+b+d,g+c)+DvtPathUtils.closePath());return new DvtPath(a,h)};DvtButtonLAFUtils._getDimForced=function(a,b){b instanceof DvtButton&&(b=b.getChildAt(0));return DvtDisplayableUtils.getDimForced(a,b)};
DvtButtonLAFUtils.parseStyle=function(a,b){var c=DvtButtonLAFUtils.DEFAULT_FILL_TYPE,d=DvtButtonLAFUtils.DEFAULT_BORDER_COLOR,e=DvtButtonLAFUtils.DEFAULT_MID_COLOR,g;b&&(b.getStyle(DvtCSSStyle.FILL_TYPE)&&(c=b.getStyle(DvtCSSStyle.FILL_TYPE)),b.getStyle(DvtCSSStyle.BORDER_COLOR)&&(d=b.getStyle(DvtCSSStyle.BORDER_COLOR)),b.getStyle(DvtCSSStyle.BACKGROUND_COLOR)&&(e=b.getStyle(DvtCSSStyle.BACKGROUND_COLOR)),b.getStyle(DvtCSSStyle.BACKGROUND)&&(g=b.getStyle(DvtCSSStyle.BACKGROUND)));var d=new DvtSolidStroke(d),
h;if("solid"==c)h=new DvtSolidFill(e);else{var k,m,n;if(g&&0<=g.indexOf("linear-gradient")){if(c=DvtGradientParser.parseCSSGradient(g))n=c.getAngle(),h=c.getColors(),k=c.getAlphas(),m=c.getRatios()}else h=e,k=DvtButtonLAFUtils.DEFAULT_END_COLOR,h!=DvtButtonLAFUtils.DEFAULT_MID_COLOR&&(k=DvtColorUtils.inferColor(DvtButtonLAFUtils.DEFAULT_MID_COLOR,DvtButtonLAFUtils.DEFAULT_END_COLOR,h)),h=[h,k],k=[.6,.8],m=[0,1],n=-270;h=new DvtLinearGradientFill(n,h,k,m)}a.setFill(h);a.setStroke(d)};