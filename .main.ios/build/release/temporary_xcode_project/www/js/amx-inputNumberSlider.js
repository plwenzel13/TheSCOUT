(function(){var a=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"inputNumberSlider");a.prototype.getInputValueAttribute=function(){return"value"};a.prototype.attributeChangeResult=function(b,c,d){switch(c){case "value":return adf.mf.api.amx.AmxNodeChangeResult.REFRESH;default:return a.superclass.attributeChangeResult.call(this,b,c,d)}};a.prototype.refresh=function(b,c,d){if(c.hasChanged("value")){var e=b.getId(),g=document.getElementById(e+"::valveBg"),h=document.getElementById(e+
"::selected");null!=g&&null!=h&&(g.classList.add("amx-animating"),h.classList.add("amx-animating"),adf.shared.impl.animationUtils.addOneTimeTransitionEndWithFailsafe(g,function(){g.classList.remove("amx-animating");h.classList.remove("amx-animating")}));this._setValue(1*b.getAttribute("value"),b)}a.superclass.refresh.call(this,b,c,d)};a.prototype.render=function(a,c){var d=amx.createField(a),e=d.fieldRoot,g=d.isDisable,h=adf.mf.api.amx.isValueTrue(a.getAttribute("readOnly")),k=adf.mf.api.amx.isValueTrue(a.getAttribute("showRequired"))||
adf.mf.api.amx.isValueTrue(a.getAttribute("required")),m=document.createElement("div");m.className="container";d.fieldValue.appendChild(m);var n=document.createElement("div");n.setAttribute("id",c+"::slider");n.className="slider";var t=document.createElement("div");t.className="amx-extendedTarget";n.appendChild(t);var u=document.createElement("div");u.setAttribute("id",c+"::valveBg");u.className="valve-background";n.appendChild(u);var v=document.createElement("div");v.setAttribute("id",c+"::valve");
v.className="valve";t=document.createElement("div");t.className="amx-extendedTarget";v.appendChild(t);h||(v.setAttribute("role","slider"),v.setAttribute("aria-labelledby",c+"::lbl"),v.setAttribute("aria-orientation","horizontal"),v.setAttribute("aria-valuemin",a.getAttribute("minimum")),v.setAttribute("aria-valuemax",a.getAttribute("maximum")),v.setAttribute("aria-valuenow",a.getAttribute("value")),g&&v.setAttribute("aria-disabled","true"),k&&v.setAttribute("aria-required","true"));u.appendChild(v);
var w=document.createElement("div");w.id=c+"::selected";w.className="selected";n.appendChild(w);h&&e.classList.add("amx-readOnly");m.appendChild(n);h=a.getAttribute("minimum");null==h||isNaN(h)?(n.setAttribute("data-min",0),a._min=0):(n.setAttribute("data-min",h),a._min=1*h);(h=a.getAttribute("maximum"))&&!isNaN(h)?(n.setAttribute("data-max",h),a._max=1*h):(n.setAttribute("data-max",100),a._max=100);h=a.getAttribute("stepSize");null!=h?(n.setAttribute("step",h),a._step=h):(n.setAttribute("step",1),
a._step=1);h=a.getAttribute("value");void 0!==h&&(n.setAttribute("data-value",h),a._currentValue=1*h);g&&(e.classList.add("amx-disabled"),h=document.createElement("div"),h.className="disable",d.fieldValue.appendChild(h));adf.mf.api.amx.applyRequiredMarker(a,d);g||d.isReadOnly||(adf.mf.api.amx.addBubbleEventListener(n,"tap",function(c){c.stopPropagation();var d=c.pageX;if(void 0!=d&&0!=d)d=c.pageX;else if(c.touches&&0<c.touches.length)d=c.touches[0].pageX;else if(c.changedTouches&&0<c.changedTouches.length)d=
c.changedTouches[0].pageX;else return;var e=adf.mf.internal.amx.getElementLeft(n),d=(d-e)/n.offsetWidth;"rtl"==document.documentElement.dir&&(d=1-d);d=d*(a._max-a._min)+a._min;a._oldValue=a._currentValue;c.data._setValue(d,a);a.setAttributeResolvedValue("value",a._currentValue);c=new amx.ValueChangeEvent(a._oldValue,a._currentValue);adf.mf.api.amx.processAmxEvent(a,"valueChange","value",a._currentValue,c)},this),adf.mf.api.amx.addDragListener(u,{start:function(c,d){d.requestDragLock(this,!0,!0);c.preventDefault();
c.stopPropagation();d.preventDefault=!0;d.stopPropagation=!0;a._oldValue=a._currentValue},drag:function(c,d){c.preventDefault();c.stopPropagation();d.preventDefault=!0;d.stopPropagation=!0;var e="rtl"==document.documentElement.dir,g=parseInt(e?u.style.right:u.style.left,10),h=u.offsetWidth/2,g=g+(e?-d.deltaPageX:d.deltaPageX),k=null;g<-h?(g=-h,k=a._min):g>n.offsetWidth-h?(g=n.offsetWidth-h,k=a._max):(isNaN(k),k=(g+h)/n.offsetWidth*(a._max-a._min)+a._min,k=Math.round(k/a._step)*a._step);e?u.style.right=
g+"px":u.style.left=g+"px";w.style.width=g+h+"px";n.setAttribute("data-value",k);a._currentValue!=k&&(a._currentValue=k)},end:function(c,d){c.preventDefault();c.stopPropagation();d.preventDefault=!0;d.stopPropagation=!0;c.data._setValue(a._currentValue,a);a.setAttributeResolvedValue("value",a._currentValue);var e=new amx.ValueChangeEvent(a._oldValue,a._currentValue);adf.mf.api.amx.processAmxEvent(a,"valueChange","value",a._currentValue,e);a._oldValue=a._currentValue}},this));return e};a.prototype.__getTestJavaScriptURI=
function(a){return"js/testing/amx-inputNumberSlider.js"};a.prototype._setValue=function(a,c){var d=c._min,e=c._max,g=c._step,h=c._currentValue,k=c.getId(),m=document.getElementById(k+"::slider"),n=document.getElementById(k+"::valveBg"),t=0;null!=m&&(t=m.offsetWidth);isNaN(a)&&(a=d);a=Math.round(a/g)*g;a<=d&&(a=d);a>=e&&(a=e);g=n.offsetWidth/2;d=(a-d)/(e-d)*t;null!=m&&("rtl"==document.documentElement.dir?n.style.right=d-g+"px":n.style.left=d-g+"px",document.getElementById(k+"::selected").style.width=
d+"px",m.setAttribute("data-value",a));h!=a&&(c._currentValue=a,h=document.getElementById(k+"::valve"),null!=h&&h.setAttribute("aria-valuenow",a))};a.prototype.init=function(a,c){var d=c.getId(),e=document.getElementById(d+"::slider");null!=e&&this._setValue(1*e.getAttribute("data-value"),c);d={typeHandler:this,amxNode:c,amxNodeId:d};c.setVolatileState({resizeData:d});adf.mf.api.amx.addBubbleEventListener(window,"resize",this._handleResize,d);adf.mf.api.amx.addBubbleEventListener(a,"resize",this._handleResize,
d)};a.prototype.preDestroy=function(a,c){var d=c.getVolatileState();d&&(d=d.resizeData)&&adf.mf.api.amx.removeBubbleEventListener(window,"resize",this._handleResize,d)};a.prototype._handleResize=function(a){a=a.data;var c=a.typeHandler,d=a.amxNode,e=a.amxNodeId,g=document.getElementById(e+"::slider");document.getElementById(e+"::valveBg");adf.mf.internal.amx.isAncestor(document.body,g)?c._setValue(1*g.getAttribute("data-value"),d):adf.mf.api.amx.removeBubbleEventListener(window,"resize",c._handleResize,
a)}})();